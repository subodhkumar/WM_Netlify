{"version":3,"file":"index.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://@wm/mobile/variables/services/calendar-service.ts","ng://@wm/mobile/variables/services/camera-service.ts","ng://@wm/mobile/variables/services/file-service.ts","ng://@wm/mobile/variables/services/datasync-service.ts","ng://@wm/mobile/variables/services/device-service.ts","ng://@wm/mobile/variables/services/contacts-service.ts","ng://@wm/mobile/variables/services/scan-service.ts","ng://@wm/mobile/variables/variables.module.ts","ng://@wm/mobile/variables/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Calendar } from '@ionic-native/calendar';\n\nimport { DeviceVariableService, IDeviceVariableOperation } from '@wm/variables';\n\nconst DEFAULT_TIME = new Date().getTime();\n/*3 months timestamp value*/\nconst DELTA_VALUE_DATE =  (3 * 30 * 24 * 60 * 60 * 1000);\nconst DEFAULT_START_DATE = (DEFAULT_TIME - DELTA_VALUE_DATE);\nconst DEFAULT_END_DATE = (DEFAULT_TIME + DELTA_VALUE_DATE);\nconst EVENT_META = {\n    title: '',\n    message: '',\n    location: '',\n    startDate: new Date(),\n    endDate: new Date()\n};\n\n/**\n * this file contains all calendar operations under 'calendar' service.\n */\nexport class CalendarService extends DeviceVariableService {\n    public readonly name = 'calendar';\n    public readonly operations: IDeviceVariableOperation[] = [];\n\n    constructor(calendar: Calendar) {\n        super();\n        this.operations.push(new CreateEventOperation(calendar),\n            new DeleteEventOperation(calendar),\n            new GetEventsOperation(calendar));\n    }\n}\n\nclass CreateEventOperation implements IDeviceVariableOperation {\n    public readonly name = 'createEvent';\n    public readonly properties = [\n            {target: 'eventTitle', type: 'string', dataBinding: true},\n            {target: 'eventNotes', type: 'string', dataBinding: true},\n            {target: 'eventLocation', type: 'string', dataBinding: true},\n            {target: 'eventStart', type: 'datetime', dataBinding: true},\n            {target: 'eventEnd', type: 'datetime', dataBinding: true}\n        ];\n    public readonly requiredCordovaPlugins = ['CALENDAR'];\n\n    constructor(private calendar: Calendar) {\n\n    }\n\n    public invoke(variable: any, options: any, eventInfo: Map<string, any>): Promise<any> {\n        return this.calendar.createEvent(\n            eventInfo.get('eventTitle'),\n            eventInfo.get('eventLocation'),\n            eventInfo.get('eventNotes'),\n            new Date(eventInfo.get('eventStart') || 0),\n            new Date(eventInfo.get('eventEnd') || 0));\n    }\n}\n\nclass DeleteEventOperation implements IDeviceVariableOperation {\n    public readonly name = 'deleteEvent';\n    public readonly properties = [\n        {target: 'eventTitle', type: 'string', dataBinding: true},\n        {target: 'eventNotes', type: 'string', dataBinding: true},\n        {target: 'eventLocation', type: 'string', dataBinding: true},\n        {target: 'eventStart', type: 'datetime', dataBinding: true},\n        {target: 'eventEnd', type: 'datetime', dataBinding: true}\n    ];\n    public readonly requiredCordovaPlugins = ['CALENDAR'];\n\n    constructor(private calendar: Calendar) {\n\n    }\n\n    public invoke(variable: any, options: any, eventInfo: Map<string, any>): Promise<any> {\n        return this.calendar.deleteEvent(\n            eventInfo.get('eventTitle'),\n            eventInfo.get('eventLocation'),\n            eventInfo.get('eventNotes'),\n            new Date(eventInfo.get('eventStart') || DEFAULT_START_DATE),\n            new Date(eventInfo.get('eventEnd') || DEFAULT_END_DATE));\n    }\n}\n\nclass GetEventsOperation implements IDeviceVariableOperation {\n    public readonly name = 'getEvents';\n    public readonly model = [EVENT_META];\n    public readonly properties = [\n        {target: 'eventTitle', type: 'string', dataBinding: true},\n        {target: 'eventNotes', type: 'string', dataBinding: true},\n        {target: 'eventLocation', type: 'string', dataBinding: true},\n        {target: 'eventStart', type: 'datetime', dataBinding: true},\n        {target: 'eventEnd', type: 'datetime', dataBinding: true}\n    ];\n    public readonly requiredCordovaPlugins = ['CALENDAR'];\n\n    constructor(private calendar: Calendar) {\n\n    }\n\n    public invoke(variable: any, options: any, eventInfo: Map<string, any>): Promise<any> {\n        return this.calendar.findEvent(\n            eventInfo.get('eventTitle'),\n            eventInfo.get('eventLocation'),\n            eventInfo.get('eventNotes'),\n            new Date(eventInfo.get('eventStart') || DEFAULT_START_DATE),\n            new Date(eventInfo.get('eventEnd') || DEFAULT_END_DATE));\n    }\n}\n","import { Camera } from '@ionic-native/camera';\nimport { MediaCapture } from '@ionic-native/media-capture';\n\nimport { isNumber } from '@wm/core';\nimport { DeviceVariableService, IDeviceVariableOperation } from '@wm/variables';\n\nexport class CameraService extends DeviceVariableService {\n    public readonly name = 'camera';\n    public readonly operations: IDeviceVariableOperation[] = [];\n\n    constructor(camera: Camera, mediaCapture: MediaCapture) {\n        super();\n        this.operations.push(new CaptureImageOperation(camera),\n            new CaptureVideoOperation(mediaCapture));\n    }\n}\n\nclass CaptureImageOperation implements IDeviceVariableOperation {\n    public readonly name = 'captureImage';\n    public readonly model = {\n        imagePath: 'resources/images/imagelists/default-image.png'\n    };\n    public readonly properties = [\n            {target: 'allowImageEdit', type: 'boolean', value: false, dataBinding: true},\n            {target: 'imageQuality', type: 'number', value: 80, dataBinding: true},\n            {target: 'imageEncodingType', type: 'list', options: {'0': 'JPEG', '1': 'PNG'}, value: '0', dataBinding: true},\n            {target: 'correctOrientation', type: 'boolean', value: true, dataBinding: true},\n            {target: 'imageTargetWidth', type: 'number', dataBinding: true},\n            {target: 'imageTargetHeight', type: 'number', dataBinding: true}\n        ];\n    public readonly requiredCordovaPlugins = ['CAMERA', 'CAPTURE'];\n\n    constructor(private camera: Camera) {\n\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        const imageTargetWidth = dataBindings.get('imageTargetWidth'),\n            imageTargetHeight = dataBindings.get('imageTargetHeight');\n        let imageEncodingType = parseInt(dataBindings.get('imageEncodingType'), 10),\n            cameraOptions;\n        if (isNaN(imageEncodingType)) {\n            imageEncodingType = (dataBindings.get('imageEncodingType') === 'JPEG' ? 0 : 1);\n        }\n        cameraOptions = {\n                quality           : dataBindings.get('imageQuality'),\n                destinationType   : 1, // only file url\n                sourceType        : 1, // camera\n                allowEdit         : dataBindings.get('allowImageEdit'),\n                encodingType      : imageEncodingType,\n                mediaType         : 0, // always picture\n                correctOrientation: dataBindings.get('correctOrientation'),\n                targetWidth       : isNumber(imageTargetWidth) ?  imageTargetWidth : undefined,\n                targetHeight      : isNumber(imageTargetHeight) ? imageTargetHeight : undefined,\n            };\n        return this.camera.getPicture(cameraOptions).then( data => {\n            return {imagePath: data};\n        });\n    }\n}\n\nclass CaptureVideoOperation implements IDeviceVariableOperation {\n    public readonly name = 'captureVideo';\n    public readonly model = {\n        videoPath: ''\n    };\n    public readonly properties = [];\n    public readonly requiredCordovaPlugins = ['CAMERA', 'CAPTURE'];\n\n    constructor(private mediaCapture: MediaCapture) {\n\n    }\n\n    public invoke(variable: any, options: any): Promise<any> {\n        return this.mediaCapture.captureVideo({\n            limit : 1\n        }).then( data => {\n            return {videoPath: data[0].fullPath};\n        });\n    }\n}\n","import { isValidWebURL } from '@wm/core';\nimport { DeviceFileOpenerService, DeviceFileUploadService } from '@wm/mobile/core';\nimport { $rootScope, DeviceVariableService, IDeviceVariableOperation } from '@wm/variables';\n\ndeclare const _;\n\nexport class FileService extends DeviceVariableService {\n    name = 'file';\n    operations: IDeviceVariableOperation[] = [];\n\n    constructor(fileOpener: DeviceFileOpenerService, fileUploader: DeviceFileUploadService) {\n        super();\n        this.operations.push(new OpenFileOperation(fileOpener),\n            new UploadFileOperation(fileUploader));\n    }\n}\n\nclass OpenFileOperation implements IDeviceVariableOperation {\n\n    private _defaultFileTypesToOpen = {\n        'doc' : {'label' : 'Microsoft Office Word Document', 'mimeType' : 'application/msword', 'extension' : 'doc'},\n        'pdf' : {'label' : 'PDF Document', 'mimeType' : 'application/pdf', 'extension' : 'pdf'},\n        'ppt' : {'label' : 'Microsoft Office Powerpoint', 'mimeType' : 'application/vnd.ms-powerpoint', 'extension' : 'ppt'},\n        'xls' : {'label' : 'Microsoft Office Excel', 'mimeType' : 'application/vnd.ms-excel', 'extension' : 'xls'}\n    };\n\n    public readonly name = 'openFile';\n    public readonly model = {};\n    public readonly properties = [\n        {target: 'filePath', type: 'string', value: '', dataBinding: true},\n        {target: 'fileType', type: 'list', options: _.mapValues(this._defaultFileTypesToOpen, 'label'),  value: 'pdf', dataBinding: true, hide: true},\n        {target: 'spinnerContext', hide: false},\n        {target: 'spinnerMessage', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = [];\n\n    constructor(private fileOpener: DeviceFileOpenerService) {}\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        const fileType = this._defaultFileTypesToOpen[dataBindings.get('fileType')];\n        let filePath = dataBindings.get('filePath');\n        // if relative path is given, then append url with deployedUrl, to access files in resources.\n        if (!isValidWebURL(filePath)) {\n            filePath = $rootScope.project.deployedUrl + filePath;\n        }\n        return this.fileOpener.openRemoteFile(filePath, fileType.extension);\n    }\n}\n\nclass UploadFileOperation implements IDeviceVariableOperation {\n\n    public readonly name = 'upload';\n    public readonly model = {\n        fileName    : '',\n        path        : '',\n        length      : 0,\n        success     : false,\n        inlinePath  : '',\n        errorMessage: '',\n        inProgress  : false,\n        loaded      : 0\n    };\n    public readonly properties = [\n        {target: 'localFile', type: 'string', value: '', dataBinding: true},\n        {target: 'remoteFolder', type: 'string', value: '', dataBinding: true},\n        {target: 'onProgress', hide : false},\n        {target: 'spinnerContext', hide : false},\n        {target: 'spinnerMessage', hide : false}\n    ];\n    public readonly requiredCordovaPlugins = [];\n\n    constructor(private fileUploader: DeviceFileUploadService) {}\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        const serverUrl = $rootScope.project.deployedUrl + 'services/file/uploadFile?relativePath=' + (dataBindings.get('remoteFolder') || ''),\n            filePath = dataBindings.get('localFile'),\n            fileName = filePath.split('/').pop(),\n            data = {\n                fileName    : fileName,\n                fileSize    : 0,\n                inProgress  : true,\n                length      : 0,\n                loaded      : 0\n            };\n        return this.fileUploader.upload(serverUrl, 'files', filePath, fileName)\n            .then(uploadResponse => {\n                _.assignIn(data, JSON.parse(uploadResponse.text)[0]);\n                data.loaded = data.length;\n                return data;\n            });\n    }\n}\n","import { Observer } from 'rxjs/index';\n\nimport { App, noop, toPromise } from '@wm/core';\nimport { NetworkService } from '@wm/mobile/core';\nimport { FileSelectorService, ProcessApi, ProcessManagementService } from '@wm/mobile/components';\nimport { Change, ChangeLogService, LocalDBManagementService, LocalDBDataPullService, PushInfo, PullInfo } from '@wm/mobile/offline';\nimport { DeviceVariableService, IDeviceVariableOperation, initiateCallback, VARIABLE_CONSTANTS } from '@wm/variables';\nimport { SecurityService } from '@wm/security';\n\ndeclare const _;\n\nconst APP_IS_OFFLINE = 'App is offline.';\nconst OFFLINE_PLUGIN_NOT_FOUND = 'Offline DB Plugin is required, but missing.';\nconst ON_BEFORE_BLOCKED = 'onBefore callback returned false.';\nconst REQUIRED_PLUGINS = ['OFFLINE_DB', 'NETWORK'];\n\nexport class DatasyncService extends DeviceVariableService {\n    public readonly name = 'datasync';\n    public readonly operations: IDeviceVariableOperation[] = [];\n\n    constructor(app: App,\n                changeLogService: ChangeLogService,\n                fileSelectorService: FileSelectorService,\n                localDBManagementService: LocalDBManagementService,\n                localDBDataPullService: LocalDBDataPullService,\n                processManagementService: ProcessManagementService,\n                securityService: SecurityService,\n                networkService: NetworkService) {\n        super();\n        this.operations.push(new ExportDBOperation(localDBManagementService));\n        this.operations.push(new GetOfflineChangesOperation(changeLogService));\n        this.operations.push(new ImportDBOperation(fileSelectorService, localDBManagementService));\n        this.operations.push(new LastPullInfoOperation(localDBDataPullService));\n        this.operations.push(new LastPushInfoOperation(changeLogService));\n        this.operations.push(new PullOperation(app, processManagementService, networkService, securityService, localDBDataPullService));\n        this.operations.push(new PushOperation(app, changeLogService, processManagementService, networkService, securityService));\n    }\n}\n\nclass ExportDBOperation implements IDeviceVariableOperation {\n    public readonly name = 'exportDB';\n    public readonly model = {path: ''};\n    public readonly properties = [\n        {target: 'spinnerContext', hide: false},\n        {target: 'spinnerMessage', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(private localDBManagementService: LocalDBManagementService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (window['SQLitePlugin']) {\n            return this.localDBManagementService.exportDB();\n        }\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n}\n\n\nclass GetOfflineChangesOperation implements IDeviceVariableOperation {\n    private static DATA_CHANGE_TEMPLATE = {\n        service: 'DatabaseService',\n        operation: 'operation',\n        params: {\n            data: {},\n            dataModelName: 'dataModelName',\n            entityName: 'entityName'\n        },\n        hasError: 0,\n        errorMessage: ''\n    };\n    private static CHANGE_LOG_SET = {\n        total: 0,\n        database: {\n            create: [GetOfflineChangesOperation.DATA_CHANGE_TEMPLATE],\n            update: [GetOfflineChangesOperation.DATA_CHANGE_TEMPLATE],\n            delete: [GetOfflineChangesOperation.DATA_CHANGE_TEMPLATE]\n        },\n        uploads: [{\n            service: 'OfflineFileUploadService',\n            operation: 'uploadToServer',\n            params: {\n                file: 'localFilePath',\n                serverUrl: 'serverUrl',\n                ftOptions: {}\n            },\n            hasError: 0,\n            errorMessage: ''\n        }]\n    };\n    public readonly name = 'getOfflineChanges';\n    public readonly model = {\n        total: 0,\n        pendingToSync: GetOfflineChangesOperation.CHANGE_LOG_SET,\n        failedToSync: GetOfflineChangesOperation.CHANGE_LOG_SET\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide: true},\n        {target: 'autoUpdate', type: 'boolean', value: true, hide: true}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(private changeLogService: ChangeLogService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (window['SQLitePlugin']) {\n            return getOfflineChanges(this.changeLogService);\n        }\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n}\n\nclass LastPullInfoOperation implements IDeviceVariableOperation {\n    public readonly name = 'lastPullInfo';\n    public readonly model = {\n        databases : [{\n            name : 'datbaseName',\n            entities: [{\n                entityName: 'entityName',\n                pulledRecordCount: 0\n            }],\n            pulledRecordCount: 0\n        }],\n        totalPulledRecordCount: 0,\n        startTime: new Date().toJSON(),\n        endTime: new Date().toJSON()\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide: true},\n        {target: 'spinnerContext', hide: false},\n        {target: 'spinnerMessage', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(private localDBDataPullService: LocalDBDataPullService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (window['SQLitePlugin']) {\n            return this.localDBDataPullService.getLastPullInfo();\n        }\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n}\n\nclass LastPushInfoOperation implements IDeviceVariableOperation {\n    public readonly name = 'lastPushInfo';\n    public readonly model = {\n        successfulTaskCount: 0,\n        failedTaskCount: 0,\n        completedTaskCount: 0,\n        totalTaskCount: 0,\n        startTime: new Date().toJSON(),\n        endTime: new Date().toJSON()\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide: true},\n        {target: 'spinnerContext', hide: false},\n        {target: 'spinnerMessage', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(private changeLogService: ChangeLogService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (window['SQLitePlugin']) {\n            return this.changeLogService.getLastPushInfo();\n        }\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n}\n\nclass ImportDBOperation implements IDeviceVariableOperation {\n    public readonly name = 'importDB';\n    public readonly model = {};\n    public readonly properties = [\n        {target: 'spinnerContext', hide: false},\n        {target: 'spinnerMessage', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(\n        private fileSelectorService: FileSelectorService,\n        private localDBManagementService: LocalDBManagementService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (window['SQLitePlugin']) {\n            return this.fileSelectorService.selectFiles(false,  'zip')\n                .then(files => {\n                if (files && files.length) {\n                    return this.localDBManagementService.importDB(files[0].path, true);\n                }\n            });\n        }\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n}\n\nclass PullOperation implements IDeviceVariableOperation {\n    public readonly name = 'pull';\n    public readonly model = {\n        totalTaskCount: 0,\n        completedTaskCount: 0,\n        inProgress: false\n    };\n    public readonly properties = [\n        {target: 'clearData', type: 'boolean', widgettype: 'boolean-inputfirst', value: true, group: 'properties', subGroup: 'behavior'},\n        {target: 'startUpdate', type: 'boolean', hide: false},\n        {target: 'onBefore', hide: false},\n        {target: 'onProgress', hide: false},\n        {target: 'showProgress', hide: false}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(\n        private app: App,\n        private processManagementService: ProcessManagementService,\n        private networkService: NetworkService,\n        private securityService: SecurityService,\n        private localDBDataPullService: LocalDBDataPullService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        let progressInstance;\n        return canExecute(variable, this.networkService, this.securityService)\n            .then(() => {\n                if (variable.showProgress) {\n                    return this.processManagementService.createInstance(this.app.appLocale.LABEL_DATA_PULL_PROGRESS, 0, 0);\n                }\n                return null;\n            }).then((instance: ProcessApi) => {\n                const progressObserver: Observer<PullInfo> = {\n                    next: (pullInfo: PullInfo) => {\n                        // variable.dataSet = progress; Todo: progress\n                        initiateCallback('onProgress', variable, pullInfo);\n                        if (progressInstance) {\n                            progressInstance.set('max', pullInfo.totalRecordsToPull);\n                            progressInstance.set('value', pullInfo.totalPulledRecordCount);\n                        }\n                    }, error: noop, complete: noop};\n\n                const clearData = variable.clearData === 'true' || variable.clearData === true,\n                    pullPromise = this.localDBDataPullService.pullAllDbData(clearData, progressObserver);\n                if (instance) {\n                    progressInstance = instance;\n                    progressInstance.set('stopButtonLabel', this.app.appLocale.LABEL_DATA_PULL_PROGRESS_STOP_BTN);\n                    progressInstance.set('onStop', () => {\n                        this.localDBDataPullService.cancel(pullPromise);\n                    });\n                }\n            return pullPromise;\n        }).catch(pullInfo => pullInfo)\n            .then(pullInfo => {\n                if (progressInstance) {\n                    progressInstance.destroy();\n                }\n                return pullInfo;\n            });\n    }\n}\n\nclass PushOperation implements IDeviceVariableOperation {\n    public readonly name = 'push';\n    public readonly model = {\n        successfulTaskCount: 0,\n        failedTaskCount: 0,\n        completedTaskCount: 0,\n        totalTaskCount: 0,\n        inProgress: false\n    };\n    public readonly properties = [\n        {target: 'onBefore', hide: false},\n        {target: 'onProgress', hide: false},\n        {target: 'showProgress', 'hide': false, 'value': true}\n    ];\n    public readonly requiredCordovaPlugins = REQUIRED_PLUGINS;\n\n    constructor(private app: App,\n                private changeLogService: ChangeLogService,\n                private processManagementService: ProcessManagementService,\n                private networkService: NetworkService,\n                private securityService: SecurityService) {\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        let progressInstance;\n        if (this.changeLogService.isFlushInProgress()) {\n            return Promise.resolve();\n        }\n        return canExecute(variable, this.networkService, this.securityService)\n            .then(() => getOfflineChanges(this.changeLogService))\n            .then(changes => {\n                if (changes.pendingToSync.total <= 0) {\n                    return Promise.reject(_.clone(this.model));\n                }\n            }).then(() => {\n                if (variable.showProgress) {\n                    return this.processManagementService.createInstance(this.app.appLocale.LABEL_DATA_PUSH_PROGRESS, 0, 0);\n                }\n                return null;\n            }).then((instance: ProcessApi) => {\n                const progressObserver: Observer<PushInfo> = {\n                    next: (pushInfo: PushInfo) => {\n                        pushInfo = addOldPropertiesForPushData(pushInfo);\n                        initiateCallback('onProgress', variable, pushInfo);\n                        if (progressInstance) {\n                            progressInstance.set('max', pushInfo.totalTaskCount);\n                            progressInstance.set('value', pushInfo.completedTaskCount);\n                        }\n                    }, error: noop, complete: noop};\n                const pushPromise = this.changeLogService.flush(progressObserver);\n                if (instance) {\n                    progressInstance = instance;\n                    progressInstance.set('stopButtonLabel', this.app.appLocale.LABEL_DATA_PUSH_PROGRESS_STOP_BTN);\n                    progressInstance.set('onStop', () => this.changeLogService.stop());\n                }\n                return pushPromise;\n            })\n            .catch(pushInfo => pushInfo)\n            .then(pushInfo => {\n                if (progressInstance) {\n                    progressInstance.destroy();\n                }\n                if (pushInfo && pushInfo.totalTaskCount !== undefined) {\n                    pushInfo = addOldPropertiesForPushData(pushInfo);\n                    if (pushInfo.failedTaskCount !== 0) {\n                        return Promise.reject(pushInfo);\n                    }\n                    return pushInfo;\n                }\n                return Promise.reject(pushInfo);\n            });\n    }\n}\n\n/**\n * This function adds the old properties to the push dataSet to support old projects.\n * @param data\n * @returns {*}\n */\nconst addOldPropertiesForPushData = data => {\n    const result = _.clone(data);\n    result.success = data.successfulTaskCount;\n    result.error = data.failedTaskCount;\n    result.completed = data.completedTaskCount;\n    result.total = data.totalTaskCount;\n    return result;\n};\n\nconst canExecute = (variable: any, networkService: NetworkService, securityService: SecurityService) => {\n    if (!window['SQLitePlugin']) {\n        return Promise.reject(OFFLINE_PLUGIN_NOT_FOUND);\n    }\n    if (!networkService.isConnected()) {\n        return Promise.reject(APP_IS_OFFLINE);\n    }\n    return toPromise(initiateCallback(VARIABLE_CONSTANTS.EVENT.BEFORE, variable, null))\n        .then(proceed => {\n            if (proceed === false) {\n                return Promise.reject(ON_BEFORE_BLOCKED);\n            }\n            // If user is authenticated and online, then start the data pull process.\n            return securityService.onUserLogin();\n        });\n};\n\nconst generateChangeSet = (changes: Change[]) => {\n    const createChanges =  _.filter(changes, c => {\n        return c.service === 'DatabaseService' &&\n            (c.operation === 'insertTableData'\n                || c.operation === 'insertMultiPartTableData');\n    }), updateChanges =  _.filter(changes, c => {\n        return c.service === 'DatabaseService' &&\n            (c.operation === 'updateTableData'\n                || c.operation === 'updateMultiPartTableData');\n    });\n    return {\n        total: changes ? changes.length : 0,\n        database: {\n            create: createChanges,\n            update: updateChanges,\n            delete: _.filter(changes, {service: 'DatabaseService', operation: 'deleteTableData'})\n        },\n        uploads: _.filter(changes, {service: 'OfflineFileUploadService', operation: 'uploadToServer'})\n    };\n};\n\nconst getOfflineChanges = (changeLogService: ChangeLogService) => {\n    return changeLogService.getChanges().then(changes => {\n        return {\n            'total' : changes ? changes.length : 0,\n            'pendingToSync' : generateChangeSet(_.filter(changes, {'hasError' : 0})),\n            'failedToSync' : generateChangeSet(_.filter(changes, {'hasError' : 1}))\n        };\n    });\n};\n","import { AppVersion } from '@ionic-native/app-version';\nimport { Device } from '@ionic-native/device';\nimport { Geolocation, GeolocationOptions } from '@ionic-native/geolocation';\nimport { Vibration } from '@ionic-native/vibration';\n\nimport { $appDigest, App } from '@wm/core';\nimport { NetworkService } from '@wm/mobile/core';\nimport { DeviceVariableService, IDeviceVariableOperation, initiateCallback } from '@wm/variables';\n\ndeclare const navigator, $;\n/**\n * this file contains all device operations under 'device' service.\n */\nexport class DeviceService extends DeviceVariableService {\n    public readonly name = 'device';\n    public readonly operations: IDeviceVariableOperation[] = [];\n\n    constructor(app: App,\n        appVersion: AppVersion,\n        device: Device,\n        geoLocation: Geolocation,\n        networkService: NetworkService,\n        vibrateService: Vibration) {\n        super();\n        this.operations.push(new AppInfoOperation(device, appVersion),\n            new CurrentGeoPositionOperation(geoLocation),\n            new DeviceInfoOperation(device),\n            new GetNetworkInfoOperation(app, networkService),\n            new GoOfflineOperation(networkService),\n            new GoOnlineOperation(networkService),\n            new VibrateOperation(vibrateService));\n        app.subscribe('onNetworkStateChange', data => {\n            app.networkStatus = data;\n            $appDigest();\n        });\n        app.networkStatus = {\n            isConnecting : false,\n            isConnected : true,\n            isNetworkAvailable : true,\n            isServiceAvailable : true\n        };\n    }\n}\n\n\n/**\n * This class handles 'getAppInfo' device operation.\n */\nclass AppInfoOperation implements IDeviceVariableOperation {\n    public readonly name = 'getAppInfo';\n    public readonly model = {\n        appversion: 'X.X.X',\n        cordovaversion: 'X.X.X'\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide: true}\n    ];\n\n    constructor (private device: Device, private appVersion: AppVersion) {\n\n    }\n\n    public invoke(variable: any, options: any): Promise<any> {\n        const cordovaVersion = this.device.cordova;\n        return this.appVersion.getVersionNumber().then(appVersion => {\n            return {\n                appversion: appVersion,\n                cordovaversion: cordovaVersion\n            };\n        });\n    }\n}\n\n/**\n * This class handles 'getCurrentGeoPosition' device operation.\n */\nclass CurrentGeoPositionOperation implements IDeviceVariableOperation {\n    public readonly name = 'getCurrentGeoPosition';\n    public readonly model = {\n        coords: {\n            latitude: 0,\n            longitude: 0,\n            altitude: 0,\n            accuracy: 0,\n            altitudeAccuracy: 0,\n            heading: 0,\n            speed: 0\n        },\n        timestamp: 0\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide : true},\n        {target: 'autoUpdate', type: 'boolean', value: true, hide : true},\n        {target: 'geolocationHighAccuracy', type: 'boolean', value: true, dataBinding: true},\n        {target: 'geolocationMaximumAge', type: 'number', value: 3, dataBinding: true},\n        {target: 'geolocationTimeout', type: 'number', value: 5, dataBinding: true}\n    ];\n    public readonly requiredCordovaPlugins = ['GEOLOCATION'];\n\n    private lastKnownPosition;\n    private waitingQueue = [];\n    private watchId;\n    private options = {\n        maximumAge: 3000,\n        timeout: (2 * 60) * 1000,\n        enableHighAccuracy: true\n    };\n\n    constructor (private geoLocation: Geolocation) {}\n\n    private watchPosition() {\n        if (this.watchId) {\n            navigator.geolocation.clearWatch(this.watchId);\n            this.watchId = null;\n        }\n        const options = window['WM_GEO_LOCATION_OPTIONS'] || this.options;\n        this.watchId = navigator.geolocation.watchPosition(position => {\n            this.lastKnownPosition = {\n                coords: {\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                    altitude: position.coords.altitude,\n                    accuracy: position.coords.accuracy,\n                    altitudeAccuracy: position.coords.altitudeAccuracy,\n                    heading: position.coords.heading,\n                    speed: position.coords.speed\n                },\n                timestamp: position.timestamp\n            };\n            if (this.waitingQueue.length > 0) {\n                this.waitingQueue.forEach(fn => fn(this.lastKnownPosition));\n                this.waitingQueue.length = 0;\n            }\n            $(document).off('touchend.usergesture');\n        }, () => {\n            this.watchId = null;\n        }, options);\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        if (!this.watchId || !this.lastKnownPosition) {\n            this.watchPosition();\n            $(document).on('touchend.usergesture', () => this.watchPosition());\n        }\n        const geoLocationOptions: GeolocationOptions = {\n            maximumAge: dataBindings.get('geolocationMaximumAge') * 1000,\n            timeout: dataBindings.get('geolocationTimeout') * 1000,\n            enableHighAccuracy: dataBindings.get('geolocationHighAccuracy')\n        };\n        if (this.lastKnownPosition) {\n            return Promise.resolve(this.lastKnownPosition);\n        }\n        return new Promise(resolve => {\n            const c = position => {\n                resolve(position);\n            };\n            setTimeout(() => {\n                const index = this.waitingQueue.indexOf(c);\n                if (index > -1) {\n                    this.waitingQueue.splice(index, 1);\n                    resolve(this.model);\n                }\n            }, this.options.timeout);\n\n            this.waitingQueue.push(c);\n        });\n    }\n}\n\n\n\n/**\n * This class handles 'getDeviceInfo' device operation.\n */\nclass DeviceInfoOperation implements IDeviceVariableOperation {\n    public readonly name = 'getDeviceInfo';\n    public readonly model = {\n        deviceModel: 'DEVICEMODEL',\n        os: 'DEVICEOS',\n        osVersion: 'X.X.X',\n        deviceUUID: 'DEVICEUUID'\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean', value: true, hide: true}\n    ];\n\n    constructor (private device: Device) {\n\n    }\n\n    public invoke(variable: any, options: any): Promise<any> {\n        const response = {\n            'deviceModel': this.device.model,\n            'os': this.device.platform,\n            'osVersion': this.device.version,\n            'deviceUUID': this.device.uuid\n        };\n        return Promise.resolve(response);\n    }\n}\n\nclass GetNetworkInfoOperation implements IDeviceVariableOperation {\n    public readonly name = 'getNetworkInfo';\n    public readonly model = {\n        connectionType: 'NONE',\n        isConnecting: false,\n        isNetworkAvailable: true,\n        isOnline: true,\n        isOffline: false\n    };\n    public readonly properties = [\n        {target: 'autoUpdate', type: 'boolean', value: true, hide : true},\n        {target: 'startUpdate', type: 'boolean', value: true, hide : true},\n        {target: 'networkStatus', type: 'object', value: 'bind:App.networkStatus', dataBinding: true, hide: true},\n        {target: 'onOnline', hide : false},\n        {target: 'onOffline', hide : false}\n    ];\n    public readonly requiredCordovaPlugins = ['NETWORK'];\n\n    constructor (private app: App, private networkService: NetworkService) {\n\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        const data = {\n            connectionType: navigator.connection.type,\n            isConnecting: this.app.networkStatus.isConnecting,\n            isNetworkAvailable: this.app.networkStatus.isNetworkAvailable,\n            isOnline: this.app.networkStatus.isConnected,\n            isOffline: !this.app.networkStatus.isConnected\n        };\n        if (this.networkService.isConnected()) {\n            initiateCallback('onOnline', variable, data);\n        } else {\n            initiateCallback('onOffline', variable, data);\n        }\n        return Promise.resolve(data);\n    }\n}\n\nclass GoOfflineOperation implements IDeviceVariableOperation {\n    public readonly name = 'goOffline';\n    public readonly model = {};\n    public readonly properties = [];\n    public readonly requiredCordovaPlugins = ['NETWORK'];\n\n    constructor (private networkService: NetworkService) {\n\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        return this.networkService.disconnect();\n    }\n}\n\nclass GoOnlineOperation implements IDeviceVariableOperation {\n    public readonly name = 'goOnline';\n    public readonly model = {};\n    public readonly properties = [];\n    public readonly requiredCordovaPlugins = ['NETWORK'];\n\n    constructor (private networkService: NetworkService) {\n\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        return this.networkService.connect();\n    }\n}\n\n/**\n * This class handles 'vibrate' device operation.\n */\nclass VibrateOperation implements IDeviceVariableOperation {\n    public readonly name = 'vibrate';\n    public readonly model = {\n        appversion: 'X.X.X',\n        cordovaversion: 'X.X.X'\n    };\n    public readonly properties = [\n        {target: 'vibrationtime', type: 'number', value: 2, dataBinding: true}\n    ];\n    public readonly requiredCordovaPlugins = ['VIBRATE'];\n\n    constructor (private vibrationService: Vibration) {\n\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        this.vibrationService.vibrate(dataBindings.get('vibrationtime') * 1000);\n        return Promise.resolve();\n    }\n}\n","import { Contact, ContactFieldType, Contacts } from '@ionic-native/contacts';\n\nimport { DeviceVariableService, IDeviceVariableOperation } from '@wm/variables';\n\nexport class ContactsService extends DeviceVariableService {\n    public readonly name = 'contacts';\n    public readonly operations: IDeviceVariableOperation[] = [];\n\n    constructor(contacts: Contacts) {\n        super();\n        this.operations.push(new GetContactsOperation(contacts));\n    }\n}\n\nclass GetContactsOperation implements IDeviceVariableOperation {\n    public readonly name = 'getContacts';\n    public readonly model = {\n        id : '',\n        displayName : '',\n        phoneNumbers : [{value: ''}]\n    };\n    public readonly properties = [\n        {target: 'startUpdate', type: 'boolean'},\n        {target: 'autoUpdate', type: 'boolean'},\n        {target: 'contactFilter', type: 'string', value: '', dataBinding: true}\n    ];\n    public readonly requiredCordovaPlugins = ['CONTACTS'];\n\n    public waitingCalls: (() => void)[] = [];\n\n    constructor(private contacts: Contacts) {\n\n    }\n\n    private extractDisplayName(c: Contact): string {\n        const name = c.displayName;\n        // In IOS, displayName is undefined, so using the formatted name.\n        if (!name || name === '') {\n            if (c.name.formatted) {\n                return c.name.formatted;\n            }\n        }\n        return name;\n    }\n\n    private processNextCall() {\n        if (this.waitingCalls.length > 0) {\n            this.waitingCalls[0]();\n        }\n    }\n\n    private findContacts(requiredFields, findOptions): Promise<any> {\n        return new Promise<any>((resolve, reject) => {\n            // Contacts plugin is not processing two simultaneous calls. It is anwsering to only call.\n            this.waitingCalls.push(() => {\n                this.contacts.find(requiredFields, findOptions).then(data => {\n                    if (data != null) {\n                        const contacts = data.filter(c => {\n                            c.displayName = this.extractDisplayName(c);\n                            return c.phoneNumbers && c.phoneNumbers.length > 0;\n                        });\n                        resolve(contacts);\n                    }\n                }, reject).then(() => {\n                    this.waitingCalls.shift();\n                    this.processNextCall();\n                });\n            });\n            if (this.waitingCalls.length === 1) {\n                this.processNextCall();\n            }\n        });\n    }\n\n    public invoke(variable: any, options: any, dataBindings: Map<string, any>): Promise<any> {\n        const requiredFields: ContactFieldType[] = ['displayName', 'name'];\n        const findOptions = {\n            filter : dataBindings.get('contactFilter'),\n            multiple : true\n        };\n        return this.findContacts(requiredFields, findOptions);\n    }\n}\n","import { BarcodeScanner } from '@ionic-native/barcode-scanner';\n\nimport { DeviceVariableService, IDeviceVariableOperation } from '@wm/variables';\n\nconst barcodeFormatOptions = {\n    'ALL' : 'ALL',\n    'CODABAR' : 'CODABAR (not supported in iOS)',\n    'CODE_39' : 'CODE_39',\n    'CODE_93' : 'CODE_93 (not supported in iOS)',\n    'CODE_128' : 'CODE_128',\n    'DATA_MATRIX' : 'DATA_MATRIX',\n    'EAN_8' : 'EAN_8',\n    'EAN_13' : 'EAN_13',\n    'ITF' : 'ITF',\n    'PDF_417' : 'PDF_417 (not supported in iOS)',\n    'QR_CODE' : 'QR_CODE',\n    'RSS14' : 'RSS14 (not supported in iOS)',\n    'RSS_EXPANDED' : 'RSS_EXPANDED (not supported in iOS)',\n    'UPC_E' : 'UPC_E',\n    'UPC_A' : 'UPC_A'\n};\n\nexport class ScanService extends DeviceVariableService {\n    name = 'scan';\n    operations: IDeviceVariableOperation[] = [];\n\n    constructor(barcodeScanner: BarcodeScanner) {\n        super();\n        this.operations.push(new ScanOperation(barcodeScanner));\n    }\n}\n\nclass ScanOperation implements IDeviceVariableOperation {\n    public readonly name = 'scanBarCode';\n    public readonly model = {\n        text : 'BAR CODE',\n        format : 'TEXT',\n        cancelled : false\n    };\n    public readonly properties = [\n        {\n            target    : 'barcodeFormat',\n            type      : 'list',\n            options   : barcodeFormatOptions,\n            value     : 'ALL',\n            group     : 'properties',\n            subGroup  : 'behavior',\n            hide      : false\n        }\n    ];\n    public readonly requiredCordovaPlugins = ['BARCODE_SCANNER'];\n\n    constructor(private barcodeScanner: BarcodeScanner) {\n\n    }\n\n    public invoke(variable: any, options: any): Promise<any> {\n        let scanOptions;\n        if (variable.barcodeFormat && variable.barcodeFormat !== 'ALL') {\n            scanOptions = {formats : variable.barcodeFormat};\n        }\n        return this.barcodeScanner.scan(scanOptions);\n    }\n}\n","import { NgModule } from '@angular/core';\n\nimport { AppVersion } from '@ionic-native/app-version';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { Calendar } from '@ionic-native/calendar';\nimport { Camera } from '@ionic-native/camera';\nimport { Device } from '@ionic-native/device';\nimport { Contacts } from '@ionic-native/contacts';\nimport { MediaCapture } from '@ionic-native/media-capture';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Vibration } from '@ionic-native/vibration';\n\nimport { App } from '@wm/core';\nimport { DeviceFileOpenerService, DeviceFileUploadService, NetworkService } from '@wm/mobile/core';\nimport { ChangeLogService, LocalDBManagementService, LocalDBDataPullService, OfflineModule } from '@wm/mobile/offline';\nimport { SecurityService } from '@wm/security';\nimport { DeviceVariableManager, VARIABLE_CONSTANTS, VariableManagerFactory } from '@wm/variables';\n\nimport { CalendarService } from './services/calendar-service';\nimport { CameraService } from './services/camera-service';\nimport { FileService } from './services/file-service';\nimport { DatasyncService } from './services/datasync-service';\nimport { DeviceService } from './services/device-service';\nimport { ContactsService } from './services/contacts-service';\nimport { ScanService } from './services/scan-service';\nimport { FileSelectorService, ProcessManagementService } from '@wm/mobile/components';\n\n@NgModule({\n    imports: [\n        OfflineModule\n    ],\n    declarations: [],\n    providers: [\n        // add providers to mobile-runtime module.\n    ]\n})\nexport class VariablesModule {\n\n    private static initialized = false;\n    // Device variable services have to be added only once in the app life-cycle.\n    private static initialize(app: App,\n                              appVersion: AppVersion,\n                              barcodeScanner: BarcodeScanner,\n                              changeLogService: ChangeLogService,\n                              calendar: Calendar,\n                              contacts: Contacts,\n                              camera: Camera,\n                              fileOpener: DeviceFileOpenerService,\n                              fileSelectorService: FileSelectorService,\n                              fileUploader: DeviceFileUploadService,\n                              device: Device,\n                              geoLocation: Geolocation,\n                              localDBDataPullService: LocalDBDataPullService,\n                              localDBManagementService: LocalDBManagementService,\n                              mediaCapture: MediaCapture,\n                              processManagementService: ProcessManagementService,\n                              securityService: SecurityService,\n                              networkService: NetworkService,\n                              vibrateService: Vibration) {\n        if (this.initialized) {\n            return;\n        }\n        this.initialized = true;\n        const deviceVariableManager = VariableManagerFactory.get(VARIABLE_CONSTANTS.CATEGORY.DEVICE) as DeviceVariableManager;\n        deviceVariableManager.registerService(new CameraService(camera, mediaCapture));\n        deviceVariableManager.registerService(new CalendarService(calendar));\n        deviceVariableManager.registerService(new FileService(fileOpener, fileUploader));\n        deviceVariableManager.registerService(new ContactsService(contacts));\n        deviceVariableManager.registerService(new DatasyncService(app, changeLogService, fileSelectorService, localDBManagementService, localDBDataPullService, processManagementService, securityService, networkService));\n        deviceVariableManager.registerService(new DeviceService(app, appVersion, device, geoLocation, networkService, vibrateService));\n        deviceVariableManager.registerService(new ScanService(barcodeScanner));\n    }\n\n    constructor(\n        app: App,\n        appVersion: AppVersion,\n        barcodeScanner: BarcodeScanner,\n        changeLogService: ChangeLogService,\n        calendar: Calendar,\n        contacts: Contacts,\n        camera: Camera,\n        fileOpener: DeviceFileOpenerService,\n        fileSelectorService: FileSelectorService,\n        fileUploader: DeviceFileUploadService,\n        device: Device,\n        geoLocation: Geolocation,\n        localDBDataPullService: LocalDBDataPullService,\n        localDBManagementService: LocalDBManagementService,\n        mediaCapture: MediaCapture,\n        processManagementService: ProcessManagementService,\n        securityService: SecurityService,\n        networkService: NetworkService,\n        vibrateService: Vibration\n    ) {\n        VariablesModule.initialize(app,\n                                    appVersion,\n                                    barcodeScanner,\n                                    changeLogService,\n                                    calendar,\n                                    contacts,\n                                    camera,\n                                    fileOpener,\n                                    fileSelectorService,\n                                    fileUploader,\n                                    device,\n                                    geoLocation,\n                                    localDBDataPullService,\n                                    localDBManagementService,\n                                    mediaCapture,\n                                    processManagementService,\n                                    securityService,\n                                    networkService,\n                                    vibrateService);\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__extends","calendar","DeviceVariableService","camera","mediaCapture","isNumber","isValidWebURL","$rootScope","initiateCallback","noop","toPromise","VARIABLE_CONSTANTS","appVersion","device","$appDigest","contacts","barcodeScanner","VariableManagerFactory","NgModule","OfflineModule","App","AppVersion","BarcodeScanner","ChangeLogService","Calendar","Contacts","Camera","DeviceFileOpenerService","FileSelectorService","DeviceFileUploadService","Device","Geolocation","LocalDBDataPullService","LocalDBManagementService","MediaCapture","ProcessManagementService","SecurityService","NetworkService","Vibration"],"mappings":"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"}
