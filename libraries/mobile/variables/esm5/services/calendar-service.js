import * as tslib_1 from "tslib";
import { DeviceVariableService } from '@wm/variables';
var DEFAULT_TIME = new Date().getTime();
/*3 months timestamp value*/
var DELTA_VALUE_DATE = (3 * 30 * 24 * 60 * 60 * 1000);
var DEFAULT_START_DATE = (DEFAULT_TIME - DELTA_VALUE_DATE);
var DEFAULT_END_DATE = (DEFAULT_TIME + DELTA_VALUE_DATE);
var EVENT_META = {
    title: '',
    message: '',
    location: '',
    startDate: new Date(),
    endDate: new Date()
};
/**
 * this file contains all calendar operations under 'calendar' service.
 */
var CalendarService = /** @class */ (function (_super) {
    tslib_1.__extends(CalendarService, _super);
    function CalendarService(calendar) {
        var _this = _super.call(this) || this;
        _this.name = 'calendar';
        _this.operations = [];
        _this.operations.push(new CreateEventOperation(calendar), new DeleteEventOperation(calendar), new GetEventsOperation(calendar));
        return _this;
    }
    return CalendarService;
}(DeviceVariableService));
export { CalendarService };
var CreateEventOperation = /** @class */ (function () {
    function CreateEventOperation(calendar) {
        this.calendar = calendar;
        this.name = 'createEvent';
        this.properties = [
            { target: 'eventTitle', type: 'string', dataBinding: true },
            { target: 'eventNotes', type: 'string', dataBinding: true },
            { target: 'eventLocation', type: 'string', dataBinding: true },
            { target: 'eventStart', type: 'datetime', dataBinding: true },
            { target: 'eventEnd', type: 'datetime', dataBinding: true }
        ];
        this.requiredCordovaPlugins = ['CALENDAR'];
    }
    CreateEventOperation.prototype.invoke = function (variable, options, eventInfo) {
        return this.calendar.createEvent(eventInfo.get('eventTitle'), eventInfo.get('eventLocation'), eventInfo.get('eventNotes'), new Date(eventInfo.get('eventStart') || 0), new Date(eventInfo.get('eventEnd') || 0));
    };
    return CreateEventOperation;
}());
var DeleteEventOperation = /** @class */ (function () {
    function DeleteEventOperation(calendar) {
        this.calendar = calendar;
        this.name = 'deleteEvent';
        this.properties = [
            { target: 'eventTitle', type: 'string', dataBinding: true },
            { target: 'eventNotes', type: 'string', dataBinding: true },
            { target: 'eventLocation', type: 'string', dataBinding: true },
            { target: 'eventStart', type: 'datetime', dataBinding: true },
            { target: 'eventEnd', type: 'datetime', dataBinding: true }
        ];
        this.requiredCordovaPlugins = ['CALENDAR'];
    }
    DeleteEventOperation.prototype.invoke = function (variable, options, eventInfo) {
        return this.calendar.deleteEvent(eventInfo.get('eventTitle'), eventInfo.get('eventLocation'), eventInfo.get('eventNotes'), new Date(eventInfo.get('eventStart') || DEFAULT_START_DATE), new Date(eventInfo.get('eventEnd') || DEFAULT_END_DATE));
    };
    return DeleteEventOperation;
}());
var GetEventsOperation = /** @class */ (function () {
    function GetEventsOperation(calendar) {
        this.calendar = calendar;
        this.name = 'getEvents';
        this.model = [EVENT_META];
        this.properties = [
            { target: 'eventTitle', type: 'string', dataBinding: true },
            { target: 'eventNotes', type: 'string', dataBinding: true },
            { target: 'eventLocation', type: 'string', dataBinding: true },
            { target: 'eventStart', type: 'datetime', dataBinding: true },
            { target: 'eventEnd', type: 'datetime', dataBinding: true }
        ];
        this.requiredCordovaPlugins = ['CALENDAR'];
    }
    GetEventsOperation.prototype.invoke = function (variable, options, eventInfo) {
        return this.calendar.findEvent(eventInfo.get('eventTitle'), eventInfo.get('eventLocation'), eventInfo.get('eventNotes'), new Date(eventInfo.get('eventStart') || DEFAULT_START_DATE), new Date(eventInfo.get('eventEnd') || DEFAULT_END_DATE));
    };
    return GetEventsOperation;
}());
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B3bS9tb2JpbGUvdmFyaWFibGVzLyIsInNvdXJjZXMiOlsic2VydmljZXMvY2FsZW5kYXItc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsT0FBTyxFQUFFLHFCQUFxQixFQUE0QixNQUFNLGVBQWUsQ0FBQztBQUVoRixJQUFNLFlBQVksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQzFDLDRCQUE0QjtBQUM1QixJQUFNLGdCQUFnQixHQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUN6RCxJQUFNLGtCQUFrQixHQUFHLENBQUMsWUFBWSxHQUFHLGdCQUFnQixDQUFDLENBQUM7QUFDN0QsSUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzNELElBQU0sVUFBVSxHQUFHO0lBQ2YsS0FBSyxFQUFFLEVBQUU7SUFDVCxPQUFPLEVBQUUsRUFBRTtJQUNYLFFBQVEsRUFBRSxFQUFFO0lBQ1osU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO0lBQ3JCLE9BQU8sRUFBRSxJQUFJLElBQUksRUFBRTtDQUN0QixDQUFDO0FBRUY7O0dBRUc7QUFDSDtJQUFxQywyQ0FBcUI7SUFJdEQseUJBQVksUUFBa0I7UUFBOUIsWUFDSSxpQkFBTyxTQUlWO1FBUmUsVUFBSSxHQUFHLFVBQVUsQ0FBQztRQUNsQixnQkFBVSxHQUErQixFQUFFLENBQUM7UUFJeEQsS0FBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsRUFDbkQsSUFBSSxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsRUFDbEMsSUFBSSxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOztJQUMxQyxDQUFDO0lBQ0wsc0JB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eUJBQUM7QUFBRCxDQUFDLEFBeEJELElBd0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NhbGVuZGFyJztcblxuaW1wb3J0IHsgRGV2aWNlVmFyaWFibGVTZXJ2aWNlLCBJRGV2aWNlVmFyaWFibGVPcGVyYXRpb24gfSBmcm9tICdAd20vdmFyaWFibGVzJztcblxuY29uc3QgREVGQVVMVF9USU1FID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4vKjMgbW9udGhzIHRpbWVzdGFtcCB2YWx1ZSovXG5jb25zdCBERUxUQV9WQUxVRV9EQVRFID0gICgzICogMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbmNvbnN0IERFRkFVTFRfU1RBUlRfREFURSA9IChERUZBVUxUX1RJTUUgLSBERUxUQV9WQUxVRV9EQVRFKTtcbmNvbnN0IERFRkFVTFRfRU5EX0RBVEUgPSAoREVGQVVMVF9USU1FICsgREVMVEFfVkFMVUVfREFURSk7XG5jb25zdCBFVkVOVF9NRVRBID0ge1xuICAgIHRpdGxlOiAnJyxcbiAgICBtZXNzYWdlOiAnJyxcbiAgICBsb2NhdGlvbjogJycsXG4gICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgIGVuZERhdGU6IG5ldyBEYXRlKClcbn07XG5cbi8qKlxuICogdGhpcyBmaWxlIGNvbnRhaW5zIGFsbCBjYWxlbmRhciBvcGVyYXRpb25zIHVuZGVyICdjYWxlbmRhcicgc2VydmljZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGVuZGFyU2VydmljZSBleHRlbmRzIERldmljZVZhcmlhYmxlU2VydmljZSB7XG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWUgPSAnY2FsZW5kYXInO1xuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYXRpb25zOiBJRGV2aWNlVmFyaWFibGVPcGVyYXRpb25bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoY2FsZW5kYXI6IENhbGVuZGFyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3BlcmF0aW9ucy5wdXNoKG5ldyBDcmVhdGVFdmVudE9wZXJhdGlvbihjYWxlbmRhciksXG4gICAgICAgICAgICBuZXcgRGVsZXRlRXZlbnRPcGVyYXRpb24oY2FsZW5kYXIpLFxuICAgICAgICAgICAgbmV3IEdldEV2ZW50c09wZXJhdGlvbihjYWxlbmRhcikpO1xuICAgIH1cbn1cblxuY2xhc3MgQ3JlYXRlRXZlbnRPcGVyYXRpb24gaW1wbGVtZW50cyBJRGV2aWNlVmFyaWFibGVPcGVyYXRpb24ge1xuICAgIHB1YmxpYyByZWFkb25seSBuYW1lID0gJ2NyZWF0ZUV2ZW50JztcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgIHt0YXJnZXQ6ICdldmVudFRpdGxlJywgdHlwZTogJ3N0cmluZycsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAgICAgIHt0YXJnZXQ6ICdldmVudE5vdGVzJywgdHlwZTogJ3N0cmluZycsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAgICAgIHt0YXJnZXQ6ICdldmVudExvY2F0aW9uJywgdHlwZTogJ3N0cmluZycsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAgICAgIHt0YXJnZXQ6ICdldmVudFN0YXJ0JywgdHlwZTogJ2RhdGV0aW1lJywgZGF0YUJpbmRpbmc6IHRydWV9LFxuICAgICAgICAgICAge3RhcmdldDogJ2V2ZW50RW5kJywgdHlwZTogJ2RhdGV0aW1lJywgZGF0YUJpbmRpbmc6IHRydWV9XG4gICAgICAgIF07XG4gICAgcHVibGljIHJlYWRvbmx5IHJlcXVpcmVkQ29yZG92YVBsdWdpbnMgPSBbJ0NBTEVOREFSJ107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbGVuZGFyOiBDYWxlbmRhcikge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGludm9rZSh2YXJpYWJsZTogYW55LCBvcHRpb25zOiBhbnksIGV2ZW50SW5mbzogTWFwPHN0cmluZywgYW55Pik6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyLmNyZWF0ZUV2ZW50KFxuICAgICAgICAgICAgZXZlbnRJbmZvLmdldCgnZXZlbnRUaXRsZScpLFxuICAgICAgICAgICAgZXZlbnRJbmZvLmdldCgnZXZlbnRMb2NhdGlvbicpLFxuICAgICAgICAgICAgZXZlbnRJbmZvLmdldCgnZXZlbnROb3RlcycpLFxuICAgICAgICAgICAgbmV3IERhdGUoZXZlbnRJbmZvLmdldCgnZXZlbnRTdGFydCcpIHx8IDApLFxuICAgICAgICAgICAgbmV3IERhdGUoZXZlbnRJbmZvLmdldCgnZXZlbnRFbmQnKSB8fCAwKSk7XG4gICAgfVxufVxuXG5jbGFzcyBEZWxldGVFdmVudE9wZXJhdGlvbiBpbXBsZW1lbnRzIElEZXZpY2VWYXJpYWJsZU9wZXJhdGlvbiB7XG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWUgPSAnZGVsZXRlRXZlbnQnO1xuICAgIHB1YmxpYyByZWFkb25seSBwcm9wZXJ0aWVzID0gW1xuICAgICAgICB7dGFyZ2V0OiAnZXZlbnRUaXRsZScsIHR5cGU6ICdzdHJpbmcnLCBkYXRhQmluZGluZzogdHJ1ZX0sXG4gICAgICAgIHt0YXJnZXQ6ICdldmVudE5vdGVzJywgdHlwZTogJ3N0cmluZycsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAge3RhcmdldDogJ2V2ZW50TG9jYXRpb24nLCB0eXBlOiAnc3RyaW5nJywgZGF0YUJpbmRpbmc6IHRydWV9LFxuICAgICAgICB7dGFyZ2V0OiAnZXZlbnRTdGFydCcsIHR5cGU6ICdkYXRldGltZScsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAge3RhcmdldDogJ2V2ZW50RW5kJywgdHlwZTogJ2RhdGV0aW1lJywgZGF0YUJpbmRpbmc6IHRydWV9XG4gICAgXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVxdWlyZWRDb3Jkb3ZhUGx1Z2lucyA9IFsnQ0FMRU5EQVInXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FsZW5kYXI6IENhbGVuZGFyKSB7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW52b2tlKHZhcmlhYmxlOiBhbnksIG9wdGlvbnM6IGFueSwgZXZlbnRJbmZvOiBNYXA8c3RyaW5nLCBhbnk+KTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXIuZGVsZXRlRXZlbnQoXG4gICAgICAgICAgICBldmVudEluZm8uZ2V0KCdldmVudFRpdGxlJyksXG4gICAgICAgICAgICBldmVudEluZm8uZ2V0KCdldmVudExvY2F0aW9uJyksXG4gICAgICAgICAgICBldmVudEluZm8uZ2V0KCdldmVudE5vdGVzJyksXG4gICAgICAgICAgICBuZXcgRGF0ZShldmVudEluZm8uZ2V0KCdldmVudFN0YXJ0JykgfHwgREVGQVVMVF9TVEFSVF9EQVRFKSxcbiAgICAgICAgICAgIG5ldyBEYXRlKGV2ZW50SW5mby5nZXQoJ2V2ZW50RW5kJykgfHwgREVGQVVMVF9FTkRfREFURSkpO1xuICAgIH1cbn1cblxuY2xhc3MgR2V0RXZlbnRzT3BlcmF0aW9uIGltcGxlbWVudHMgSURldmljZVZhcmlhYmxlT3BlcmF0aW9uIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZSA9ICdnZXRFdmVudHMnO1xuICAgIHB1YmxpYyByZWFkb25seSBtb2RlbCA9IFtFVkVOVF9NRVRBXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvcGVydGllcyA9IFtcbiAgICAgICAge3RhcmdldDogJ2V2ZW50VGl0bGUnLCB0eXBlOiAnc3RyaW5nJywgZGF0YUJpbmRpbmc6IHRydWV9LFxuICAgICAgICB7dGFyZ2V0OiAnZXZlbnROb3RlcycsIHR5cGU6ICdzdHJpbmcnLCBkYXRhQmluZGluZzogdHJ1ZX0sXG4gICAgICAgIHt0YXJnZXQ6ICdldmVudExvY2F0aW9uJywgdHlwZTogJ3N0cmluZycsIGRhdGFCaW5kaW5nOiB0cnVlfSxcbiAgICAgICAge3RhcmdldDogJ2V2ZW50U3RhcnQnLCB0eXBlOiAnZGF0ZXRpbWUnLCBkYXRhQmluZGluZzogdHJ1ZX0sXG4gICAgICAgIHt0YXJnZXQ6ICdldmVudEVuZCcsIHR5cGU6ICdkYXRldGltZScsIGRhdGFCaW5kaW5nOiB0cnVlfVxuICAgIF07XG4gICAgcHVibGljIHJlYWRvbmx5IHJlcXVpcmVkQ29yZG92YVBsdWdpbnMgPSBbJ0NBTEVOREFSJ107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbGVuZGFyOiBDYWxlbmRhcikge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGludm9rZSh2YXJpYWJsZTogYW55LCBvcHRpb25zOiBhbnksIGV2ZW50SW5mbzogTWFwPHN0cmluZywgYW55Pik6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyLmZpbmRFdmVudChcbiAgICAgICAgICAgIGV2ZW50SW5mby5nZXQoJ2V2ZW50VGl0bGUnKSxcbiAgICAgICAgICAgIGV2ZW50SW5mby5nZXQoJ2V2ZW50TG9jYXRpb24nKSxcbiAgICAgICAgICAgIGV2ZW50SW5mby5nZXQoJ2V2ZW50Tm90ZXMnKSxcbiAgICAgICAgICAgIG5ldyBEYXRlKGV2ZW50SW5mby5nZXQoJ2V2ZW50U3RhcnQnKSB8fCBERUZBVUxUX1NUQVJUX0RBVEUpLFxuICAgICAgICAgICAgbmV3IERhdGUoZXZlbnRJbmZvLmdldCgnZXZlbnRFbmQnKSB8fCBERUZBVUxUX0VORF9EQVRFKSk7XG4gICAgfVxufVxuIl19