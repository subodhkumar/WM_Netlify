{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@wm/mobile/runtime/mobile-runtime.module.ts","ng://@wm/mobile/runtime/components/app-ext.component.ts","ng://@wm/mobile/runtime/services/cookie.service.ts","ng://@wm/mobile/runtime/services/http-interceptor.service.ts","ng://@wm/mobile/runtime/services/webprocess.service.ts"],"names":["__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","OS","AppExtComponent","elRef","fileSelectorService","processManagementService","this","prototype","ngAfterViewInit","mobileElements","$","nativeElement","find","$body","hasCordova","appendTo","setFileBrowser","fileBrowserComponent","remove","setUIComponent","processManagerComponent","Component","args","selector","template","ElementRef","FileSelectorService","ProcessManagementService","ViewChild","FileBrowserComponent","ProcessManagerComponent","STORAGE_KEY","CookieService","cookieInfo","serviceName","persistCookie","hostname","cookieName","cookieValue","_this","Promise","resolve","getCookie","then","data","replace","name","rotateLTR","localStorage","setItem","JSON","stringify","reject","window","setCookie","clearAll","start","cookieInfoStr","getItem","promises","parse","_","forEach","c","promise","rotateRTL","all","str","arr","split","tArr","shift","Math","floor","length","v","join","Injectable","providedIn","MobileHttpInterceptor","app","file","deviceFileDownloadService","deviceService","networkService","securityService","requestInterceptors","CONSTANTS","isWaveLens","SecurityInterceptor","RemoteSyncInterceptor","ServiceCallInterceptor","intercept","request","token","Subject","XSRF_COOKIE_NAME","clone","headers","set","getWmProjectProperties","xsrf_header_name","from","whenReady","executePromiseChain","getInterceptors","pipe","mergeMap","handle","map","req","onHttpError","response","status","isConnected","isAvailable","App","File","DeviceFileDownloadService","DeviceService","NetworkService","SecurityService","modifiedRequest","url","indexOf","REMOTE_SERVICE_URL_PATTERNS","test","deployedUrl","removeExtraSlashes","RegExp","checkRemoteDirectory","hasRemoteChanges","checkDir","cordova","dataDirectory","noop","isRemoteSyncEnabled","URL_TO_SYNC","fileNameFromUrl","last","download","createFolderStructure","parentFolder","folderNamesList","folderName","isEmpty","createDir","catch","init","pageUrl","fileName","path","folderPath","downloadsParent","getAppBuildTime","buildTime","remoteSyncInfo","getEntry","lastBuildTime","removeDir","storeEntry","pathToRemote","checkFile","removeFile","initialized","PAGE_URL_PATTERN","urlSplits","pageName","publicPages","getConfig","config","securityEnabled","authenticated","notify","page","applicationDirectory","readAsText","text","WebProcessService","cookieService","httpService","extAppMessageService","execute","process","hookUrl","useSystemBrowser","get","processInfo","executeWithSystemBrowser","executeWithInAppBrowser","output","deregister","subscribe","message","open","encodeURIComponent","ref","InAppBrowser","isSuccess","addEventListener","executeScript","code","getScriptToInject","close","endsWith","substr","AbstractHttpService","ExtAppMessageService","KEYBOARD_CLASS","ionicServices","AppVersion","BarcodeScanner","Calendar","Camera","Contacts","FileOpener","Device","Geolocation","MediaCapture","Network","SQLite","Vibration","MobileRuntimeModule","deviceFileOpenerService","webProcessService","_$appEl","width","isTabletApplicationType","addClass","initializeRuntime","forRoot","ngModule","providers","__spread","arguments","concat","provide","HTTP_INTERCEPTORS","useClass","multi","FileExtensionFromMimePipe","PushService","PushServiceImpl","runtimeModule","getDeployedUrl","getDeviceOS","os","selectedViewPort","applyOSTheme","handleKeyBoardClass","addStartUpService","$rootScope","project","openRemoteFile","extension","successCb","errorCb","__zone_symbol__FileReader","READ_CHUNK_SIZE","remoteSync","flag","addAuthInBrowser","exposeOAuthService","navigator","splashscreen","hide","overlaysWebView","providerId","oauthAdress","clearTimeout","timerId","setTimeout","handleOpenURL","isReady","lastURL","oldStyleSheet","themeUrl","attr","toLowerCase","newStyleSheet","loadStyleSheet","insertAfter","removeNode","initialScreenSize","innerHeight","removeClass","waveLensAppUrl","fetchContent","baseUrl","top","postMessage","key","onmessage","msg","isObject","device","isIphone","isIpod","isIpad","IOS","ANDROID","authInBrowser","keys","k","NgModule","declarations","exports","WmMobileComponentsModule","imports","MobileCoreModule","VariablesModule","bootstrap","DeviceFileOpenerService"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { AppVersion } from '@ionic-native/app-version';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\nimport { Calendar } from '@ionic-native/calendar';\nimport { Camera } from '@ionic-native/camera';\nimport { Contacts } from '@ionic-native/contacts';\nimport { File } from '@ionic-native/file';\nimport { FileOpener } from '@ionic-native/file-opener';\nimport { Device } from '@ionic-native/device';\nimport { MediaCapture } from '@ionic-native/media-capture';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Network } from '@ionic-native/network';\nimport { SQLite } from '@ionic-native/sqlite';\nimport { Vibration } from '@ionic-native/vibration';\n\n\nimport {\n    App,\n    AbstractHttpService,\n    fetchContent,\n    hasCordova,\n    insertAfter,\n    isIpad,\n    isIphone,\n    isIpod,\n    isObject,\n    loadStyleSheet,\n    noop,\n    removeNode\n} from '@wm/core';\nimport { FileExtensionFromMimePipe } from '@wm/components';\nimport { WmMobileComponentsModule } from '@wm/mobile/components';\nimport { DeviceFileOpenerService, DeviceService, ExtAppMessageService, MobileCoreModule, NetworkService } from '@wm/mobile/core';\nimport { PushService, PushServiceImpl } from '@wm/mobile/offline';\nimport { SecurityService } from '@wm/security';\nimport { VariablesModule } from '@wm/mobile/variables';\nimport { $rootScope, CONSTANTS } from '@wm/variables';\n\nimport { AppExtComponent } from './components/app-ext.component';\nimport { CookieService } from './services/cookie.service';\nimport { MobileHttpInterceptor } from './services/http-interceptor.service';\nimport { WebProcessService } from './services/webprocess.service';\n\ndeclare const $, navigator, _;\n\nexport const MAX_WAIT_TIME_4_OAUTH_MESSAGE = 60000;\n\nenum OS {\n    IOS = 'ios',\n    ANDROID = 'android'\n}\nconst MINIMUM_TAB_WIDTH = 768;\nconst KEYBOARD_CLASS = 'keyboard';\n\nconst ionicServices = [\n    AppVersion,\n    BarcodeScanner,\n    Calendar,\n    Camera,\n    Contacts,\n    File,\n    FileOpener,\n    Device,\n    Geolocation,\n    MediaCapture,\n    Network,\n    SQLite,\n    Vibration\n];\n\n@NgModule({\n    declarations: [\n        AppExtComponent\n    ],\n    exports: [\n        AppExtComponent,\n        WmMobileComponentsModule\n    ],\n    imports: [\n        MobileCoreModule,\n        VariablesModule,\n        WmMobileComponentsModule\n    ],\n    bootstrap: []\n})\nexport class MobileRuntimeModule {\n\n    static forRoot(): ModuleWithProviders {\n        /* add all providers that are required for mobile here. This is to simplify placeholder.*/\n        return {\n            ngModule: MobileRuntimeModule,\n            providers: [\n                WebProcessService,\n                {\n                    provide: HTTP_INTERCEPTORS,\n                    useClass: MobileHttpInterceptor,\n                    multi: true\n                },\n                ...ionicServices,\n                FileExtensionFromMimePipe,\n                {provide: PushService, useClass: PushServiceImpl}\n            ]\n        };\n    }\n\n    private static initialized = false;\n    // Startup services have to be added only once in the app life-cycle.\n    private static initializeRuntime(runtimeModule: MobileRuntimeModule,\n                      app: App,\n                      cookieService: CookieService,\n                      deviceFileOpenerService: DeviceFileOpenerService,\n                      deviceService: DeviceService) {\n        if (this.initialized) {\n            return;\n        }\n        this.initialized = true;\n        app.deployedUrl = runtimeModule.getDeployedUrl();\n        runtimeModule.getDeviceOS().then(os => {\n            app.selectedViewPort = {\n                os: os\n            };\n            runtimeModule.applyOSTheme(os);\n        });\n        if (hasCordova()) {\n            runtimeModule.handleKeyBoardClass();\n            deviceService.addStartUpService(cookieService);\n            app.subscribe('userLoggedIn', () => {\n                let url = $rootScope.project.deployedUrl;\n                if (url.endsWith('/')) {\n                    url = url.substr(0, url.length - 1);\n                }\n                cookieService.persistCookie(url, 'JSESSIONID').catch(noop);\n                cookieService.persistCookie(url, 'SPRING_SECURITY_REMEMBER_ME_COOKIE').catch(noop);\n            });\n            app.subscribe('device-file-download', (data) => {\n                deviceFileOpenerService.openRemoteFile(data.url, data.extension, data.name).then(data.successCb, data.errorCb);\n            });\n            const __zone_symbol__FileReader = window['__zone_symbol__FileReader'];\n            if (__zone_symbol__FileReader && __zone_symbol__FileReader.READ_CHUNK_SIZE) {\n                // cordova File Reader is required. Otherwise, file operations are failing.\n                window['FileReader'] = __zone_symbol__FileReader;\n            }\n            if (!CONSTANTS.isWaveLens) {\n                (window as any).remoteSync = (flag = true) => {\n                    localStorage.setItem('remoteSync', flag ? 'true' : 'false');\n                };\n            }\n            runtimeModule.addAuthInBrowser();\n        }\n        deviceService.start();\n        deviceService.whenReady().then(() => {\n            if (hasCordova()) {\n                runtimeModule._$appEl.addClass('cordova');\n                runtimeModule.exposeOAuthService();\n                navigator.splashscreen.hide();\n                // Fix for issue: ios device is not considering the background style, eventhough value is set in config.xml.\n                if (window['StatusBar']) {\n                    window['StatusBar'].overlaysWebView(false);\n                }\n            }\n        });\n    }\n\n    private _$appEl;\n\n    constructor(\n        private app: App,\n        private cookieService: CookieService,\n        private deviceFileOpenerService: DeviceFileOpenerService,\n        private deviceService: DeviceService,\n        private securityService: SecurityService,\n        private httpService: AbstractHttpService,\n        private extAppMessageService: ExtAppMessageService,\n        private networkService: NetworkService,\n        private webProcessService: WebProcessService\n    ) {\n        this._$appEl = $('.wm-app:first');\n        if (this._$appEl.width() >= MINIMUM_TAB_WIDTH) {\n            app.isTabletApplicationType =  true;\n            this._$appEl.addClass('wm-tablet-app');\n        } else {\n            this._$appEl.addClass('wm-mobile-app');\n        }\n        MobileRuntimeModule.initializeRuntime(this, this.app, this.cookieService, this.deviceFileOpenerService, this.deviceService);\n    }\n\n    private exposeOAuthService() {\n        window['OAuthInMobile'] = (providerId) => {\n            return new Promise<string>((resolve, reject) => {\n                const oauthAdress = '^services/oauth/' + providerId + '$';\n                const deregister = this.extAppMessageService.subscribe(oauthAdress, message => {\n                        resolve(message.data['access_token']);\n                        deregister();\n                        clearTimeout(timerId);\n                    });\n                const timerId = setTimeout(function () {\n                    deregister();\n                    reject(`Time out for oauth message after ${MAX_WAIT_TIME_4_OAUTH_MESSAGE % 1000} seconds`);\n                }, MAX_WAIT_TIME_4_OAUTH_MESSAGE);\n            });\n        };\n        const handleOpenURL = window['handleOpenURL'];\n        handleOpenURL.isReady = true;\n        handleOpenURL(handleOpenURL.lastURL);\n    }\n\n    private applyOSTheme(os) {\n        let oldStyleSheet = $('link[theme=\"wmtheme\"]:first');\n        const themeUrl = oldStyleSheet.attr('href').replace(new RegExp('/[a-z]*/style.css$'), `/${os.toLowerCase()}/style.css`),\n            newStyleSheet = loadStyleSheet(themeUrl, {name: 'theme', value: 'wmtheme'});\n        oldStyleSheet = oldStyleSheet.length > 0 && oldStyleSheet[0];\n        if (newStyleSheet && oldStyleSheet) {\n            insertAfter(newStyleSheet, oldStyleSheet);\n            removeNode(oldStyleSheet);\n        }\n    }\n\n    private handleKeyBoardClass() {\n        const initialScreenSize = window.innerHeight;\n        // keyboard class is added when keyboard is open.\n        window.addEventListener('resize', () => {\n            if (window.innerHeight < initialScreenSize) {\n                this._$appEl.addClass(KEYBOARD_CLASS);\n            } else {\n                this._$appEl.removeClass(KEYBOARD_CLASS);\n            }\n        });\n    }\n\n    private getDeployedUrl(): string {\n        const waveLensAppUrl = window['WaveLens'] && window['WaveLens']['appUrl'];\n        let deployedUrl = $rootScope.project.deployedUrl;\n        if (hasCordova()) {\n            if (waveLensAppUrl) {\n                // TODO: Temporary Fix for WMS-13072, baseUrl is {{DEVELOPMENT_URL}} in wavelens\n                deployedUrl = waveLensAppUrl;\n            } else {\n                fetchContent('json', './config.json', true, (response => {\n                    if (!response.error && response.baseUrl) {\n                        deployedUrl = response.baseUrl;\n                    }\n                }));\n            }\n        }\n        if (!deployedUrl.endsWith('/')) {\n            deployedUrl = deployedUrl + '/';\n        }\n        $rootScope.project.deployedUrl = deployedUrl;\n        return deployedUrl;\n    }\n\n    private getDeviceOS(): Promise<string> {\n        return new Promise<string>(function (resolve, reject) {\n            const msgContent = {key: 'on-load'};\n            // Notify preview window that application is ready. Otherwise, identify the OS.\n            if (window.top !== window) {\n                window.top.postMessage(msgContent, '*');\n                // This is for preview page\n                window.onmessage = function (msg) {\n                    const data = msg.data;\n                    if (isObject(data) && data.key === 'switch-device') {\n                        resolve(data.device.os);\n                    }\n                };\n            } else if (isIphone() || isIpod() || isIpad()) {\n                resolve(OS.IOS);\n            } else {\n                resolve(OS.ANDROID);\n            }\n        });\n    }\n\n    private addAuthInBrowser() {\n        this.securityService.authInBrowser = (): Promise<any> => {\n            if (!this.networkService.isConnected()) {\n                return Promise.reject('In offline, app cannot contact the server.');\n            }\n            return this.webProcessService.execute('LOGIN', '/')\n                .then(output => {\n                    let url = this.app.deployedUrl;\n                    if (url.endsWith('/')) {\n                        url = url.substr(0, url.length - 1);\n                    }\n                    output = JSON.parse(output);\n                    if (output[CONSTANTS.XSRF_COOKIE_NAME]) {\n                        localStorage.setItem(CONSTANTS.XSRF_COOKIE_NAME, output[CONSTANTS.XSRF_COOKIE_NAME]);\n                    }\n                    return this.cookieService.clearAll()\n                        .then(() => {\n                            const  promises = _.keys(output).map(k => {\n                                return this.cookieService.setCookie(url, k, output[k]);\n                            });\n                            return Promise.all(promises);\n                        });\n                })\n                .then(() => this.app.notify('userLoggedIn', {}));\n        };\n    }\n}\n","import { AfterViewInit, Component, ElementRef, ViewChild } from '@angular/core';\n\nimport { hasCordova } from '@wm/core';\nimport { FileBrowserComponent, FileSelectorService, ProcessManagerComponent, ProcessManagementService } from '@wm/mobile/components';\n\n@Component({\n    selector: '[wmAppExt]',\n    template: `<ng-container>\n        <div wmNetworkInfoToaster></div>\n        <div wmAppUpdate></div>\n        <div wmMobileFileBrowser></div>\n        <div wmProcessManager></div>\n    </ng-container>`\n})\nexport class AppExtComponent implements AfterViewInit {\n\n    @ViewChild(FileBrowserComponent) fileBrowserComponent: FileBrowserComponent;\n\n    @ViewChild(ProcessManagerComponent) processManagerComponent: ProcessManagerComponent;\n\n    constructor(\n        private elRef: ElementRef,\n        private fileSelectorService: FileSelectorService,\n        private processManagementService: ProcessManagementService\n    ) {}\n\n    ngAfterViewInit() {\n        const mobileElements = $(this.elRef.nativeElement).find('>[wmNetworkInfoToaster], >[wmAppUpdate], >[wmMobileFileBrowser]');\n        const $body = $('body:first');\n        if (hasCordova()) {\n            mobileElements.appendTo($body);\n            this.fileSelectorService.setFileBrowser(this.fileBrowserComponent);\n        } else {\n            mobileElements.remove();\n        }\n        $(this.elRef.nativeElement).find('>[wmProgressManager]').appendTo($body);\n        this.processManagementService.setUIComponent(this.processManagerComponent);\n    }\n}\n","import { Injectable } from '@angular/core';\n\nimport { IDeviceStartUpService } from '@wm/mobile/core';\n\ndeclare const _;\n\nconst STORAGE_KEY = 'wavemaker.persistedcookies';\n\ninterface CookieInfo {\n    hostname: string;\n    name: string;\n    value: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CookieService implements IDeviceStartUpService {\n\n    private cookieInfo = {};\n\n    public serviceName = 'CookeService';\n\n    public persistCookie(hostname: string, cookieName: string, cookieValue?: string): Promise<void> {\n        return new Promise<string>(resolve => {\n                if (cookieValue) {\n                    resolve(cookieValue);\n                } else {\n                    this.getCookie(hostname, cookieName)\n                        .then(data => resolve(data.cookieValue));\n                }\n            }).then(value => {\n                this.cookieInfo[hostname + '-' + cookieName] = {\n                    hostname: hostname.replace(/:[0-9]+/, ''),\n                    name: cookieName,\n                    value: this.rotateLTR(value)\n                };\n                localStorage.setItem(STORAGE_KEY, JSON.stringify(this.cookieInfo));\n            });\n    }\n\n    public getCookie(hostname: string, cookieName: string): Promise<any> {\n        return new Promise<void>((resolve, reject) => {\n            window['cookieEmperor'].getCookie(hostname, cookieName, resolve, reject);\n        });\n    }\n\n    public setCookie(hostname: string, cookieName: string, cookieValue: string): Promise<any> {\n        return new Promise<void>((resolve, reject) => {\n            window['cookieEmperor'].setCookie(hostname, cookieName, cookieValue, resolve, reject);\n        });\n    }\n\n    public clearAll(): Promise<any> {\n        return new Promise<any>((resolve, reject) => window['cookieEmperor'].clearAll(resolve, reject));\n    }\n\n    /**\n     * Loads persisted cookies from local storage and adds them to the browser.\n     * @returns {*}\n     */\n    public start(): Promise<any> {\n        const cookieInfoStr = localStorage.getItem(STORAGE_KEY),\n            promises = [];\n        if (cookieInfoStr) {\n            const cookieInfo = JSON.parse(cookieInfoStr) as Map<string, CookieInfo>;\n            _.forEach(cookieInfo, c => {\n                if (c.name && c.value) {\n                    const promise = new Promise((resolve, reject) => {\n                        window['cookieEmperor'].setCookie(c.hostname, c.name, this.rotateRTL(c.value), resolve, reject);\n                    });\n                    promises.push(promise);\n                }\n            });\n        }\n        return Promise.all(promises);\n    }\n\n    /**\n     * Just rotates the given string exactly from 1/3 of string length in left to right direction.\n     * @param str\n     * @returns {string}\n     */\n    private rotateLTR(str: string): string {\n        const arr = str.split(''),\n            tArr = [],\n            shift = Math.floor(str.length / 3);\n        arr.forEach((v, i) => {\n            tArr[(i + shift) % arr.length] = arr[i];\n        });\n        return tArr.join('');\n    }\n\n    /**\n     * Just rotates the given string exactly from 1/3 of string length in  right to left direction..\n     * @param str\n     * @returns {string}\n     */\n    private rotateRTL(str: string): string {\n        const arr = str.split(''),\n            tArr = [],\n            shift = Math.floor(str.length / 3);\n        arr.forEach((v, i) => {\n            tArr[(arr.length + i - shift) % arr.length] = arr[i];\n        });\n        return tArr.join('');\n    }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nimport { File } from '@ionic-native/file';\nimport { from, Observable, Subject } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n\nimport { App, executePromiseChain, getWmProjectProperties, hasCordova, noop, removeExtraSlashes } from '@wm/core';\nimport { DeviceFileDownloadService, DeviceService, NetworkService } from '@wm/mobile/core';\nimport { SecurityService } from '@wm/security';\nimport { CONSTANTS } from '@wm/variables';\n\ndeclare const cordova;\ndeclare const _;\n\ninterface RequestInterceptor {\n    intercept(request: HttpRequest<any>): Promise<HttpRequest<any>>;\n}\n\n@Injectable()\nexport class MobileHttpInterceptor implements HttpInterceptor {\n\n    private requestInterceptors: RequestInterceptor[] = [];\n\n    public constructor(private app: App,\n                       file: File,\n                       deviceFileDownloadService: DeviceFileDownloadService,\n                       private deviceService: DeviceService,\n                       private networkService: NetworkService,\n                       securityService: SecurityService) {\n        if (hasCordova() && !CONSTANTS.isWaveLens) {\n            this.requestInterceptors.push(new SecurityInterceptor(app, file, securityService));\n            this.requestInterceptors.push(new RemoteSyncInterceptor(app, deviceFileDownloadService, deviceService, file, networkService));\n            this.requestInterceptors.push(new ServiceCallInterceptor(app));\n        }\n    }\n\n    public intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        const subject = new Subject<HttpEvent<any>>();\n        const token = localStorage.getItem(CONSTANTS.XSRF_COOKIE_NAME);\n        if (token) {\n            // Clone the request to add the new header\n            request = request.clone({ headers: request.headers.set(getWmProjectProperties().xsrf_header_name, token) });\n        }\n        const data = {request: request};\n\n        // invoke the request only when device is ready.\n        const obs = from(this.deviceService.whenReady()\n            .then(() => executePromiseChain(this.getInterceptors(), [data])));\n        return obs.pipe(mergeMap(() => {\n            return next.handle(data.request);\n        }));\n    }\n\n    private getInterceptors() {\n        return this.requestInterceptors.map(i => {\n            return (data) => i.intercept(data.request).then(req => data.request = req);\n        });\n    }\n\n    private onHttpError(response: HttpResponse<any>) {\n        if (hasCordova\n            && (!response || !response.status || response.status < 0 || response.status === 404)\n            && (this.networkService.isConnected())) {\n            this.networkService.isAvailable(true);\n        }\n    }\n}\n\nclass ServiceCallInterceptor implements RequestInterceptor {\n\n    private static REMOTE_SERVICE_URL_PATTERNS = [\n        new RegExp('^((./)|/)?services/'),\n        new RegExp('j_spring_security_check'),\n        new RegExp('j_spring_security_logout')\n    ];\n\n    constructor(private app: App) {}\n\n    public intercept(request: HttpRequest<any>): Promise<HttpRequest<any>> {\n        let modifiedRequest = request;\n        let url = request.url;\n        // if necessary, prepend deployed url\n        if (url.indexOf('://') < 0\n            && ServiceCallInterceptor.REMOTE_SERVICE_URL_PATTERNS.find(r => r.test(url))) {\n            url = this.app.deployedUrl + url;\n        }\n        url = removeExtraSlashes(url);\n        if (url !== request.url) {\n            modifiedRequest = request.clone({\n                url: url\n            });\n        }\n        return Promise.resolve(modifiedRequest);\n    }\n\n}\n\nclass RemoteSyncInterceptor implements RequestInterceptor {\n\n    private checkRemoteDirectory = true;\n    private hasRemoteChanges = false;\n\n    private static URL_TO_SYNC = [\n        new RegExp('page.min.json$'),\n        new RegExp('app.js$'),\n        new RegExp('app.variables.json$')\n    ];\n\n    constructor(private app: App,\n                private deviceFileDownloadService: DeviceFileDownloadService,\n                private deviceService: DeviceService,\n                private file: File,\n                private networkService: NetworkService) {\n        this.file.checkDir(cordova.file.dataDirectory, 'remote').then(() => this.hasRemoteChanges = true, noop);\n    }\n\n    public intercept(request: HttpRequest<any>): Promise<HttpRequest<any>> {\n        const isRemoteSyncEnabled = localStorage.getItem('remoteSync') === 'true';\n        if (this.hasRemoteChanges || isRemoteSyncEnabled) {\n            return Promise.resolve(request.url).then(url => {\n                if (url.indexOf('://') < 0\n                    && RemoteSyncInterceptor.URL_TO_SYNC.find(r => r.test(url))) {\n                    const fileNameFromUrl = _.last(_.split(url, '/'));\n                    return this.download(url, fileNameFromUrl, isRemoteSyncEnabled);\n                }\n                return url;\n            }).then(url => {\n                if (url !== request.url) {\n                    this.hasRemoteChanges = true;\n                    return request.clone({\n                        url: url\n                    });\n                }\n                return request;\n            });\n        } else {\n            return Promise.resolve(request);\n        }\n    }\n\n    private createFolderStructure(parentFolder: string, folderNamesList: string[]): Promise<string> {\n        const folderName = folderNamesList[0];\n        if (!_.isEmpty(folderName)) {\n            return this.file.createDir(parentFolder, folderName, false)\n                .catch(noop)\n                .then(() => {\n                    parentFolder = parentFolder + folderName + '/';\n                    folderNamesList.shift();\n                    return this.createFolderStructure(parentFolder, folderNamesList);\n                });\n        }\n        return Promise.resolve(parentFolder);\n    }\n\n    private init(pageUrl: string, isRemoteSyncEnabled: boolean) {\n        const fileName = _.last(_.split(pageUrl, '/')),\n            path = _.replace(pageUrl, fileName, ''),\n            folderPath = 'remote' + _.replace(path, this.app.deployedUrl, ''),\n            downloadsParent = cordova.file.dataDirectory;\n        return new Promise((resolve, reject) => {\n                if (this.checkRemoteDirectory) {\n                    return this.deviceService.getAppBuildTime().then(buildTime => {\n                        const remoteSyncInfo = this.deviceService.getEntry('remote-sync') || {};\n                        if (!remoteSyncInfo.lastBuildTime || remoteSyncInfo.lastBuildTime !== buildTime) {\n                            return this.file.removeDir(cordova.file.dataDirectory, 'remote')\n                                .catch(noop).then(() => {\n                                    remoteSyncInfo.lastBuildTime = buildTime;\n                                    this.hasRemoteChanges = false;\n                                    return this.deviceService.storeEntry('remote-sync', remoteSyncInfo);\n                                });\n                        }\n                    }).then(() => this.checkRemoteDirectory = false)\n                        .then(resolve, reject);\n                }\n                resolve();\n            })\n            .then(() => this.file.checkDir(downloadsParent, folderPath))\n            .then(() => downloadsParent + folderPath,\n                () => {\n                    if (isRemoteSyncEnabled) {\n                        return this.createFolderStructure(downloadsParent, _.split(folderPath, '/'));\n                    }\n                    return Promise.reject('Could not find equivalent remote path');\n                });\n    }\n\n    private download(url: string, fileName: string, isRemoteSyncEnabled: boolean): Promise<string> {\n        const pageUrl = this.app.deployedUrl + '/' + url;\n        let folderPath;\n        return this.init(pageUrl, isRemoteSyncEnabled)\n            .then(pathToRemote => {\n                folderPath = pathToRemote;\n                return this.file.checkFile(folderPath + fileName, '');\n            }).then(() => {\n                if (isRemoteSyncEnabled && this.networkService.isConnected()) {\n                    return this.file.removeFile(folderPath, fileName)\n                        .then(() => folderPath + fileName);\n                }\n                return folderPath + fileName;\n            }, () => url)\n            .then(path => {\n                if (isRemoteSyncEnabled && this.networkService.isConnected()) {\n                    return this.deviceFileDownloadService.download(pageUrl, false, folderPath, fileName);\n                }\n                return path;\n            });\n    }\n\n}\n\nclass SecurityInterceptor implements RequestInterceptor {\n\n    private initialized = false;\n    private static PAGE_URL_PATTERN = new RegExp('page.min.json$');\n    private publicPages;\n\n    constructor(private app: App, private file: File, private securityService: SecurityService) {}\n\n    public intercept(request: HttpRequest<any>): Promise<HttpRequest<any>> {\n        return new Promise<HttpRequest<any>>((resolve, reject) => {\n            if (SecurityInterceptor.PAGE_URL_PATTERN.test(request.url)) {\n                return Promise.resolve().then(() => {\n                    if (!this.initialized) {\n                        return this.init();\n                    }\n                }).then(() => {\n                    const urlSplits = _.split(request.url, '/');\n                    const pageName = urlSplits[urlSplits.length - 2];\n                    if (!this.publicPages || this.publicPages[pageName]) {\n                        return Promise.resolve(request);\n                    } else {\n                        this.securityService.getConfig(config => {\n                            if (!config.securityEnabled || config.authenticated) {\n                                resolve(request);\n                            } else {\n                                reject(`Page '${pageName}' is not accessible to the user.`);\n                                this.app.notify('http401', { page: pageName});\n                            }\n                        }, () => reject(`Security call failed.`));\n                    }\n                    return Promise.resolve(request);\n                }).then(resolve, reject);\n            }\n            return resolve(request);\n        });\n    }\n\n    /**\n     * loads public pages from 'metadata/app/public-pages.info' and overrides canAccess method SecurityService\n     */\n    private init(): Promise<any> {\n        const folderPath = cordova.file.applicationDirectory + 'www/metadata/app',\n            fileName = 'public-pages.json';\n        return this.file.readAsText(folderPath, fileName).then(text => {\n            if (!this.initialized) {\n                this.publicPages = {};\n                this.initialized = true;\n                _.forEach(JSON.parse(text), pageName => this.publicPages[pageName] = true);\n            }\n        }).catch(() => {\n            this.initialized = true;\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\n\nimport { App, AbstractHttpService } from '@wm/core';\nimport { ExtAppMessageService } from '@wm/mobile/core';\n\nimport { CookieService } from './cookie.service';\n\ndeclare const cordova;\n\n@Injectable()\nexport class WebProcessService {\n\n    constructor(\n        private app: App,\n        private cookieService: CookieService,\n        private httpService: AbstractHttpService,\n        private extAppMessageService: ExtAppMessageService\n    ) {}\n\n    public execute(process: string, hookUrl: string, useSystemBrowser = false): Promise<any> {\n        return this.httpService.get(`/services/webprocess/prepare?processName=${process}&hookUrl=${hookUrl}&requestSourceType=MOBILE`)\n            .then((processInfo) => {\n                if (useSystemBrowser) {\n                    return this.executeWithSystemBrowser(processInfo);\n                } else {\n                    return this.executeWithInAppBrowser(processInfo, process);\n                }\n            }).then(output => {\n                return this.httpService.get('/services/webprocess/decode?encodedProcessdata=' + output);\n            });\n    }\n\n    private executeWithSystemBrowser(processInfo: string): Promise<any> {\n        return new Promise((resolve) => {\n            const oauthAdress = '^services/webprocess/LOGIN';\n            const deregister = this.extAppMessageService.subscribe(oauthAdress, message => {\n                resolve(message.data['process_output']);\n                deregister();\n            });\n            window.open(this.app.deployedUrl + 'services/webprocess/start?process=' + encodeURIComponent(processInfo), '_system');\n        });\n    }\n\n    private executeWithInAppBrowser(processInfo: string, process: string): Promise<any> {\n        return new Promise((resolve, reject) => {\n            const ref = cordova.InAppBrowser.open(this.app.deployedUrl + 'services/webprocess/start?process=' + encodeURIComponent(processInfo), '_blank', 'location=yes,clearcache=yes');\n            let isSuccess = false;\n            ref.addEventListener('loadstop', () => {\n                ref.executeScript({ code: this.getScriptToInject(process)}, output => {\n                    if (output && output[0]) {\n                        isSuccess = true;\n                        ref.close();\n                        resolve(output[0]);\n                    }\n                });\n            });\n            ref.addEventListener('exit', () => {\n                if (!isSuccess) {\n                    reject('Login process is stopped');\n                }\n            });\n        }).then((output) => {\n            let url = this.app.deployedUrl;\n            if (url.endsWith('/')) {\n                url = url.substr(0, url.length - 1);\n            }\n            return this.cookieService.setCookie(url, 'WM_WEB_PROCESS', processInfo)\n                .then(() => output);\n        });\n    }\n\n    private getScriptToInject(process: string): string {\n        return `\n            (function() {\n                var elements = document.querySelectorAll('body.flex>a.link');\n                for (var i = 0; i < elements.length; i++) {\n                    var href = elements[i].href;\n                    if (href && href.indexOf('://services/webprocess/${process}?process_output=')) {\n                        return href.split('process_output=')[1];\n                    }\n                }\n                window.isWebLoginProcess = true;\n            })();\n        `;\n    }\n}\n"]}