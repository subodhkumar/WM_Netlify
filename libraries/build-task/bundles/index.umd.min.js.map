{"version":3,"sources":["ng://@wm/components/widgets/common/accordion/accordion.build.ts","ng://@wm/components/widgets/common/accordion/accordion-pane/accordion-pane.build.ts","ng://@wm/components/widgets/common/tabs/tabs.build.ts","ng://@wm/components/widgets/common/tabs/tab-pane/tab-pane.build.ts","ng://@wm/components/widgets/common/anchor/anchor.build.ts","ng://@wm/components/widgets/common/audio/audio.build.ts","ng://@wm/components/widgets/common/breadcrumb/breadcrumb.build.ts","ng://@wm/components/widgets/common/button-group/button-group.build.ts","ng://@wm/components/widgets/common/button/button.build.ts","ng://@wm/components/widgets/common/calendar/calendar.build.ts","ng://@wm/components/widgets/common/card/card.build.ts","ng://@wm/components/widgets/common/card/card-content/card-content.build.ts","ng://@wm/components/widgets/common/card/card-actions/card-actions.build.ts","ng://@wm/components/widgets/common/card/card-footer/card-footer.build.ts","ng://@wm/components/widgets/common/carousel/carousel.build.ts","ng://@wm/components/widgets/common/carousel/carousel-template/carousel-template.build.ts","ng://@wm/components/widgets/common/chart/chart.build.ts","ng://@wm/components/widgets/common/checkbox/checkbox.build.ts","ng://@wm/components/widgets/common/checkboxset/checkboxset.build.ts","ng://@wm/components/widgets/common/chips/chips.build.ts","ng://@wm/components/widgets/common/color-picker/color-picker.build.ts","ng://@wm/components/widgets/common/composite/composite.build.ts","ng://@wm/components/widgets/common/container/container.build.ts","ng://@wm/components/widgets/common/content/content.build.ts","ng://@wm/components/widgets/common/currency/currency.build.ts","ng://@wm/components/widgets/common/date-time/date-time.build.ts","ng://@wm/components/widgets/common/date/date.build.ts","ng://@wm/components/widgets/common/dialog/alert-dialog/alert-dialog.build.ts","ng://@wm/components/widgets/common/dialog/confirm-dialog/confirm-dialog.build.ts","ng://@wm/components/widgets/common/dialog/base/dialog-footer/dialog-footer.build.ts","ng://@wm/components/widgets/common/dialog/design-dialog/dialog.build.ts","ng://@wm/components/widgets/common/dialog/iframe-dialog/iframe-dialog.build.ts","ng://@wm/components/widgets/common/dialog/login-dialog/login-dialog.build.ts","ng://@wm/components/widgets/common/dialog/partial-dialog/partial-dialog.build.ts","ng://@wm/components/widgets/common/footer/footer.build.ts","ng://@wm/components/widgets/framework/types.ts","ng://@wm/components/utils/data-utils.ts","ng://@wm/components/utils/widget-utils.ts","ng://@wm/components/widgets/common/form/form-field/form-field.build.ts","ng://@wm/components/widgets/common/form/form-action/form-action.build.ts","ng://@wm/components/widgets/common/form/form.build.ts","ng://@wm/components/widgets/common/header/header.build.ts","ng://@wm/components/widgets/common/html/html.build.ts","ng://@wm/components/widgets/common/icon/icon.build.ts","ng://@wm/components/widgets/common/iframe/iframe.build.ts","ng://@wm/components/widgets/common/label/label.build.ts","ng://@wm/components/widgets/common/list/list.build.ts","ng://@wm/components/widgets/common/layout-grid/layout-grid-column/layout-grid-column.build.ts","ng://@wm/components/widgets/common/layout-grid/layout-grid-row/layout-grid-row.build.ts","ng://@wm/components/widgets/common/layout-grid/layout-grid.build.ts","ng://@wm/components/widgets/common/left-panel/left-panel.build.ts","ng://@wm/components/widgets/common/live-table/live-table.build.ts","ng://@wm/components/widgets/common/login/login.build.ts","ng://@wm/components/widgets/common/marquee/marquee.build.ts","ng://@wm/components/widgets/common/message/message.build.ts","ng://@wm/components/widgets/common/menu/menu.build.ts","ng://@wm/components/widgets/common/nav/nav-item/nav-item.build.ts","ng://@wm/components/widgets/common/nav/nav.build.ts","ng://@wm/components/widgets/common/navbar/navbar.build.ts","ng://@wm/components/widgets/common/number/number.build.ts","ng://@wm/components/widgets/common/page-content/page-content.build.ts","ng://@wm/components/widgets/common/page/page.build.ts","ng://@wm/components/widgets/common/pagination/pagination.build.ts","ng://@wm/components/widgets/common/panel/panel.build.ts","ng://@wm/components/widgets/common/partial/partial.build.ts","ng://@wm/components/widgets/common/partial-param/partial-param.build.ts","ng://@wm/components/widgets/common/picture/picture.build.ts","ng://@wm/components/widgets/common/popover/popover.build.ts","ng://@wm/components/widgets/common/prefab/prefab.build.ts","ng://@wm/components/widgets/common/prefab-container/prefab-container.build.ts","ng://@wm/components/widgets/common/progress-bar/progress-bar.build.ts","ng://@wm/components/widgets/common/progress-bar/progress-circle/progress-circle.build.ts","ng://@wm/components/widgets/common/radioset/radioset.build.ts","ng://@wm/components/widgets/common/rating/rating.build.ts","ng://@wm/components/widgets/common/rich-text-editor/rich-text-editor.build.ts","ng://@wm/components/widgets/common/right-panel/right-panel.build.ts","ng://@wm/components/widgets/common/search/search.build.ts","ng://@wm/components/widgets/common/select/select.build.ts","ng://@wm/components/widgets/common/slider/slider.build.ts","ng://@wm/components/widgets/common/spinner/spinner.build.ts","ng://@wm/components/widgets/common/switch/switch.build.ts","ng://@wm/components/widgets/common/table/table-action/table-action.build.ts","ng://@wm/components/widgets/common/table/table-column-group/table-column-group.build.ts","ng://@wm/components/utils/live-utils.ts","ng://@wm/components/widgets/common/table/table-column/table-column.build.ts","ng://@wm/components/widgets/common/table/table-row/table-row.build.ts","ng://@wm/components/widgets/common/table/table-row-action/table-row-action.build.ts","ng://@wm/components/widgets/common/table/table.build.ts","ng://@wm/components/widgets/common/text/text.build.ts","ng://@wm/components/widgets/common/textarea/textarea.build.ts","ng://@wm/components/widgets/common/tile/tile.build.ts","ng://@wm/components/widgets/common/time/time.build.ts","ng://@wm/components/widgets/common/tree/tree.build.ts","ng://@wm/components/widgets/common/top-nav/top-nav.build.ts","ng://@wm/components/widgets/common/video/video.build.ts","ng://@wm/components/widgets/common/wizard/wizard.build.ts","ng://@wm/components/widgets/common/wizard/wizard-step/wizard-step.build.ts","ng://@wm/components/widgets/common/file-upload/file-upload.build.ts","ng://@wm/components/public_api_buildtask.ts"],"names":["register","pre","attrs","getAttrMarkup","post","tagName","carouselTagName","idGen","IDGenerator","isDynamicCarousel","node","find","attr","name","value","shared","counter","nextUid","set","template","datasetAttr","widgetNameAttr","boundExpr","getBoundToExpr","updateTemplateAttrs","provide","provider","Map","get","carouselContentTagName","requires","parentCarousel","carouselRef","getFormMarkupAttr","getNgModelAttr","content","delete","boundContent","onLoad","onLoadEvtMarkup","contentMarkup","containerMarkup","preContent","InjectionToken","Live_Operations","DATASET_WIDGETS","Set","FormWidgetType","SELECT","CHECKBOXSET","RADIOSET","SWITCH","AUTOCOMPLETE","CHIPS","TYPEAHEAD","RATING","DEFAULT_PLACEHOLDERS","DATETIME","TIME","DATE","TEXTAREA","RICHTEXT","COLORPICKER","PASSWORD","NUMBER","TEXT","CURRENCY","setDefaultPlaceholder","widgetType","index","prop","placeholder","getWidgetTemplate","options","fieldName","trim","formControl","isMaxWidget","isInList","tmplRef","widgetName","defaultTmpl","pCounter","eventsTmpl","getFormWidgetTemplate","getTemplate","layoutClass","isMobileApp","getCaptionByWidget","widget","caption","TIMESTAMP","UPLOAD","has","registerFormField","isFormField","parentForm","parentLiveForm","parentFilter","parentList","eventAttrs","parent","dataRole","validationMsg","forEach","key","endsWith","controlLayout","bind","this","registerAction","tmpl","formWidgets","addFormControlName","children","childNode","push","Attribute","buildTask","directiveAttr","parentLiveTable","parentLoginWidget","dialogId","role","dependsOn","classProp","liveFormTmpl","attrMap","formDataSource","getDataSource","updateFormDataSource","dialogAttrsMap_1","mobileFormContentTmpl","buttonTemplate","name_1","navbarAttrsMap","filter","e","Element","btnNode","copyAttribute","from","fromAttrName","to","toAttrName","fromAttr","a","sourceSpan","valueSpan","el","findChild","childName","createElement","noSpan","addAtrribute","pageContentNode","conditionalNode","loader","concat","Text","table","popoverTemplate","bindContent","markup","getAttr","attrName","getAttrValue","match","v","dataset","type","datavalue","replaceRegex","RegExp","includes","replace","EDIT_MODE","fieldTypeWidgetTypeMap","integer","big_integer","short","float","big_decimal","number","double","long","byte","string","character","text","date","time","timestamp","datetime","boolean","list","clob","blob","file","custom","addNgModelStandalone","getFilterTemplate","datasourceBinding","submitEventBinding","DataType","STRING","BOOLEAN","_","innerTmpl","inputType","getInlineEditWidgetTmpl","isNewRow","colDef","related-entity-name","primary-key","widgetRef","wmFormWidget","uploadProps","formName","propAttrs","val","length","parentTable","rowFilterTmpl","inlineEditTmpl","inlineNewEditTmpl","editMode","isInlineEdit","formatPattern","customExpr","customExprTmpl","formatExprTmpl","isDateTimeType","columnValue","colExpression","getFormatExpression","tag","getRowActionAttrs","action","actionTmpl","saveCancelTmpl","btnClass","tabIndex","isColumnsPresent","some","onSelectBinding"],"mappings":"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","sourcesContent":["import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-accordion', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmAccordion role=\"tablist\" aria-multiselectable=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-accordionpane', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmAccordionPane partialContainer wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-tabs', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTabs ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\nregister('wm-tabpane', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTabPane  partialContainer ${getAttrMarkup(attrs)} wm-navigable-element=\"true\" role=\"tabpanel\">`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'a';\n\nregister('wm-anchor', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmAnchor role=\"link\" data-identifier=\"anchor\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-audio', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmAudio ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'ol';\n\nregister('wm-breadcrumb', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmBreadcrumb ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-buttongroup', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmButtonGroup role=\"group\" aria-labelledby=\"button group\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'button';\n\nregister('wm-button', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmButton ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-calendar', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCalendar redrawable style=\"width:100%\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-card', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCard ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-card-content', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCardContent partialContainer ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-card-actions', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCardActions ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-card-footer', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCardFooter ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { Element } from '@angular/compiler';\nimport { IBuildTaskDef, getAttrMarkup, register, getBoundToExpr } from '@wm/transpiler';\nimport { IDGenerator, updateTemplateAttrs } from '@wm/core';\n\nconst carouselTagName = 'carousel';\nconst dataSetKey = 'dataset';\nconst idGen = new IDGenerator('wm_carousel_ref_');\n\nconst isDynamicCarousel = node => node.attrs.find(attr => attr.name === 'type' && attr.value === 'dynamic');\n\nregister('wm-carousel', (): IBuildTaskDef => {\n    return {\n        pre: (attrs, shared) => {\n            // generating unique Id for the carousel\n            const counter = idGen.nextUid();\n            shared.set('carousel_ref', counter);\n            return `<div class=\"app-carousel carousel\"><${carouselTagName} wmCarousel #${counter}=\"wmCarousel\"  ${getAttrMarkup(attrs)} interval=\"0\" [ngClass]=\"${counter}.navigationClass\">`;\n        },\n        post: () => `</${carouselTagName}></div>`,\n        template: (node: Element) => {\n            // check if the carousel is dynamic\n            if (isDynamicCarousel(node)) {\n                const datasetAttr = node.attrs.find(attr => attr.name === dataSetKey);\n                const widgetNameAttr = node.attrs.find(attr => attr.name === 'name');\n\n                if (!datasetAttr) {\n                    return;\n                }\n                const boundExpr = getBoundToExpr(datasetAttr.value);\n\n                if (!boundExpr) {\n                    return;\n                }\n                updateTemplateAttrs(node, boundExpr, widgetNameAttr.value);\n            }\n        },\n        // To provide parent carousel reference for children\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('carousel_ref', shared.get('carousel_ref'));\n            return provider;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst carouselContentTagName = 'slide';\n\n// For static carousel\nregister('wm-carousel-content', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${carouselContentTagName} wmCarouselTemplate  ${getAttrMarkup(attrs)}>`,\n        post: () => `</${carouselContentTagName}>`\n    };\n});\n\n// For dynamic carousel\nregister('wm-carousel-template', (): IBuildTaskDef => {\n    return {\n        requires: ['wm-carousel'],\n        pre: (attrs, shared, parentCarousel) => {\n            const carouselRef = parentCarousel.get('carousel_ref');\n            return `<div *ngIf=\"!${carouselRef}.fieldDefs\">{{${carouselRef}.nodatamessage}}</div>\n                    <${carouselContentTagName} wmCarouselTemplate  ${getAttrMarkup(attrs)} *ngFor=\"let item of ${carouselRef}.fieldDefs; let i = index;\">\n                        <ng-container [ngTemplateOutlet]=\"tempRef\" [ngTemplateOutletContext]=\"{item:item, index:i}\"></ng-container>\n                    </${carouselContentTagName}>\n                    <ng-template #tempRef let-item=\"item\" let-index=\"index\">`;\n        },\n        post: () => `</ng-template>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-chart', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmChart redrawable ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-checkbox', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCheckbox role=\"input\" ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'ul';\n\nregister('wm-checkboxset', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCheckboxset ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'ul';\n\nregister('wm-chips', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmChips role=\"listbox\" ${getAttrMarkup(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-colorpicker', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmColorPicker ${getAttrMarkup(attrs)} role=\"input\" ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-composite', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmComposite role=\"group\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-container', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmContainer partialContainer wmSmoothscroll=\"${attrs.get('smoothscroll') || 'false'}\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'main';\n\nregister('wm-content', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmContent data-role=\"page-content\" role=\"main\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-currency', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmCurrency ${getAttrMarkup(attrs)} role=\"input\" ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-datetime', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmDateTime ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-date', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmDate ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-alertdialog', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmAlertDialog role=\"alertdialog\" wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-confirmdialog', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmConfirmDialog wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-dialogactions', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<ng-template #dialogFooter><${tagName} wmDialogFooter data-identfier=\"actions\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}></ng-template>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-dialog', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmDialog ${getAttrMarkup(attrs)} wm-navigable-element=\"true\"><ng-template #dialogBody>`,\n        post: () => `</ng-template></${tagName}>`\n    };\n});\n\n// Todo:vinay remove wm-view in migration\nregister('wm-view', (): IBuildTaskDef => {\n    return {\n        pre: attrs => '',\n        post: () => ''\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-iframedialog', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmIframeDialog wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-logindialog', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmDialog wmLoginDialog ${getAttrMarkup(attrs)} eventsource.bind=\"Actions.loginAction\" wm-navigable-element=\"true\"><ng-template #dialogBody>`,\n        post: () => `</ng-template></${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-pagedialog', (): IBuildTaskDef => {\n    return {\n        pre: (attrs, shared) => {\n            const content = attrs.get('content');\n            attrs.delete('content');\n\n            const boundContent = attrs.get('content.bind');\n            attrs.delete('content.bind');\n\n            const onLoad = attrs.get('load.event');\n            attrs.delete('load.event');\n\n            let onLoadEvtMarkup = '';\n            let contentMarkup = '';\n\n            if (onLoad) {\n                onLoadEvtMarkup = `load.event=\"${onLoad}\"`;\n            }\n\n            if (boundContent) {\n                contentMarkup = `content.bind=\"${boundContent}\"`;\n            } else if (content) {\n                contentMarkup = `content=\"${content}\"`;\n            }\n\n            let containerMarkup = '';\n            if (contentMarkup) {\n\n                shared.set('hasPartialContent', true);\n                containerMarkup += `<ng-template><div wmContainer partialContainer ${contentMarkup} width=\"100%\" height=\"100%\" ${onLoadEvtMarkup}>`;\n            }\n\n            return `<${tagName} wmPartialDialog ${getAttrMarkup(attrs)}>${containerMarkup}`;\n        },\n        post: (attrs, shared) => {\n            let preContent = '';\n            if (shared.get('hasPartialContent')) {\n                preContent =  `</div></ng-template>`;\n            }\n            return `${preContent}</${tagName}>`;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'footer';\n\nregister('wm-footer', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmFooter partialContainer data-role=\"page-footer\" role=\"contentinfo\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { InjectionToken } from '@angular/core';\n\nimport { BaseComponent } from '../common/base/base.component';\n\nexport interface IWidgetConfig {\n    widgetType: string;\n    widgetSubType?: string;\n    hostClass?: string;\n    displayType?: string;\n}\n\nexport interface IRedrawableComponent {\n    redraw: Function;\n}\n\nexport type ChangeListener = (key: string, nv: any, ov?: any) => void;\n\nexport abstract class WidgetRef {}\n\nexport abstract class DialogRef<T extends BaseComponent> {\n   bsModal: any;\n}\n\nexport const Context = new InjectionToken('Context Provider Reference');\n\nexport interface IDialog {\n    open: (initState?: any) => void;\n    close: () => void;\n}\n","import { DataSource, debounce, processFilterExpBindNode } from '@wm/core';\nimport { FormWidgetType, isDefined, MatchMode } from '@wm/core';\n\nimport { isDataSetWidget } from './widget-utils';\n\ndeclare const _;\n\nconst noop = () => {};\n\nexport enum Live_Operations {\n    INSERT = 'insert',\n    UPDATE = 'update',\n    DELETE = 'delete',\n    READ = 'read'\n}\n\nexport const ALLFIELDS = 'All Fields';\n\nexport const LIVE_CONSTANTS = {\n    'EMPTY_KEY'     : 'EMPTY_NULL_FILTER',\n    'EMPTY_VALUE'   : 'No Value',\n    'LABEL_KEY'     : 'key',\n    'LABEL_VALUE'   : 'value',\n    'NULL_EMPTY'    : ['null', 'empty'],\n    'NULL'          : 'null',\n    'EMPTY'         : 'empty'\n};\n\n// Returns true if widget is autocomplete or chips\nfunction isSearchWidgetType(widget) {\n    return _.includes([FormWidgetType.AUTOCOMPLETE, FormWidgetType.TYPEAHEAD, FormWidgetType.CHIPS], widget);\n}\n\nfunction onSuccess(response, res, rej) {\n    if (response.error) {\n        rej(response);\n    } else {\n        res(response);\n    }\n}\n\nexport function performDataOperation(dataSource, requestData, options): Promise<any> {\n    return new Promise((res, rej) => {\n        if (dataSource.execute(DataSource.Operation.SUPPORTS_CRUD)) {\n            let fn;\n            const operationType = options.operationType;\n            switch (operationType) {\n                case Live_Operations.UPDATE:\n                    fn = DataSource.Operation.UPDATE_RECORD;\n                    break;\n                case Live_Operations.INSERT:\n                    fn = DataSource.Operation.INSERT_RECORD;\n                    break;\n                case  Live_Operations.DELETE:\n                    fn = DataSource.Operation.DELETE_RECORD;\n                    break;\n            }\n            dataSource.execute(fn, requestData).then(response => onSuccess(response, res, rej), rej);\n        } else if (dataSource.execute(DataSource.Operation.IS_API_AWARE)) {\n            dataSource.execute(DataSource.Operation.SET_INPUT, requestData);\n            dataSource.execute(DataSource.Operation.INVOKE, {\n                'skipNotification': true\n            }).then(res, rej);\n        } else {\n            res(requestData);\n        }\n    });\n}\n\nexport function refreshDataSource(dataSource, options): Promise<any> {\n    return new Promise((res, rej) => {\n        if (!dataSource) {\n            rej();\n            return;\n        }\n        dataSource.execute(DataSource.Operation.LIST_RECORDS, {\n            'filterFields' : options.filterFields || {},\n            'orderBy' : options.orderBy,\n            'page': options.page || 1\n        }).then(res, rej);\n    });\n}\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.fetchRelatedFieldData\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * This function fetches the data for the related field in live form/ grid\n *\n * @param {object} columnDef field definition\n * @param {string} relatedField related field name\n * @param {string} datafield Datafield to be set on widget\n * @param {string} widget Type of the widget\n * @param {object} elScope element scope\n * @param {object} parentScope live form// grid scope\n */\nexport function fetchRelatedFieldData(dataSource, formField, options) {\n    let primaryKeys;\n    let displayField;\n    const relatedField = options.relatedField;\n    const datafield = options.datafield;\n\n    if (!dataSource) {\n        return;\n    }\n    primaryKeys = dataSource.execute(DataSource.Operation.GET_RELATED_PRIMARY_KEYS, relatedField);\n    formField.datafield = datafield;\n    formField._primaryKey = _.isEmpty(primaryKeys) ? undefined : primaryKeys[0];\n    formField.compareby = primaryKeys && primaryKeys.join(',');\n\n    displayField = datafield === ALLFIELDS ? undefined : datafield;\n    formField.displayfield = displayField = (formField.displayfield || displayField || formField._primaryKey);\n\n    if (isSearchWidgetType(formField[options.widget])) {\n        formField.dataoptions = {'relatedField': relatedField, 'filterExpr': formField.filterexpressions ? formField.filterexpressions : {}};\n        formField.datasource = dataSource;\n        formField.searchkey = formField.searchkey || displayField;\n        formField.displaylabel = formField.displayfield = (formField.displaylabel || displayField);\n    } else {\n        interpolateBindExpressions(formField.viewParent, formField.filterexpressions, (filterexpressions) => {\n            formField.filterexpressions = filterexpressions;\n            dataSource.execute(DataSource.Operation.GET_RELATED_TABLE_DATA, {\n                relatedField,\n                pagesize: formField.limit,\n                orderBy: formField.orderby ? _.replace(formField.orderby, /:/g, ' ') : '',\n                filterFields: {},\n                filterExpr: formField.filterexpressions ? formField.filterexpressions : {}\n            }).then(response => {\n                formField.dataset = response.data;\n                formField.displayfield = formField.displayfield || _.head(_.keys(_.get(response, '[0]')));\n            }, noop);\n        });\n    }\n}\n\n/**\n * used to interpolate the bind expression for keys in the query builder\n * @param context where we find the variable obj\n * @param filterexpressions - obj containing all the rule objs\n * @param callbackFn - function to be called with the new replaced values if any in the filterexpressions object\n */\nexport const interpolateBindExpressions = (context, filterexpressions, callbackFn) => {\n    const debouncedFn = debounce(() => {\n        if (_.isFunction(callbackFn)) {\n            callbackFn(filterexpressions);\n        }\n    }, 300);\n\n    /**\n     * calling the debounced function first for the case where if there is any filterexpression without the bindedvariables.\n     * without this it will never be called. processFilterExpBindNode will be called only for the binded variable expressions.\n     */\n    debouncedFn();\n    const filterExpressions = filterexpressions ? (_.isObject(filterexpressions) ? filterexpressions : JSON.parse(filterexpressions)) : {};\n    const destroyFn = context.registerDestroyListener ? context.registerDestroyListener.bind(context) : _.noop;\n    const filterSubscription =  processFilterExpBindNode(context, filterExpressions).subscribe((response: any) => {\n        filterexpressions = JSON.stringify(response.filterExpressions);\n        debouncedFn();\n    });\n    destroyFn(() => filterSubscription.unsubscribe());\n};\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#getDistinctFieldProperties\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Returns the properties required for dataset widgets\n *\n * @param {object} dataSource variable source for the widget\n * @param {object} formField definition of the column/ field\n *\n */\nexport const getDistinctFieldProperties = (dataSource, formField) => {\n    const props: any = {};\n    let fieldColumn;\n    if (formField['is-related']) {\n        props.tableName     = formField['lookup-type'];\n        fieldColumn         = formField['lookup-field'];\n        props.distinctField = fieldColumn;\n        props.aliasColumn   = fieldColumn.replace('.', '$'); // For related fields, In response . is replaced by $\n        props.filterExpr    = formField.filterexpressions ? (_.isObject(formField.filterexpressions) ? formField.filterexpressions : JSON.parse(formField.filterexpressions)) : {};\n    } else {\n        props.tableName     = dataSource.execute(DataSource.Operation.GET_ENTITY_NAME);\n        fieldColumn         = formField.field || formField.key;\n        props.distinctField = fieldColumn;\n        props.aliasColumn   = fieldColumn;\n    }\n    return props;\n};\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#getDistinctValues\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Returns the distinct values for a field\n *\n * @param {object} formField definition of the column/ field\n * @param {string} widget widget property on the field\n * @param {object} variable variable for the widget\n * @param {function} callBack Function to be executed after fetching results\n *\n */\nexport function getDistinctValues(dataSource, formField, widget) {\n    let props;\n\n    return new Promise((res, rej) => {\n        if (isDataSetWidget(formField[widget]) && (!formField.isDataSetBound || widget === 'filterwidget')) {\n            props = getDistinctFieldProperties(dataSource, formField);\n            dataSource.execute(DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS, {\n                fields: props.distinctField,\n                entityName: props.tableName,\n                pagesize: formField.limit,\n                filterExpr: formField.filterexpressions ? JSON.parse(formField.filterexpressions) : {}\n            }).then(response => {\n                res({'field': formField, 'data': response.data, 'aliasColumn': props.aliasColumn});\n            }, rej);\n        }\n    });\n}\n\n// Set the data field properties on dataset widgets\nfunction setDataFields(formField, options?) {\n    // For search widget, set search key and display label\n    if (isSearchWidgetType(formField[options.widget])) {\n        formField.datafield = options.aliasColumn || LIVE_CONSTANTS.LABEL_KEY;\n        formField.searchkey = options.distinctField || LIVE_CONSTANTS.LABEL_KEY;\n        formField.displaylabel = formField.displayfield = (options.aliasColumn || LIVE_CONSTANTS.LABEL_VALUE);\n        return;\n    }\n    formField.datafield    = LIVE_CONSTANTS.LABEL_KEY;\n    formField.displayfield = LIVE_CONSTANTS.LABEL_VALUE;\n}\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#setFieldDataSet\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to set the dataSet on the fields\n *\n * @param {object} formField definition of the column/ field\n * @param {object} data data returned from the server\n * @param {string} aliasColumn column field name\n * @param {string} widget widget property on the field\n * @param {boolean} isEnableEmptyFilter is null or empty values allowed on filter\n *\n */\nfunction setFieldDataSet(formField, data, options?) {\n    const emptySupportWidgets = [FormWidgetType.SELECT, FormWidgetType.RADIOSET];\n    const emptyOption         = {};\n    const dataSet = [];\n    if (options.isEnableEmptyFilter && _.includes(emptySupportWidgets, formField[options.widget]) &&\n        !formField['is-range'] && !formField.multiple) {\n        // If empty option is selected, push an empty object in to dataSet\n        emptyOption[LIVE_CONSTANTS.LABEL_KEY]   = LIVE_CONSTANTS.EMPTY_KEY;\n        emptyOption[LIVE_CONSTANTS.LABEL_VALUE] = options.EMPTY_VALUE || LIVE_CONSTANTS.EMPTY_VALUE;\n        dataSet.push(emptyOption);\n    }\n    _.each(data, key => {\n        const value  = key[options.aliasColumn];\n        const option = {};\n        if (value !== null && value !== '') {\n            option[LIVE_CONSTANTS.LABEL_KEY]   = value;\n            option[LIVE_CONSTANTS.LABEL_VALUE] = value;\n            dataSet.push(option);\n        }\n    });\n    setDataFields(formField, options);\n    formField.dataset = dataSet;\n}\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#fetchDistinctValues\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to fetch the distinct values for a field\n *\n * @param {object} scope scope of the widget\n * @param {object} formFields definitions of the column/ field\n * @param {string} widget widget property on the field\n * @param {boolean} isEnableEmptyFilter is null or empty values allowed on filter\n *\n */\nexport function fetchDistinctValues(dataSource, formFields, options) {\n    if (_.isEmpty(formFields)) {\n        return;\n    }\n    formFields.forEach(formField => {\n        getDistinctValuesForField(dataSource, formField, options);\n    });\n}\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#getDistinctValuesForField\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to fetch the distinct values for a field\n *\n * @param {object} scope scope of the widget\n * @param {object} formFields definitions of the column/ field\n * @param {string} widget widget property on the field\n * @param {boolean} isEnableEmptyFilter is null or empty values allowed on filter\n *\n */\nexport function getDistinctValuesForField(dataSource, formField, options?) {\n    if (!dataSource || !formField || formField.isDataSetBound) {\n        return;\n    }\n    if (isSearchWidgetType(formField[options.widget])) {\n        const dataoptions =  getDistinctFieldProperties(dataSource, formField);\n        formField.dataoptions = dataoptions;\n        setDataFields(formField, Object.assign(options || {}, dataoptions));\n        formField.datasource = dataSource;\n    } else {\n        interpolateBindExpressions(formField.viewParent, formField.filterexpressions, (filterexpressions) => {\n            formField.filterexpressions = filterexpressions;\n            getDistinctValues(dataSource, formField, options.widget).then((res: any) => {\n                setFieldDataSet(res.field, res.data, {\n                    aliasColumn: res.aliasColumn,\n                    widget: options.widget,\n                    isEnableEmptyFilter: getEnableEmptyFilter(options.enableemptyfilter),\n                    EMPTY_VALUE: options.EMPTY_VALUE\n                });\n            });\n        });\n    }\n}\n\nfunction isDefinedAndNotEmpty(val) {\n    return isDefined(val) && val !== '' && val !== null;\n}\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.getRangeFieldValue\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to get the field value for range\n *\n * @param {string} minValue min value selected\n * @param {string} maxValue max value selected\n */\nexport function getRangeFieldValue(minValue, maxValue) {\n    let fieldValue;\n    if (isDefinedAndNotEmpty(minValue) && isDefinedAndNotEmpty(maxValue)) {\n        fieldValue = [minValue, maxValue];\n    } else if (isDefinedAndNotEmpty(minValue)) {\n        fieldValue = minValue;\n    } else if (isDefinedAndNotEmpty(maxValue)) {\n        fieldValue = maxValue;\n    }\n    return fieldValue;\n}\n/**\n * @ngdoc function\n * @name wm.widgets.live.getRangeMatchMode\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to get the match mode for range\n *\n * @param {string} minValue min value selected\n * @param {string} maxValue max value selected\n */\nexport function getRangeMatchMode(minValue, maxValue) {\n    let matchMode;\n    // If two values exists, then it is between. Otherwise, greater or lesser\n    if (isDefinedAndNotEmpty(minValue) && isDefinedAndNotEmpty(maxValue)) {\n        matchMode = MatchMode.BETWEEN;\n    } else if (isDefinedAndNotEmpty(minValue)) {\n        matchMode = MatchMode.GREATER;\n    } else if (isDefinedAndNotEmpty(maxValue)) {\n        matchMode = MatchMode.LESSER;\n    }\n    return matchMode;\n}\n/**\n * @ngdoc function\n * @name wm.widgets.live.getEnableEmptyFilter\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * This function checks if enable filter options is set on live filter\n *\n * @param {object} enableemptyfilter empty filter options\n */\nexport function getEnableEmptyFilter(enableemptyfilter) {\n    return enableemptyfilter && _.intersection(enableemptyfilter.split(','), LIVE_CONSTANTS.NULL_EMPTY).length > 0;\n}\n/**\n * @ngdoc function\n * @name wm.widgets.live.getEmptyMatchMode\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to get the match mode based on the filter selected\n *\n * @param {object} enableemptyfilter empty filter options\n */\nexport function getEmptyMatchMode(enableemptyfilter) {\n    let matchMode;\n    const emptyFilterOptions = _.split(enableemptyfilter, ',');\n    if (_.intersection(emptyFilterOptions, LIVE_CONSTANTS.NULL_EMPTY).length === 2) {\n        matchMode = MatchMode.NULLOREMPTY;\n    } else if (_.includes(emptyFilterOptions, LIVE_CONSTANTS.NULL)) {\n        matchMode = MatchMode.NULL;\n    } else if (_.includes(emptyFilterOptions, LIVE_CONSTANTS.EMPTY)) {\n        matchMode = MatchMode.EMPTY;\n    }\n    return matchMode;\n}\n\n/**\n * converts the data passed to array.\n *  -> Array: [1,2,3] - [1,2,3]\n *  -> String: a,b,c - ['a','b','c']\n *  -> object: {a:1} - [{a:1}]\n *  -> null - []\n *  -> undefined - []\n * @param data\n * @returns {Array<any>}\n */\nexport const createArrayFrom = (data): Array<any> => {\n\n    if (_.isUndefined(data) || _.isNull(data)) {\n        return [];\n    }\n\n    if (_.isString(data)) {\n        data = data.split(',').map(Function.prototype.call, String.prototype.trim);\n    }\n\n    if (!_.isArray(data)) {\n        data = [data];\n    }\n\n    return data;\n};\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.applyFilterOnField\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * Function to get the updated values when filter on field is changed\n *\n * @param {object} $scope scope of the filter field/form field\n * @param {object} filterDef filter/form definition of the field\n * @param {boolean} isFirst boolean value to check if this method is called on load\n */\nexport function applyFilterOnField(dataSource, filterDef, formFields, newVal, options: any = {}) {\n    const fieldName      = filterDef.field || filterDef.key;\n    const filterOnFields = _.filter(formFields, {'filter-on': fieldName});\n\n    newVal = filterDef['is-range'] ? getRangeFieldValue(filterDef.minValue, filterDef.maxValue) : (isDefined(newVal) ? newVal : filterDef.value);\n    if (!dataSource || (options.isFirst && (_.isUndefined(newVal) || newVal === ''))) {\n        return;\n    }\n    // Loop over the fields for which the current field is filter on field\n    _.forEach(filterOnFields, filterField => {\n        const filterKey    = filterField.field || filterField.key;\n        const lookUpField  = filterDef['lookup-field'] || filterDef._primaryKey;\n        const filterWidget = filterField['edit-widget-type'] || filterField.widgettype;\n        let filterFields = {};\n        let filterOn     = filterField['filter-on'];\n        let filterVal;\n        let fieldColumn;\n        let matchMode;\n        if (!isDataSetWidget(filterWidget) || filterField.isDataSetBound || filterOn === filterKey) {\n            return;\n        }\n        // For related fields, add lookupfield for query generation\n        if (filterDef && filterDef['is-related']) {\n            filterOn += '.' +  lookUpField;\n        }\n        if (isDefined(newVal)) {\n            if (filterDef['is-range']) {\n                matchMode = getRangeMatchMode(filterDef.minValue, filterDef.maxValue);\n            } else if (getEnableEmptyFilter(options.enableemptyfilter) && newVal === LIVE_CONSTANTS.EMPTY_KEY) {\n                matchMode = getEmptyMatchMode(options.enableemptyfilter);\n            } else {\n                matchMode = MatchMode.EQUALS;\n            }\n            filterVal = (_.isObject(newVal) && !_.isArray(newVal)) ? newVal[lookUpField] : newVal;\n            filterFields[filterOn] = {\n                'value'     : filterVal,\n                'matchMode' : matchMode\n            };\n        } else {\n            filterFields = {};\n        }\n        fieldColumn = filterKey;\n\n        if (isSearchWidgetType(filterWidget) && filterField.dataoptions) {\n            filterField.dataoptions.filterFields = filterFields;\n        } else {\n            dataSource.execute(DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS, {\n                'fields'        : fieldColumn,\n                'filterFields'  : filterFields,\n                'pagesize'      : filterField.limit\n            }).then(response => {\n                setFieldDataSet(filterField, response.data, {\n                    aliasColumn: fieldColumn,\n                    widget: options.widget || 'widgettype',\n                    isEnableEmptyFilter: getEnableEmptyFilter(options.enableemptyfilter),\n                    EMPTY_VALUE: options.EMPTY_VALUE\n                });\n            }, noop);\n        }\n    });\n}\n\n// Transform data as required by data table\nexport function transformData(dataObject, variableName) {\n    let newObj,\n        tempArr,\n        keys,\n        oldKeys,\n        numKeys,\n        newObject,\n        tempObj;\n\n    // data sanity testing\n    dataObject = dataObject || [];\n    // if the dataObject is not an array make it an array\n    if (!_.isArray(dataObject)) {\n        // if the data returned is of type string, make it an object inside an array\n        if (_.isString(dataObject)) {\n            keys = variableName.substring(variableName.indexOf('.') + 1, variableName.length).split('.');\n            oldKeys = [];\n            numKeys = keys.length;\n            newObject = {};\n            tempObj = newObject;\n\n            // loop over the keys to form appropriate data object required for grid\n            keys.forEach((key, index) => {\n                // loop over old keys to create new object at the iterative level\n                oldKeys.forEach(oldKey  => {\n                    tempObj = newObject[oldKey];\n                });\n                tempObj[key] = index === numKeys - 1 ? dataObject : {};\n                oldKeys.push(key);\n            });\n\n            // change the string data to the new dataObject formed\n            dataObject = newObject;\n        }\n        dataObject = [dataObject];\n    } else {\n        /*if the dataObject is an array and each value is a string, then lite-transform the string to an object\n         * lite-transform: just checking if the first value is string and then transforming the object, instead of traversing through the whole array\n         * */\n        if (_.isString(dataObject[0])) {\n            tempArr = [];\n            _.forEach(dataObject, str => {\n                newObj = {};\n                newObj[variableName.split('.').join('-')] = str;\n                tempArr.push(newObj);\n            });\n            dataObject = tempArr;\n        }\n    }\n    return dataObject;\n}\n","import { NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\nimport { forwardRef } from '@angular/core';\n\nimport { encodeUrl, isValidWebURL, stringStartsWith, FormWidgetType, $parseExpr, getClonedObject, prettifyLabel, initCaps, deHyphenate } from '@wm/core';\nimport { DialogRef, WidgetRef } from '../widgets/framework/types';\n\ndeclare const _;\n\nconst DATASET_WIDGETS = new Set([FormWidgetType.SELECT, FormWidgetType.CHECKBOXSET, FormWidgetType.RADIOSET,\n    FormWidgetType.SWITCH, FormWidgetType.AUTOCOMPLETE, FormWidgetType.CHIPS, FormWidgetType.TYPEAHEAD, FormWidgetType.RATING]);\n/**\n * Returns the parsed, updated bound expression\n * if the expression is $[data[$i][firstName]] + '--' + $[lastName] + '--' + $['@ID@']\n * returns __1.firstName + '--' + lastName + '--' + __1['@ID@']\n */\nconst getUpdatedExpr = (expr: string) => {\n    let updated = '', ch, next, i, j, matchCh, matchCount, isQuotedStr, subStr, isQuotedStrEvaluated;\n\n    expr = expr.replace(/\\$\\[data\\[\\$i\\]/g, '$[__1');\n\n    for (i = 0; i < expr.length; i++) {\n        ch = expr[i];\n        next = expr[i + 1];\n\n        /**\n         * if the expression starts with $[, check the next(ch) character,\n         *    if ch is a quote(', \") change the expr to __[\n         *    if ch is a whiteSpace, remove it\n         *    else remove $[\n         */\n        if (ch === '$' && next === '[') {\n            matchCount = 1;\n            isQuotedStrEvaluated = false;\n            isQuotedStr = false;\n\n            for (j = i + 2; j < expr.length; j++) {\n\n                matchCh = expr[j];\n\n                if (matchCh === ' ') {\n                    continue;\n                }\n\n                if (!isQuotedStrEvaluated) {\n                    isQuotedStr = expr[j] === '\"' || expr[j] === '\\'';\n                    isQuotedStrEvaluated = true;\n                }\n\n                if (matchCh === '[') {\n                    matchCount++;\n                } else if (matchCh === ']') {\n                    matchCount--;\n                }\n\n                if (!matchCount) {\n                    subStr = expr.substring(i + 2, j);\n                    if (isQuotedStr) {\n                        updated += '__1[' + subStr + ']';\n                    } else {\n                        updated += subStr;\n                    }\n\n                    break;\n                }\n            }\n            i = j;\n        } else {\n            updated += ch;\n        }\n    }\n\n    return updated;\n};\n\n/**\n * Returns the value for the provided key in the object\n */\nexport const getObjValueByKey = (obj: any, strKey: string) => {\n    /* check for the key-string */\n    if (strKey) {\n        let val;\n        /* convert indexes to properties, so as to work for even 'key1[0].child1'*/\n        strKey.replace(/\\[(\\w+)\\]/g, '.$1').split('.').forEach(key => {\n            // If obj is null, then assign val to null.\n            val = (val && val[key]) || (_.isNull(obj) ? obj : obj[key]);\n        });\n        return val;\n    }\n    return obj;\n};\n\n/**\n * returns the display field data for any dataset widgets\n * Based on the bind display expression or display expression or display name,\n * data is extracted and formatted from the passed option object\n * If there is field is specified, field value is obtained from the dataObj.\n * If expression is given, evaluates the expression value.\n * else check for bindExpression, extract the value from the dataObj\n */\nexport const getEvaluatedData = (dataObj: any, options: any, context?: any) => {\n    let expressionValue;\n    const field = options.field,\n        expr = options.expression,\n        bindExpr = options.bindExpression;\n\n    // if key is bound expression\n    if (bindExpr) {\n        // remove 'bind:' prefix from the boundExpressionName\n        expressionValue = bindExpr.replace('bind:', '');\n        // parse the expressionValue for replacing all the expressions with values in the object\n        expressionValue = getUpdatedExpr(expressionValue);\n    } else {\n        expressionValue = expr ? expr : field;\n    }\n\n    // Handling field name with special charecters\n    // Ex: field = \"f name\"\n    if (!bindExpr && !expr) {\n        return _.get(dataObj, field);\n    }\n\n    return $parseExpr(expressionValue)(context, Object.assign({}, dataObj, {__1: dataObj}));\n};\n\nexport const isActiveNavItem = (link, routeName) => {\n    if (!link || !routeName) {\n        return false;\n    }\n    routeName = routeName.indexOf('?') === -1 ? routeName : routeName.substring(0, routeName.indexOf('?'));\n    link = link.indexOf('?') === -1 ? link : link.substring(0, link.indexOf('?'));\n    const routeRegex = new RegExp('^(#\\/|#)' + routeName + '$');\n    return routeRegex.test(link);\n};\n\n\n/**\n * Returns the orderBy Expression based on the 'sort 'option in pageable object\n * returned by backend\n * @param pageableObj\n * @returns {string}\n */\nexport const getOrderByExpr = pageableObj => {\n    pageableObj = pageableObj || [];\n    const expressions       = [],\n        KEY_VAL_SEPARATOR = ' ',\n        FIELD_SEPARATOR   = ',';\n    _.forEach(pageableObj, obj => {\n        expressions.push(obj.property + KEY_VAL_SEPARATOR + obj.direction.toLowerCase());\n    });\n\n    return _.join(expressions, FIELD_SEPARATOR);\n};\n\nexport const isDataSetWidget = widget => {\n    return DATASET_WIDGETS.has(widget);\n};\n\n/*This function returns the url to the image after checking the validity of url*/\nexport const getImageUrl = (urlString, shouldEncode?, defaultUrl?) => {\n    /*In studio mode before setting picturesource, check if the studioController is loaded and new picturesource is in 'styles/images/' path or not.\n     * When page is refreshed, loader.gif will be loaded first and it will be in 'style/images/'.\n     * Prepend 'services/projects/' + $rootScope.project.id + '/web/resources/images/imagelists/'  if the image url is just image name in the project root,\n     * and if the url pointing to resources/images/ then 'services/projects/' + $rootScope.project.id + '/web/'*/\n    if (isValidWebURL(urlString)) {\n        return urlString;\n    }\n\n    // If no value is provided for picturesource assign pictureplaceholder or default-image\n    if (!urlString) {\n        urlString = defaultUrl || 'resources/images/imagelists/default-image.png';\n    }\n\n    urlString = shouldEncode ? encodeUrl(urlString) : urlString;\n\n    // if the resource to be loaded is inside a prefab\n    if (stringStartsWith(urlString, 'services/prefabs')) {\n        return urlString;\n    }\n\n    return urlString;\n};\n\n/*This method returns the url to the backgroundImage*/\nexport const getBackGroundImageUrl = (urlString) => {\n    if (urlString === '' || urlString === 'none') {\n        return urlString;\n    }\n    return 'url(' + getImageUrl(urlString) + ')';\n};\n\nexport function provideAs(reference: any, key: any, multi?: boolean) {\n    return {\n        provide: key,\n        useExisting: forwardRef(() => reference),\n        multi: multi\n    };\n}\n\nexport function provideAsNgValidators(reference: any) {\n    return provideAs(reference, NG_VALIDATORS, true);\n}\n\nexport function provideAsNgValueAccessor(reference: any) {\n    return provideAs(reference, NG_VALUE_ACCESSOR, true);\n}\n\nexport function provideAsWidgetRef(reference: any) {\n    return provideAs(reference, WidgetRef);\n}\n\nexport function provideAsDialogRef(reference: any) {\n    return provideAs(reference, DialogRef);\n}\n\nexport const NAVIGATION_TYPE = {\n    ADVANCED: 'Advanced',\n    BASIC: 'Basic',\n    CLASSIC: 'Classic',\n    INLINE: 'Inline',\n    NONE: 'None',\n    ONDEMAND: 'On-Demand',\n    PAGER: 'Pager',\n    SCROLL: 'Scroll'\n};\n\n\nexport const getWatchIdentifier = (...args) => args.join('_');\n\nconst typesMap = {\n    number: ['number', 'integer', 'big_integer', 'short', 'float', 'big_decimal', 'double', 'long', 'byte'],\n    string: ['string', 'text'],\n    character: ['character'],\n    date: ['date', 'time',  'timestamp', 'datetime']\n};\nconst modes = {\n    number: ['exact', 'notequals', 'lessthan', 'lessthanequal', 'greaterthan', 'greaterthanequal', 'null', 'isnotnull'],\n    string: ['anywhereignorecase', 'anywhere', 'startignorecase', 'start', 'endignorecase', 'end', 'exactignorecase', 'exact', 'notequalsignorecase', 'notequals', 'null', 'isnotnull', 'empty', 'isnotempty', 'nullorempty'],\n    character: ['exactignorecase', 'exact', 'notequalsignorecase', 'notequals', 'null', 'isnotnull', 'empty', 'isnotempty', 'nullorempty'],\n    date: ['exact', 'lessthan', 'lessthanequal', 'greaterthan', 'greaterthanequal', 'null', 'notequals', 'isnotnull']\n};\nconst matchModeTypesMap = {\n    boolean: ['exact', 'null', 'isnotnull'],\n    clob: [],\n    blob: []\n};\nexport const getMatchModeTypesMap = (multiMode?) => {\n    if (multiMode) {\n        modes.number.push('in', 'notin', 'between');\n        modes.date.push('between');\n        modes.string.push('in', 'notin');\n        modes.character.push('in', 'notin');\n    }\n\n    _.forEach(typesMap, (types, primType) => {\n        _.forEach(types, type => {\n            matchModeTypesMap[type] = modes[primType];\n        });\n    });\n    // this is used in filter criteria when the user types the column name manually and where we dont know the type of the column\n    matchModeTypesMap['default'] = _.union(modes['number'], modes['string'], modes['character'], modes['date'], modes['date']);\n    return matchModeTypesMap;\n};\n\nexport const getMatchModeMsgs = (appLocale) => {\n    return {\n        start            : appLocale.LABEL_STARTS_WITH,\n        startignorecase  : appLocale.LABEL_STARTS_WITH_IGNORECASE,\n        end              : appLocale.LABEL_ENDS_WITH,\n        endignorecase    : appLocale.LABEL_ENDS_WITH_IGNORECASE,\n        anywhere         : appLocale.LABEL_CONTAINS,\n        anywhereignorecase: appLocale.LABEL_CONTAINS_IGNORECASE,\n        exact            : appLocale.LABEL_IS_EQUAL_TO,\n        exactignorecase  : appLocale.LABEL_IS_EQUAL_TO_IGNORECASE,\n        notequals        : appLocale.LABEL_IS_NOT_EQUAL_TO,\n        notequalsignorecase: appLocale.LABEL_IS_NOT_EQUAL_TO_IGNORECASE,\n        lessthan         : appLocale.LABEL_LESS_THAN,\n        lessthanequal    : appLocale.LABEL_LESS_THAN_OR_EQUALS_TO,\n        greaterthan      : appLocale.LABEL_GREATER_THAN,\n        greaterthanequal : appLocale.LABEL_GREATER_THAN_OR_EQUALS_TO,\n        null             : appLocale.LABEL_IS_NULL,\n        isnotnull        : appLocale.LABEL_IS_NOT_NULL,\n        empty            : appLocale.LABEL_IS_EMPTY,\n        isnotempty       : appLocale.LABEL_IS_NOT_EMPTY,\n        nullorempty      : appLocale.LABEL_IS_NULL_OR_EMPTY,\n        in               : appLocale.LABEL_IN,\n        notin            : appLocale.LABEL_NOT_IN,\n        between          : appLocale.LABEL_BETWEEN\n    };\n};\n\n// Returns array of classes that are evaluated true for given object or array\nconst getClassesArray = classVal => {\n    let classes = [];\n\n    if (_.isArray(classVal)) {\n        classVal.forEach(v => {\n            classes = classes.concat(getClassesArray(v));\n        });\n        return classes;\n    }\n    if (_.isObject(classVal)) {\n        _.forEach(classVal, (val, key) => {\n            if (val) {\n                classes = classes.concat(key.split(' '));\n            }\n        });\n        return classes;\n    }\n};\n\nexport const getConditionalClasses = (nv, ov?) => {\n    let toAdd;\n    let toRemove;\n    // if the conditional class property has already toAdd and toRemove arrays then take that otherwise build those arrays\n    const classToAdd = nv.toAdd || nv;\n    const classToRemove = nv.toRemove || ov;\n    if (_.isObject(nv)) {\n        toAdd = _.isArray(classToAdd) ? classToAdd : getClassesArray(classToAdd || []);\n        toRemove = classToRemove ? (_.isArray(classToRemove) ? classToRemove : getClassesArray(classToRemove)) : [];\n    } else {\n        toAdd = classToAdd ? [classToAdd] : [];\n        toRemove = classToRemove ? [classToRemove] : [];\n    }\n    return {toAdd, toRemove};\n};\n\n/*helper function for prepareFieldDefs*/\nconst pushFieldDef = (dataObject, columnDefObj, namePrefix, options) => {\n    /*loop over the fields in the dataObject to process them*/\n    let modifiedTitle,\n        relatedTable,\n        relatedField,\n        relatedInfo,\n        fieldName,\n        isRelated;\n    if (!options) {\n        options = {};\n    }\n    _.forEach(dataObject, (value, title) => {\n        if (_.includes(title, '.')) {\n            relatedInfo  = _.split(title, '.');\n            relatedTable = relatedInfo[0];\n            relatedField = relatedInfo[1];\n            isRelated    = true;\n        }\n        if (options.noModifyTitle) {\n            modifiedTitle = title;\n        } else {\n            if (_.isString(title)) {\n                modifiedTitle = prettifyLabel(title);\n                modifiedTitle = deHyphenate(modifiedTitle);\n                modifiedTitle = namePrefix ? initCaps(namePrefix) + ' ' + modifiedTitle : modifiedTitle;\n            } else {\n                modifiedTitle = title;\n            }\n        }\n        title = namePrefix ? namePrefix + '.' + title : title;\n        if (isRelated) {\n            // For related columns, shorten the title to last two words\n            fieldName = _.split(modifiedTitle, ' ');\n            fieldName = fieldName.length > 1 ? fieldName[fieldName.length - 2] + ' ' + fieldName[fieldName.length - 1] : fieldName[0];\n        } else {\n            fieldName = modifiedTitle;\n        }\n        const defObj = options.setBindingField ? {'displayName': fieldName, 'field': title, 'relatedTable': relatedTable, 'relatedField': relatedField || modifiedTitle}\n        : {'displayName': fieldName, 'relatedTable': relatedTable, 'relatedField': relatedField || modifiedTitle};\n        /*if field is a leaf node, push it in the columnDefs*/\n        if (!_.isObject(value) || (_.isArray(value) && !value[0])) {\n            /*if the column counter has reached upperBound return*/\n            if (options.upperBound && options.columnCount === options.upperBound) {\n                return;\n            }\n            columnDefObj.terminals.push(defObj);\n            /*increment the column counter*/\n            options.columnCount += 1;\n        } else {\n            /*else field is an object, process it recursively*/\n            /* if parent node to be included, include it */\n            if (options.columnCount !== options.upperBound) {\n                columnDefObj.objects.push(defObj);\n            }\n\n            /* if field is an array node, process its first child */\n            if (_.isArray(value) && value[0]) {\n                pushFieldDef(value[0], columnDefObj, title + '[0]', options);\n            } else {\n                pushFieldDef(value, columnDefObj, title, options);\n            }\n        }\n    });\n};\n\nconst getMetaDataFromData = (data) => {\n    let dataObject;\n    if (_.isArray(data)) {\n        if (_.isObject(data[0])) {\n            dataObject = getClonedObject(data[0]);\n            /*Loop over the object to find out any null values. If any null values are present in the first row, check and assign the values from other row.\n             * As column generation is dependent on data, for related fields if first row value is null, columns are not generated.\n             * To prevent this, check the data in other rows and generate the columns. New keys from others rows are also added*/\n            _.forEach(data, (row, index) => {\n                if ((index + 1) >= 10) { // Limit the data search to first 10 records\n                    return false;\n                }\n                _.assignWith(dataObject, row, (objValue, srcValue) => {\n                    return (objValue === null || objValue === undefined) ? srcValue : objValue;\n                });\n            });\n        } else {\n            dataObject = data[0];\n        }\n    } else {\n        dataObject = data;\n    }\n    return dataObject;\n};\n\nexport const prepareFieldDefs = (data, options?) => {\n    let dataObject;\n    const columnDef = {\n            'objects' : [],\n            'terminals' : []\n        };\n    /*if no data provided, initialize default column definitions*/\n    if (!data) {\n        data = [];\n    }\n    if (!options) {\n        options = {};\n    }\n    options.setBindingField = true;\n    options.columnCount = 0;\n    dataObject = getMetaDataFromData(data);\n    /*first of the many data objects from grid data*/\n    pushFieldDef(dataObject, columnDef, '', options);\n    if (!options || (options && !options.filter)) {\n        return columnDef.terminals;\n    }\n    switch (options.filter) {\n        case 'all':\n            return columnDef;\n        case 'objects':\n            return columnDef.objects;\n        case 'terminals':\n            return columnDef.terminals;\n    }\n    return columnDef;\n};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { FormWidgetType, getFormWidgetTemplate, IDGenerator, isMobileApp } from '@wm/core';\n\nimport { ALLFIELDS } from '../../../../utils/data-utils';\nimport { isDataSetWidget } from '../../../../utils/widget-utils';\n\nconst tagName = 'div';\nconst idGen = new IDGenerator('formfield_');\n\nconst getEventsTemplate = (attrs) => {\n    const eventAttrs = new Map();\n    if (!attrs.has('focus.event')) {\n        attrs.set('focus.event', '');\n    }\n    if (!attrs.has('blur.event')) {\n        attrs.set('blur.event', '');\n    }\n    attrs.forEach((value, key) => {\n       if (key.endsWith('.event')) {\n           if (key === 'focus.event') {\n               value = `_onFocusField($event);${value}`;\n           } else if (key === 'blur.event') {\n               value = `_onBlurField($event);${value}`;\n           }\n           eventAttrs.set(key, value);\n           attrs.delete(key);\n       }\n    });\n    return getFormMarkupAttr(eventAttrs);\n};\n\nconst DEFAULT_PLACEHOLDERS = new Map([\n    [FormWidgetType.SELECT, ['Select Min value', 'Select Max value', 'Select value']],\n    [FormWidgetType.DATETIME, ['Select Min date time', 'Select Max date time', 'Select date time']],\n    [FormWidgetType.TIME, ['Select Min time', 'Select Max time', 'Select time']],\n    [FormWidgetType.DATE, ['Select Min date', 'Select Max date', 'Select date']],\n    [FormWidgetType.TEXTAREA, ['', '', 'Enter value']],\n    [FormWidgetType.RICHTEXT, ['', '', 'Enter value']],\n    [FormWidgetType.COLORPICKER, ['Select Color', 'Select Color', 'Select Color']],\n    [FormWidgetType.CHIPS, ['', '', 'Type here...']],\n    [FormWidgetType.PASSWORD, ['Enter Min value', 'Enter Max value', 'Enter value']],\n    [FormWidgetType.NUMBER, ['Enter Min value', 'Enter Max value', 'Enter value']],\n    [FormWidgetType.TEXT, ['Enter Min value', 'Enter Max value', 'Enter value']],\n    [FormWidgetType.CURRENCY, ['Enter Min value', 'Enter Max value', 'Enter value']],\n    [FormWidgetType.AUTOCOMPLETE, ['', '', 'Search']],\n]);\n\nconst setDefaultPlaceholder = (attrs, widgetType, index) => {\n    const prop = index === 1 ? 'maxplaceholder' : 'placeholder';\n    let placeholder = attrs.get(prop);\n    if (placeholder || placeholder === '') {\n        return;\n    }\n    placeholder = DEFAULT_PLACEHOLDERS.get(widgetType) && DEFAULT_PLACEHOLDERS.get(widgetType)[index];\n    if (placeholder) {\n        attrs.set(prop, placeholder);\n    }\n};\n\nconst getWidgetTemplate = (attrs, options) => {\n    const name = attrs.get('name');\n    const fieldName = (attrs.get('key') || name || '').trim();\n    const formControl = options.isMaxWidget ? `formControlName=\"${fieldName}_max\"` : (options.isInList ? `[formControlName]=\"${options.counter}._fieldName\"` : `formControlName=\"${fieldName}\"`);\n    const tmplRef = options.isMaxWidget ? `#formWidgetMax` : `#formWidget`;\n    const widgetName = name ? (options.isMaxWidget ? `name=\"${name}_formWidgetMax\"` : `name=\"${name}_formWidget\"`) : '';\n    const defaultTmpl = `[class.hidden]=\"!${options.pCounter}.isUpdateMode && ${options.counter}.viewmodewidget !== 'default'\" ${formControl} ${options.eventsTmpl} ${tmplRef} ${widgetName}`;\n    return getFormWidgetTemplate(options.widgetType, defaultTmpl, attrs, {counter: options.counter, pCounter: options.pCounter});\n};\n\n\nconst getTemplate = (attrs, widgetType, eventsTmpl, counter, pCounter, isInList) => {\n    const isRange = attrs.get('is-range') === 'true';\n    if (!isRange) {\n        return getWidgetTemplate(attrs, {widgetType, eventsTmpl, counter, pCounter, isInList});\n    }\n    const layoutClass = isMobileApp() ? 'col-xs-6' : 'col-sm-6';\n    return `<div class=\"${layoutClass}\">${getWidgetTemplate(attrs, {widgetType, eventsTmpl, counter, pCounter})}</div>\n                <div class=\"${layoutClass}\">${getWidgetTemplate(attrs, {widgetType, eventsTmpl, counter, pCounter, isMaxWidget: true})}</div>`;\n};\n\nconst getCaptionByWidget = (attrs, widgetType, counter) => {\n    if (attrs.get('is-related') === 'true') {\n        return `${counter}.getDisplayExpr()`;\n    }\n    if (widgetType === FormWidgetType.PASSWORD) {\n        return '\\'********\\'';\n    }\n    let caption = `${counter}.value`;\n    if (widgetType === FormWidgetType.DATETIME || widgetType === FormWidgetType.TIMESTAMP) {\n        caption += ` | toDate:${counter}.formWidget.datepattern || 'yyyy-MM-dd hh:mm:ss a'`;\n        return caption;\n    }\n    if (widgetType === FormWidgetType.TIME) {\n        caption += ` | toDate:${counter}.formWidget.timepattern || 'hh:mm a'`;\n        return caption;\n    }\n    if (widgetType === FormWidgetType.DATE) {\n        caption += ` | toDate:${counter}.formWidget.datepattern ||  'yyyy-MMM-dd'`;\n        return caption;\n    }\n    if (widgetType === FormWidgetType.RATING || widgetType === FormWidgetType.UPLOAD) {\n        return '';\n    }\n    if (isDataSetWidget(widgetType) && attrs.get('datafield') === ALLFIELDS) {\n        return `${counter}.getDisplayExpr()`;\n    }\n    return `${counter}.getCaption()`;\n};\n\nconst registerFormField = (isFormField): IBuildTaskDef => {\n    return {\n        requires: ['wm-form', 'wm-liveform', 'wm-livefilter', 'wm-list'],\n        pre: (attrs, shared, parentForm, parentLiveForm, parentFilter, parentList) => {\n            const counter = idGen.nextUid();\n            const parent = parentForm || parentLiveForm || parentFilter;\n            const pCounter = (parent && parent.get('form_reference')) || 'form';\n            const widgetType = attrs.get('widget') || FormWidgetType.TEXT;\n            const dataRole = isFormField ? 'form-field' : 'filter-field';\n            const validationMsg = isFormField ? `<p *ngIf=\"${counter}._control?.invalid && ${counter}._control?.touched && ${pCounter}.isUpdateMode\"\n                                   class=\"help-block text-danger\"\n                                   [textContent]=\"${counter}.validationmessage\"></p>` : '';\n            const eventsTmpl = widgetType === FormWidgetType.UPLOAD ? '' : getEventsTemplate(attrs);\n            const controlLayout = isMobileApp() ? 'col-xs-12' : 'col-sm-12';\n            const isInList = pCounter === (parentList && parentList.get('parent_form_reference'));\n            attrs.delete('widget');\n            shared.set('counter', counter);\n\n            if (attrs.get('is-range') === 'true') {\n                setDefaultPlaceholder(attrs, widgetType, 0);\n                setDefaultPlaceholder(attrs, widgetType, 1);\n            } else {\n                setDefaultPlaceholder(attrs, widgetType, 2);\n            }\n\n            return `<${tagName} data-role=\"${dataRole}\" [formGroup]=\"${pCounter}.ngform\" wmFormField #${counter}=\"wmFormField\" widgettype=\"${widgetType}\" ${getFormMarkupAttr(attrs)}>\n                        <div class=\"live-field form-group app-composite-widget clearfix caption-{{${pCounter}.captionposition}}\" widget=\"${widgetType}\">\n                            <label [hidden]=\"!${counter}.displayname\" class=\"app-label control-label formfield-label {{${pCounter}._captionClass}}\" [title]=\"${counter}.displayname\"\n                                        [ngStyle]=\"{width: ${pCounter}.captionsize}\" [ngClass]=\"{'text-danger': ${counter}._control?.invalid && ${counter}._control?.touched && ${pCounter}.isUpdateMode,\n                                         required: ${pCounter}.isUpdateMode && ${counter}.required}\" [textContent]=\"${counter}.displayname\"> </label>\n                            <div [ngClass]=\"${counter}.displayname ? ${pCounter}._widgetClass : '${controlLayout}'\">\n                                 <label class=\"form-control-static app-label\"\n                                       [hidden]=\"${pCounter}.isUpdateMode || ${counter}.viewmodewidget === 'default' || ${counter}.widgettype === 'upload'\" [innerHTML]=\"${getCaptionByWidget(attrs, widgetType, counter)}\"></label>\n                                ${getTemplate(attrs, widgetType, eventsTmpl, counter, pCounter, isInList)}\n                                <p *ngIf=\"!(${counter}._control?.invalid && ${counter}._control?.touched) && ${pCounter}.isUpdateMode\"\n                                   class=\"help-block\" [textContent]=\"${counter}.hint\"></p>\n                                ${validationMsg}\n                            </div>\n                        </div>`;\n        },\n        post: () => `</${tagName}>`,\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('form_reference', shared.get('counter'));\n            return provider;\n        }\n    };\n};\n\nregister('wm-form-field', registerFormField.bind(this, true));\nregister('wm-filter-field', registerFormField.bind(this, false));\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nconst registerAction = (tmpl): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmFormAction name=\"${attrs.get('name') || attrs.get('key')}\" ${getAttrMarkup(attrs)} ${tmpl}>`,\n        post: () => `</${tagName}>`\n    };\n};\n\nregister('wm-form-action', registerAction.bind(this, ''));\nregister('wm-filter-action', registerAction.bind(this, ` update-mode=\"true\" `));\n\nexport default () => {};\n","import { Attribute, Element } from '@angular/compiler';\n\nimport { getAttrMarkup, IBuildTaskDef, register, getDataSource } from '@wm/transpiler';\nimport { IDGenerator } from '@wm/core';\n\nconst tagName = 'form';\nconst idGen = new IDGenerator('form_');\n\nconst formWidgets = new Set([\n    'wm-text',\n    'wm-textarea',\n    'wm-checkbox',\n    'wm-slider',\n    'wm-richtexteditor',\n    'wm-currency',\n    'wm-switch',\n    'wm-select',\n    'wm-checkboxset',\n    'wm-radioset',\n    'wm-date',\n    'wm-time',\n    'wm-timestamp',\n    'wm-upload',\n    'wm-rating',\n    'wm-datetime',\n    'wm-search',\n    'wm-chips',\n    'wm-colorpicker',\n    'wm-table'\n]);\n\nconst addFormControlName = (children = []) => {\n    children.forEach(childNode => {\n        if (formWidgets.has(childNode.name)) {\n            let key = childNode.attrs.find((attr) => attr.name === 'key' || attr.name === 'name');\n            key = key && key.value;\n            childNode.attrs.push(new Attribute('formControlName', key, <any>1, <any>1));\n            childNode.attrs.push(new Attribute('wmFormWidget', '', <any>1, <any>1));\n        }\n        addFormControlName(childNode.children);\n    });\n};\n\nconst updateFormDataSource = (attrMap) => {\n    if (attrMap.get('formdata.bind')) {\n        const formDataSource = getDataSource(attrMap.get('formdata.bind'));\n        if (formDataSource) {\n            attrMap.set('formdatasource.bind', formDataSource);\n        }\n    }\n};\n\nconst buildTask = (directiveAttr = ''): IBuildTaskDef => {\n    return {\n        requires: ['wm-livetable', 'wm-login'],\n        template: (node: Element) => {\n            addFormControlName(node.children);\n        },\n        pre: (attrs, shared, parentLiveTable, parentLoginWidget) => {\n            let tmpl;\n            let dialogId;\n            const role = parentLoginWidget && parentLoginWidget.get('isLogin') ? 'app-login' : '';\n            const counter = idGen.nextUid();\n            const dependsOn = attrs.get('dependson') ? `dependson=\"${attrs.get('dependson')}\"` : '';\n            const classProp = attrs.get('formlayout') === 'page' ? 'app-device-liveform panel liveform-inline' : '';\n            const dialogAttributes = ['title', 'title.bind', 'iconclass', 'iconclass.bind', 'width'];\n            attrs.delete('dependson');\n            const liveFormTmpl = `<${tagName} wmForm role=\"${role}\" ${directiveAttr} #${counter} ngNativeValidate [formGroup]=\"${counter}.ngform\" [noValidate]=\"${counter}.validationtype !== 'html'\"\n                    class=\"${classProp}\" [class]=\"${counter}.captionAlignClass\" [autocomplete]=\"${counter}.autocomplete ? 'on' : 'off'\" captionposition=${attrs.get('captionposition')}`;\n            shared.set('counter', counter);\n            updateFormDataSource(attrs);\n            if (attrs.get('formlayout') === 'dialog') {\n                dialogId = parentLiveTable ? parentLiveTable.get('liveform_dialog_id') : `liveform_dialog_id_${counter}`;\n                attrs.set('dialogId', dialogId);\n                const dialogAttrsMap = new Map<string, string>();\n                dialogAttributes.forEach((attr) => {\n                   if (attrs.get(attr)) {\n                       dialogAttrsMap.set(attr, attrs.get(attr));\n                   }\n                });\n                attrs.set('width', '100%');\n                tmpl = getAttrMarkup(attrs);\n                return `<div data-identifier=\"liveform\" init-widget class=\"app-liveform liveform-dialog\" ${dependsOn} dialogid=\"${dialogId}\">\n                            <div wmDialog class=\"app-liveform-dialog\" name=\"${dialogId}\" role=\"form\" ${getAttrMarkup(dialogAttrsMap)} modal=\"true\">\n                            <ng-template #dialogBody>\n                            ${liveFormTmpl} ${tmpl}>`;\n            }\n            let mobileFormContentTmpl = '';\n            let buttonTemplate = '';\n            // Include mobile-navbar above the form when formlayout is set to page\n            if (attrs.get('formlayout') === 'page') {\n                const name = `device_liveform_header_${counter}`;\n                const navbarAttrsMap = new Map<string, string>();\n                navbarAttrsMap.set('title', attrs.get('title'));\n                navbarAttrsMap.set('backbtnclick.event', attrs.get('backbtnclick.event'));\n                buttonTemplate = `<ng-template #buttonRef let-btn=\"btn\">\n                                            <button  wmButton name=\"{{btn.key}}\" class=\"navbar-btn btn-primary btn-transparent\" iconclass.bind=\"btn.iconclass\" show.bind=\"btn.show\"\n                                                     (click)=\"${counter}.invokeActionEvent($event, btn.action)\" type.bind=\"btn.type\" hint.bind=\"btn.title\" shortcutkey.bind=\"btn.shortcutkey\" disabled.bind=\"btn.disabled\"\n                                                     tabindex.bind=\"btn.tabindex\" [class.hidden]=\"btn.updateMode ? !${counter}.isUpdateMode : ${counter}.isUpdateMode\"></button>\n                                        </ng-template>`;\n                mobileFormContentTmpl = `<header wmMobileNavbar name=\"${name}\" ${getAttrMarkup(navbarAttrsMap)}>\n                                            <ng-container *ngFor=\"let btn of ${counter}.buttonArray\" [ngTemplateOutlet]=\"buttonRef\" [ngTemplateOutletContext]=\"{btn:btn}\">\n                                            </ng-container>\n                                        </header>\n                                        <div class=\"form-elements panel-body\" >`;\n            }\n\n            tmpl = getAttrMarkup(attrs);\n            return `${liveFormTmpl} ${tmpl} ${dependsOn}>\n                       ${buttonTemplate} ${mobileFormContentTmpl}`;\n        },\n        post: (attrs) => {\n            if (attrs.get('formlayout') === 'dialog') {\n                return '</form></ng-template></div></div>';\n            }\n            if (attrs.get('formlayout') === 'page') {\n                return `</div></${tagName}>`;\n            }\n            return `</${tagName}>`;\n        },\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('form_reference', shared.get('counter'));\n            return provider;\n        }\n    };\n};\n\nregister('wm-form', buildTask);\nregister('wm-liveform', () => buildTask('wmLiveForm'));\nregister('wm-livefilter', () => buildTask('wmLiveFilter'));\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'header';\n\nregister('wm-header', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmHeader partialContainer data-role=\"page-header\" role=\"banner\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-html', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmHtml ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'span';\n\nregister('wm-icon', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmIcon aria-hidden=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-iframe', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmIframe ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'label';\n\nregister('wm-label', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLabel ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { Attribute, Element } from '@angular/compiler';\nimport { updateTemplateAttrs } from '@wm/core';\n\nimport { getAttrMarkup, getBoundToExpr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst wmListTag = 'wm-list';\nconst listTagName = 'div';\nconst dataSetKey = 'dataset';\n\nregister(wmListTag, (): IBuildTaskDef => {\n    return {\n        requires: ['wm-form', 'wm-liveform'],\n        template: (node: Element) => {\n\n            const datasetAttr = node.attrs.find(attr => attr.name === dataSetKey);\n            const widgetNameAttr = node.attrs.find(attr => attr.name === 'name');\n\n            if (!datasetAttr) {\n                return;\n            }\n            const boundExpr = getBoundToExpr(datasetAttr.value);\n\n            if (!boundExpr) {\n                return;\n            }\n            updateTemplateAttrs(node, boundExpr, widgetNameAttr.value, 'itemRef.');\n        },\n        pre: (attrs, shared, parentForm, parentLiveForm) => {\n            const parent = parentForm || parentLiveForm;\n            shared.set('form_reference', parent && parent.get('form_reference'));\n            return `<${listTagName} wmList wmLiveActions ${getAttrMarkup(attrs)}>`;\n        },\n        post: () => `</${listTagName}>`,\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('parent_form_reference', shared.get('form_reference'));\n            return provider;\n        }\n    };\n});\n\nregister('wm-listtemplate', (): IBuildTaskDef => {\n    return {\n        pre: () => `<ng-template #listTemplate let-item=\"item\" let-$index=\"$index\" let-itemRef=\"itemRef\" let-$first=\"$first\" let-$last=\"$last\"  let-currentItemWidgets=\"currentItemWidgets\" >`,\n        post: () => `</ng-template>`\n    };\n});\n\nfunction copyAttribute(from: Element, fromAttrName: string, to: Element, toAttrName: string) {\n    const fromAttr = from.attrs.find( a => a.name === fromAttrName);\n    if (fromAttr) {\n        to.attrs.push(new Attribute(toAttrName, fromAttr.value, fromAttr.sourceSpan, fromAttr.valueSpan));\n    }\n}\n\nregister('wm-list-action-template', (): IBuildTaskDef => {\n    return {\n        template: (node: Element) => {\n\n            const position = node.attrs.find(attr => attr.name === 'position').value;\n\n            const btns = <Element[]> node.children\n                .filter(e => e instanceof Element && (<Element> e).name === 'wm-button');\n\n            // add swipe-position on button nodes to identify whether buttons are from left or right action templates\n            btns.forEach((btnNode) => {\n                copyAttribute(node, 'position', btnNode, 'swipe-position');\n            });\n        },\n        pre: (attrs, el) => {\n            if (attrs.get('position') === 'left') {\n                return `<ng-template #listLeftActionTemplate>\n                            <li class=\"app-list-item-action-panel app-list-item-left-action-panel actionMenu\" ${getAttrMarkup(attrs)}>`;\n            }\n            if (attrs.get('position') === 'right') {\n                return `<ng-template #listRightActionTemplate>\n                            <li class=\"app-list-item-action-panel app-list-item-right-action-panel actionMenu\" ${getAttrMarkup(attrs)}>`;\n            }\n        },\n        post: () => `</li></ng-template>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-gridcolumn', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLayoutGridColumn ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-gridrow', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLayoutGridRow ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-layoutgrid', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLayoutGrid ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'aside';\n\nregister('wm-left-panel', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLeftPanel partialContainer data-role=\"page-left-panel\" role=\"complementary\" wmSmoothscroll=\"${attrs.get('smoothscroll') || 'true'}\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { IDGenerator } from '@wm/core';\n\nconst tagName = 'div';\nconst idGen = new IDGenerator('liveform_dialog_id_');\n\nregister('wm-livetable', (): IBuildTaskDef => {\n    return {\n        pre: (attrs, shared) => {\n            const counter = idGen.nextUid();\n            shared.set('counter', counter);\n            return `<${tagName} wmLiveTable role=\"table\" ${getAttrMarkup(attrs)} dialogid=\"${counter}\">`;\n        },\n        post: () => `</${tagName}>`,\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('liveform_dialog_id', shared.get('counter'));\n            return provider;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-login', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmLogin ${getAttrMarkup(attrs)} eventsource.bind=\"Actions.loginAction\">`,\n        post: () => `</${tagName}>`,\n        provide: () => {\n            const provider = new Map();\n            provider.set('isLogin', true);\n            return provider;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'marquee';\n\nregister('wm-marquee', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} onmouseover=\"this.stop();\" onmouseout=\"this.start();\" wmMarquee role=\"marquee\" aria-live=\"off\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'p';\n\nregister('wm-message', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmMessage aria-label=\"Notification Alerts\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-menu', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmMenu dropdown ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'li';\n\nregister('wm-nav-item', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmNavItem role=\"presentation\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'ul';\n\nregister('wm-nav', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmNav data-element-type=\"wmNav\" data-role=\"page-header\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'nav';\n\nregister('wm-navbar', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmNavbar data-element-type=\"wmNavbar\" role=\"navigation\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\n\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-number', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmNumber ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-page-content', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPageContent wmSmoothscroll=\"${attrs.get('smoothscroll') || 'true'}\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { Attribute, Element, ParseSourceSpan, Text } from '@angular/compiler';\n\nimport { isMobileApp } from '@wm/core';\nimport { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nconst findChild = (node: Element, childName: string): Element => {\n    const child = node && node.children.find(e => (e instanceof Element && (e as Element).name === childName));\n    return child as Element;\n};\n\nconst createElement = name => {\n    return new Element(name, [], [], noSpan, noSpan, noSpan);\n};\n\nconst addAtrribute = (node: Element, name: string, value: string) => {\n    const attr = new Attribute(name, value, noSpan, noSpan);\n    node.attrs.push(attr);\n};\n\nconst noSpan = ({} as ParseSourceSpan);\n\nregister('wm-page', (): IBuildTaskDef => {\n    return {\n        template: (node: Element) => {\n            if (isMobileApp()) {\n                const pageContentNode = findChild(findChild(node, 'wm-content'), 'wm-page-content');\n                if (pageContentNode) {\n                    const conditionalNode = createElement('ng-container');\n                    addAtrribute(conditionalNode, '*ngIf', 'compilePageContent');\n                    const loader = createElement('div');\n                    addAtrribute(loader, 'wmPageContentLoader', '');\n                    addAtrribute(loader, '*ngIf', '!showPageContent');\n                    conditionalNode.children = conditionalNode.children.concat(pageContentNode.children);\n                    conditionalNode.children.push(new Text('{{onPageContentReady()}}', null));\n                    pageContentNode.children = [conditionalNode, loader];\n                }\n            }\n        },\n        pre: attrs => `<${tagName} wmPage data-role=\"pageContainer\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'nav';\n\nregister('wm-pagination', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPagination data-identifier=\"pagination\" aria-label=\"Page navigation\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-panel', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPanel partialContainer aria-label=\"panel\" wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nregister('wm-panel-footer', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPanelFooter aria-label=\"panel footer\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'section';\n\nregister('wm-partial', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPartial data-role=\"partial\" role=\"region\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-param', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmParam hidden ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'img';\n\nregister('wm-picture', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPicture alt=\"image\" wmImageCache=\"${attrs.get('offline') || 'true'}\" ${getAttrMarkup(attrs)}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'wm-popover';\n\nregister('wm-popover', (): IBuildTaskDef => {\n    return {\n        requires: ['wm-table'],\n        pre: (attrs: Map<string, string>, shared: Map<string, any>, table) => {\n            const contentSource = attrs.get('contentsource');\n            let popoverTemplate;\n            if (contentSource !== 'inline') {\n                const content = attrs.get('content');\n                const bindContent = attrs.get('content.bind');\n\n                let contentMarkup = '';\n\n                if (content) {\n                    contentMarkup = `content=\"${content}\"`;\n                } else if (bindContent) {\n                    contentMarkup = `content.bind=\"${bindContent}\"`;\n                }\n\n                popoverTemplate = `<div wmContainer #partial partialContainer ${contentMarkup}>`;\n                shared.set('hasPopoverContent', true);\n            }\n\n            let markup = `<${tagName} wmPopover ${getAttrMarkup(attrs)}>`;\n            const contextAttrs = table ? `let-row=\"row\"` : ``;\n\n            markup += `<ng-template ${contextAttrs}><button class=\"popover-start\"></button>`;\n\n            // todo keyboard navigation - tab\n            if (popoverTemplate) {\n                markup += `${popoverTemplate ? popoverTemplate : ''}`;\n            }\n\n            return markup;\n        },\n        post: (attrs: Map<string, string>, shared: Map<string, any>) => {\n            let markup = '';\n            if (shared.get('hasPopoverContent')) {\n                markup += `</div>`;\n            }\n\n            return `${markup}<button class=\"popover-end\"></button></ng-template></${tagName}>`;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, register } from '@wm/transpiler';\n\nconst tagName = 'section';\n\nregister('wm-prefab', () => {\n    return {\n        pre: attrs => `<${tagName} wmPrefab data-role=\"perfab\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-prefab-container', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmPrefabContainer ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};","import { Element } from '@angular/compiler';\n\nimport { getAttrMarkup, getBoundToExpr, IBuildTaskDef, register } from '@wm/transpiler';\n\ndeclare const _;\n\nconst tagName = 'div';\n\nconst getAttr = (node: Element, attrName: string) => node.attrs.find(attr => attr.name === attrName);\n\nconst getAttrValue = (node: Element, attrName: string): string | undefined => {\n    const match = getAttr(node, attrName);\n    if (match) {\n        return match.value;\n    }\n};\n\nconst getReplaceRegex = (v: string) => new RegExp(`bind:(${v}|${v}\\\\[\\\\$i])\\\\.`, 'g');\n\nregister('wm-progress-bar', (): IBuildTaskDef => {\n    return {\n        template: (node: Element) => {\n            const dataset = getAttrValue(node, 'dataset');\n            const boundExpr = getBoundToExpr(dataset);\n\n            if (boundExpr) {\n                let type = getAttrValue(node, 'type');\n                let datavalue = getAttrValue(node, 'datavalue');\n\n                const replaceRegex = getReplaceRegex(boundExpr);\n\n                if (type && type.includes(boundExpr)) {\n                    type = type.replace(replaceRegex, '');\n                    getAttr(node, 'type').value = type;\n                }\n\n                if (datavalue && datavalue.includes(boundExpr)) {\n                    datavalue = datavalue.replace(replaceRegex, '');\n                    getAttr(node, 'datavalue').value = datavalue;\n                }\n            }\n        },\n        pre: attrs => `<${tagName} wmProgressBar ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-progress-circle', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmProgressCircle ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'ul';\n\nregister('wm-radioset', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmRadioset role=\"radiogroup\" ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-rating', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmRating ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-richtexteditor', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmRichTextEditor role=\"textbox\" ${getFormMarkupAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'aside';\n\nregister('wm-right-panel', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmRightPanel partialContainer data-role=\"page-right-panel\" role=\"complementary\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-search', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmSearch ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'wm-select';\n\nregister('wm-select', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-slider', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmSlider ${getAttrMarkup(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-spinner', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmSpinner role=\"loading\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getNgModelAttr } from '@wm/core';\nimport { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-switch', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmSwitch ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-table-action', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} name=\"${attrs.get('name') || attrs.get('key')}\" wmTableAction ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-table-column-group', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTableColumnGroup ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { isNumberType, FormWidgetType, DataType, isMobileApp, isAndroid } from '@wm/core';\n\ndeclare const _;\n\nconst  VIEW_MODE_OPTIONS = {\n    DEFAULT : 'default',\n    LABEL : 'label'\n};\n\nexport const EDIT_MODE = {\n    QUICK_EDIT : 'quickedit',\n    INLINE : 'inline',\n    FORM : 'form',\n    DIALOG : 'dialog'\n};\n\n// Method to set the header config of the data table\nexport const setHeaderConfig = (headerConfig, config, field): void => {\n    _.forEach(headerConfig, cols => {\n        if (cols.isGroup) {\n            if (cols.field === field) {\n                cols.columns.push(config);\n            } else {\n                setHeaderConfig(cols.columns, config, field);\n            }\n        }\n    });\n};\n\nexport const setHeaderConfigForTable = (headerConfig, config, fieldName): void => {\n    if (fieldName) {\n        setHeaderConfig(headerConfig, config, fieldName);\n    } else {\n        headerConfig.push(config);\n    }\n};\n\nexport const getRowOperationsColumn = (): any => {\n    return {\n        'field'         : 'rowOperations',\n        'type'          : 'custom',\n        'displayName'   : 'Actions',\n        'width'         : '120px',\n        'readonly'      : true,\n        'sortable'      : false,\n        'searchable'    : false,\n        'resizable'     : false,\n        'selectable'    : false,\n        'show'          : true,\n        'operations'    : [],\n        'opConfig'      : {},\n        'pcDisplay'     : true,\n        'mobileDisplay' : true,\n        'include'       : true,\n        'isRowOperation': true\n    };\n};\n\n/**\n * Returns caption and widget bootstrap classes for the field\n */\nexport const getFieldLayoutConfig = (captionWidth, captionPosition, os): any => {\n    let captionCls = '',\n        widgetCls = '';\n\n    captionPosition = captionPosition || 'top';\n\n    if (captionPosition === 'top') {\n        if ((os && os === 'android') || !isMobileApp() || isAndroid()) { // Is android or not a mobile application\n            captionCls = widgetCls = 'col-xs-12';\n        } else if (isMobileApp()) { // Is a mobile application and not android\n            captionCls = 'col-xs-4';\n            widgetCls = 'col-xs-8';\n        }\n    } else if (captionWidth) {\n        // handling itemsperrow containing string of classes\n        _.forEach(_.split(captionWidth, ' '), function (cls) {\n            const keys = _.split(cls, '-'),\n                tier = keys[0];\n            let _captionWidth,\n                widgetWidth;\n            _captionWidth = parseInt(keys[1], 10);\n            widgetWidth  = 12 - _captionWidth;\n            widgetWidth  = widgetWidth <= 0 ? 12 : widgetWidth;\n            captionCls += ' ' + 'col-' + tier + '-' + _captionWidth;\n            widgetCls  += ' ' + 'col-' + tier + '-' + widgetWidth;\n        });\n    }\n    return {\n        'captionCls' : captionCls,\n        'widgetCls'  : widgetCls\n    };\n};\n\nexport const getDefaultViewModeWidget = widget => {\n    if (_.includes(['checkbox', 'toggle', 'rating'], widget)) {\n        return VIEW_MODE_OPTIONS.DEFAULT;\n    }\n    return VIEW_MODE_OPTIONS.LABEL;\n};\n\nconst parseBooleanValue = value => {\n    if (value === 'true') {\n        return true;\n    }\n    if (value === 'false') {\n        return false;\n    }\n    if (/^\\d+$/.test(value)) { // Check if the value is a string of number type like '123'\n        return +value;\n    }\n    return value;\n};\n\nexport const parseValueByType = (value, type, widget) => {\n    if (widget) {\n        if (widget === FormWidgetType.NUMBER || widget === FormWidgetType.SLIDER || widget === FormWidgetType.CURRENCY) {\n            return isNaN(Number(value)) ? null : Number(value);\n        }\n        if (widget === FormWidgetType.CHECKBOX || widget === FormWidgetType.TOGGLE) {\n            return parseBooleanValue(value);\n        }\n        return value;\n    }\n    if (isNumberType(type)) {\n        return isNaN(Number(value)) ? null : Number(value);\n    }\n    if (type === DataType.BOOLEAN) {\n        return parseBooleanValue(value);\n    }\n    return value;\n};\n\nconst fieldTypeWidgetTypeMap = {\n    'integer'    : ['number', 'text', 'select', 'checkboxset', 'radioset', 'rating', 'slider', 'currency', 'autocomplete', 'chips'],\n    'big_integer': ['number', 'text', 'select', 'checkboxset', 'radioset', 'rating', 'slider', 'currency', 'autocomplete', 'chips'],\n    'short'      : ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'float'      : ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'big_decimal': ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'number'     : ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'double'     : ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'long'       : ['number', 'text', 'select', 'checkboxset', 'radioset', 'rating', 'slider', 'currency', 'autocomplete', 'chips'],\n    'byte'       : ['number', 'text', 'select', 'checkboxset', 'radioset', 'slider', 'currency', 'autocomplete', 'chips'],\n    'string'     : ['text', 'number',  'textarea', 'password', 'richtext', 'select', 'checkboxset', 'radioset', 'date', 'time', 'timestamp', 'switch', 'currency', 'autocomplete', 'chips', 'colorpicker'],\n    'character'  : ['text', 'number',  'textarea', 'password', 'richtext', 'select', 'checkboxset', 'radioset', 'switch', 'currency', 'autocomplete', 'chips'],\n    'text'       : ['text', 'number',  'textarea', 'password', 'richtext', 'select', 'checkboxset', 'radioset', 'date', 'time', 'timestamp', 'switch', 'currency', 'autocomplete', 'chips', 'colorpicker'],\n    'date'       : ['date', 'text', 'number', 'select', 'checkboxset', 'radioset', 'autocomplete', 'chips'],\n    'time'       : ['time', 'text', 'number', 'select', 'checkboxset', 'radioset', 'autocomplete', 'chips'],\n    'timestamp'  : ['timestamp', 'text', 'number', 'select', 'checkboxset', 'radioset', 'autocomplete', 'chips'],\n    'datetime'   : ['datetime', 'text', 'select', 'checkboxset', 'radioset', 'autocomplete', 'chips'],\n    'boolean'    : ['checkbox', 'radioset', 'toggle', 'select'],\n    'list'       : ['select', 'radioset', 'checkboxset', 'switch', 'autocomplete', 'chips'],\n    'clob'       : ['text', 'textarea', 'richtext'],\n    'blob'       : ['upload'],\n    'file'       : ['upload'],\n    'custom'     : ['text', 'number',  'textarea', 'password', 'checkbox', 'toggle', 'slider', 'richtext', 'currency', 'switch',\n        'select', 'checkboxset', 'radioset', 'date', 'time', 'timestamp', 'rating', 'datetime', 'autocomplete', 'chips', 'colorpicker']\n};\n\n// Get widgets applicable to the given type\nexport const getFieldTypeWidgetTypesMap = () => {\n    return fieldTypeWidgetTypeMap;\n};\n\n// Get filter widget applicable to the given type\nexport const getDataTableFilterWidget = type => {\n    let widget = fieldTypeWidgetTypeMap[type] && fieldTypeWidgetTypeMap[type][0];\n    if (type === DataType.BOOLEAN) {\n        widget = FormWidgetType.SELECT;\n    }\n    if (_.includes([FormWidgetType.TEXT, FormWidgetType.NUMBER, FormWidgetType.SELECT, FormWidgetType.AUTOCOMPLETE,\n            FormWidgetType.DATE, FormWidgetType.TIME, FormWidgetType.DATETIME], widget)) {\n        return widget;\n    }\n    return FormWidgetType.TEXT;\n};\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.getEditModeWidget\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * This function returns the default widget for grid\n *\n * @param {object} colDef field definition\n */\nexport const getEditModeWidget = colDef => {\n    if (colDef['related-entity-name'] && colDef['primary-key']) {\n        return FormWidgetType.SELECT;\n    }\n    return (fieldTypeWidgetTypeMap[colDef.type] && fieldTypeWidgetTypeMap[colDef.type][0]) || FormWidgetType.TEXT;\n};\n\n/**\n * @ngdoc function\n * @name wm.widgets.live.LiveWidgetUtils#getDefaultValue\n * @methodOf wm.widgets.live.LiveWidgetUtils\n * @function\n *\n * @description\n * return the formatted default value\n *\n * @param {string} value value to be formatted\n * @param {string} type column type of the value\n */\nexport const getDefaultValue = (value, type, widget) => {\n    if (widget) {\n        if (widget === FormWidgetType.NUMBER || widget === FormWidgetType.SLIDER || widget === FormWidgetType.CURRENCY) {\n            return isNaN(Number(value)) ? null : Number(value);\n        }\n        if (widget === FormWidgetType.CHECKBOX || widget === FormWidgetType.TOGGLE) {\n            return parseBooleanValue(value);\n        }\n        return value;\n    }\n    if (isNumberType(type)) {\n        return isNaN(Number(value)) ? null : Number(value);\n    }\n    if (type === DataType.BOOLEAN) {\n        return parseBooleanValue(value);\n    }\n    return value;\n};\n","import { Attribute, Element, Text } from '@angular/compiler';\n\nimport { DataType, FormWidgetType, getFormWidgetTemplate, IDGenerator, isDateTimeType } from '@wm/core';\nimport { getAttrMarkup, getDataSource, IBuildTaskDef, register } from '@wm/transpiler';\n\nimport { EDIT_MODE, getDataTableFilterWidget, getEditModeWidget } from '../../../../utils/live-utils';\n\nconst tagName = 'div';\nconst idGen = new IDGenerator('data_table_form_');\nconst formWidgets = new Set([\n    'wm-text',\n    'wm-textarea',\n    'wm-checkbox',\n    'wm-slider',\n    'wm-currency',\n    'wm-switch',\n    'wm-select',\n    'wm-checkboxset',\n    'wm-radioset',\n    'wm-date',\n    'wm-time',\n    'wm-timestamp',\n    'wm-rating',\n    'wm-datetime',\n    'wm-search',\n    'wm-chips',\n    'wm-colorpicker'\n]);\n\n// Add ngModelOptions standalone true as inner custom form widgets will be not part of table ngform\nconst addNgModelStandalone = (children = []) => {\n    children.forEach(childNode => {\n        if (formWidgets.has(childNode.name)) {\n            childNode.attrs.push(new Attribute('[ngModelOptions]', '{standalone: true}', <any>1, <any>1));\n        }\n        addNgModelStandalone(childNode.children);\n    });\n};\n\n// get the filter template (widget and filter menu) to be displayed in filter row\nconst getFilterTemplate = (attrs, pCounter)  => {\n    const widget = attrs.get('filterwidget') || getDataTableFilterWidget(attrs.get('type') || DataType.STRING);\n    const fieldName = attrs.get('binding');\n    const type = attrs.get('type') || 'string';\n    let datasourceBinding, submitEventBinding;\n    const datasetAttr = attrs.get('filterdataset.bind');\n    // when multicolumn is selected and filterwidget as autocomplete is assigned to dataset.\n    if (attrs.get('filterwidget') === 'autocomplete') {\n        if (datasetAttr) {\n            const binddatasource = getDataSource(datasetAttr);\n            datasourceBinding = `dataset.bind=\"${datasetAttr}\" datasource.bind=\"${binddatasource}\"`;\n        }\n        submitEventBinding = `submit.event=\"changeFn('${fieldName}')\"`;\n    }\n    const innerTmpl = `#filterWidget formControlName=\"${fieldName + '_filter'}\" ${datasourceBinding} ${submitEventBinding} change.event=\"changeFn('${fieldName}')\"\n                        disabled.bind=\"isDisabled('${fieldName}')\"`;\n    const options = {inputType: 'filterinputtype'} ;\n    const widgetTmpl = `${getFormWidgetTemplate(widget, innerTmpl, attrs, options)}`;\n\n    return `<ng-template #filterTmpl let-changeFn=\"changeFn\" let-isDisabled=\"isDisabled\">\n    <div class=\"input-group ${widget}\" data-col-identifier=\"${fieldName}\">\n        ${widgetTmpl}\n        <span class=\"input-group-addon filter-clear-icon\" *ngIf=\"${pCounter}.showClearIcon('${fieldName}')\">\n            <button class=\"btn-transparent btn app-button\" aria-label=\"Clear button\" type=\"button\" (click)=\"${pCounter}.clearRowFilter('${fieldName}')\">\n                <i class=\"app-icon wi wi-clear\" aria-hidden=\"true\"></i>\n            </button>\n         </span>\n        <span class=\"input-group-addon\" dropdown container=\"body\">\n            <button class=\"btn-transparent btn app-button\" type=\"button\" dropdownToggle><i class=\"app-icon wi wi-filter-list\"></i></button>\n            <ul class=\"matchmode-dropdown dropdown-menu\" *dropdownMenu>\n                   <li *ngFor=\"let matchMode of ${pCounter}.matchModeTypesMap['${type}']\"\n                        [ngClass]=\"{active: matchMode === (${pCounter}.rowFilter['${fieldName}'].matchMode || ${pCounter}.matchModeTypesMap['${type}'][0])}\">\n                        <a href=\"javascript:void(0);\" (click)=\"${pCounter}.onFilterConditionSelect('${fieldName}', matchMode)\" [innerText]=\"${pCounter}.matchModeMsgs[matchMode]\"></a>\n                    </li>\n             </ul>\n        </span>\n    </div></ng-template>`;\n};\n\nconst getEventsTmpl = attrs => {\n    let tmpl = '';\n    attrs.forEach((val, key) => {\n        if (key.endsWith('.event')) {\n            tmpl += `${key}=\"${val}\" `;\n        }\n    });\n    return tmpl;\n};\n\n// Generate inline edit properties template. Properties requiring row instance are generated here.\nconst getInlineEditRowPropsTmpl = attrs => {\n    const propAttrs = new Map();\n    const props = ['disabled', 'disabled.bind'];\n    props.forEach(prop => {\n        if (attrs.get(prop)) {\n            propAttrs.set(prop, attrs.get(prop));\n            attrs.delete(prop);\n        }\n    });\n    return getAttrMarkup(propAttrs);\n};\n\n// get the inline widget template\nconst getInlineEditWidgetTmpl = (attrs, isNewRow?, pCounter?) => {\n    const options: any = {};\n    const fieldName = attrs.get('binding');\n    const widget = attrs.get('edit-widget-type') || getEditModeWidget({\n        'type': attrs.get('type'),\n        'related-entity-name': attrs.get('related-entity-name'),\n        'primary-key': attrs.get('primary-key')\n    });\n    let widgetRef = '';\n    let formControl = '';\n    let wmFormWidget = '';\n    if (widget === FormWidgetType.UPLOAD) {\n        options.uploadProps = {\n            formName: idGen.nextUid(),\n            name: fieldName\n        };\n        options.counter = pCounter;\n    } else {\n        widgetRef = isNewRow ? '#inlineWidgetNew' : '#inlineWidget';\n        formControl = isNewRow ? `formControlName=\"${fieldName}_new\"` : `formControlName=\"${fieldName}\"`;\n        wmFormWidget = 'wmFormWidget';\n    }\n    options.inputType = 'editinputtype';\n    const tmplRef = isNewRow ? '#inlineWidgetTmplNew' : '#inlineWidgetTmpl';\n    const eventsTmpl = widget === FormWidgetType.UPLOAD ? '' : getEventsTmpl(attrs);\n    const rowPropsTl = getInlineEditRowPropsTmpl(attrs);\n    const innerTmpl = `${widgetRef} ${wmFormWidget} key=\"${fieldName}\" data-field-name=\"${fieldName}\" ${formControl} ${eventsTmpl} ${rowPropsTl}`;\n    const widgetTmpl = getFormWidgetTemplate(widget, innerTmpl, attrs, options);\n\n    return `<ng-template ${tmplRef} let-row=\"row\" let-getControl=\"getControl\" let-getValidationMessage=\"getValidationMessage\">\n                <div data-col-identifier=\"${fieldName}\" >\n                     ${widgetTmpl}\n                     <span placement=\"top\" container=\"body\" tooltip=\"{{getValidationMessage()}}\" class=\"text-danger wi wi-error\"\n                        *ngIf=\"getValidationMessage() && getControl() && getControl().invalid && getControl().touched\">\n                     </span>\n                     <span class=\"sr-only\" *ngIf=\"getValidationMessage()\">{{getValidationMessage()}}</span>\n                 </div>\n            </ng-template>`;\n};\n\nconst getFormatExpression = (attrs) => {\n    const columnValue = `row.getProperty('${attrs.get('binding')}')`;\n    let formatPattern = attrs.get('formatpattern');\n    let colExpression = '';\n    // For date time data types, if format pattern is not applied, Apply default toDate format\n    if (isDateTimeType(attrs.get('type')) && (!formatPattern || formatPattern === 'None')) {\n        attrs.set('formatpattern', 'toDate');\n        attrs.delete('datepattern');\n        formatPattern = 'toDate';\n    }\n    switch (formatPattern) {\n        case 'toDate':\n            colExpression = `{{${columnValue} | toDate: colDef.datepattern}}`;\n            break;\n        case 'toCurrency':\n            if (attrs.get('currencypattern')) {\n                colExpression = `{{${columnValue} | toCurrency: '${attrs.get('currencypattern')}`;\n\n                if (attrs.get('fractionsize')) {\n                    colExpression += `': ${attrs.get('fractionsize')}}}`;\n                } else {\n                    colExpression += `'}}`;\n                }\n            }\n            break;\n        case 'numberToString':\n            if (attrs.get('fractionsize')) {\n                colExpression = `{{${columnValue} | numberToString: '${attrs.get('fractionsize')}'}}`;\n            }\n            break;\n        case 'stringToNumber':\n            colExpression = `{{${columnValue} | stringToNumber}}`;\n            break;\n        case 'timeFromNow':\n            colExpression = `{{${columnValue} | timeFromNow}}`;\n            break;\n        case 'prefix':\n            if (attrs.get('prefix')) {\n                colExpression = `{{${columnValue} | prefix: '${attrs.get('prefix')}'}}`;\n            }\n            break;\n        case 'suffix':\n            if (attrs.get('suffix')) {\n                colExpression = `{{${columnValue} | suffix: '${attrs.get('suffix')}'}}`;\n            }\n            break;\n    }\n    return colExpression;\n};\n\nregister('wm-table-column', (): IBuildTaskDef => {\n    return {\n        requires: ['wm-table'],\n        template: (node: Element, shared) => {\n            if (node.children.length) {\n                // If node has children, but an empty text node dont generate custom expression\n                if (node.children.length === 1 && node.children[0] instanceof Text && (node.children[0] as Text).value.trim().length === 0) {\n                    return;\n                }\n                shared.set('customExpression', true);\n                addNgModelStandalone(node.children);\n            }\n        },\n        pre: (attrs, shared, parentTable) => {\n            let rowFilterTmpl = '';\n            let inlineEditTmpl = '';\n            let inlineNewEditTmpl = '';\n            let parentForm = '';\n            if (parentTable) {\n                const pCounter = parentTable.get('table_reference');\n                rowFilterTmpl = (parentTable.get('filtermode') === 'multicolumn' && attrs.get('searchable') !== 'false') ? getFilterTemplate(attrs, pCounter) : '';\n                const editMode = parentTable.get('editmode');\n                const isInlineEdit = (editMode !== EDIT_MODE.DIALOG && editMode !== EDIT_MODE.FORM && attrs.get('readonly') !== 'true');\n                inlineEditTmpl = isInlineEdit ? getInlineEditWidgetTmpl(attrs, false, pCounter) : '';\n                inlineNewEditTmpl = isInlineEdit && editMode === EDIT_MODE.QUICK_EDIT && parentTable.get('shownewrow') !== 'false' ? getInlineEditWidgetTmpl(attrs, true) : '';\n                parentForm = ` [formGroup]=\"${pCounter}.ngform\" `;\n            }\n            const formatPattern = attrs.get('formatpattern');\n            const customExpr = `<ng-template #customExprTmpl let-row=\"row\" let-colDef=\"colDef\" let-editRow=\"editRow\" let-deleteRow=\"deleteRow\" let-addNewRow=\"addNewRow\">`;\n            let customExprTmpl = '';\n            let formatExprTmpl = '';\n\n            if (shared.get('customExpression')) {\n                attrs.set('customExpression', 'true');\n                customExprTmpl = `${customExpr}<div data-col-identifier=\"${attrs.get('binding')}\">`;\n            } else if ((formatPattern && formatPattern !== 'None') || isDateTimeType(attrs.get('type'))) {\n                formatExprTmpl = getFormatExpression(attrs);\n                if (formatExprTmpl) {\n                    shared.set('customExpression', true);\n                    attrs.set('customExpression', 'true');\n                    customExprTmpl = `${customExpr}<div data-col-identifier=\"${attrs.get('binding')}\" title=\"${formatExprTmpl}\">${formatExprTmpl}`;\n                }\n            }\n\n            return `<${tagName} wmTableColumn ${getAttrMarkup(attrs)} ${parentForm}>\n                    ${rowFilterTmpl}\n                    ${inlineEditTmpl}\n                    ${inlineNewEditTmpl}\n                    ${customExprTmpl}`;\n        },\n        post: (attrs, shared) => {\n            let customExprTmpl = '';\n\n            if (shared.get('customExpression')) {\n                customExprTmpl = `</div></ng-template>`;\n            }\n            return `${customExprTmpl}</${tagName}>`;\n        }\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getRowActionAttrs } from '@wm/core';\n\nconst tagName = 'div';\n\nconst getRowExpansionActionTmpl = (attrs) => {\n    const tag = attrs.get('widget-type') === 'anchor' ? 'a' : 'button';\n    const directive = attrs.get('widget-type') === 'anchor' ? 'wmAnchor' : 'wmButton';\n    return `<ng-template #rowExpansionActionTmpl let-row=\"row\">\n               <${tag} ${directive}\n                    ${getRowActionAttrs(attrs)}\n                    class=\"${attrs.get('class')} row-expansion-button\"\n                    iconclass=\"${attrs.get('collapseicon')}\"\n                    type=\"button\"></${tag}>\n            </ng-template>`;\n};\n\nregister('wm-table-row', (): IBuildTaskDef => {\n    return {\n        pre: (attrs) => {\n            return `<${tagName} wmTableRow ${getAttrMarkup(attrs)}>\n                    ${getRowExpansionActionTmpl(attrs)}\n                    <ng-template #rowExpansionTmpl let-row=\"row\" let-rowDef=\"rowDef\" let-containerLoad=\"containerLoad\">\n                        <div wmContainer partialContainer content.bind=\"rowDef.content\" load.event=\"containerLoad(widget)\"\n                            [ngStyle]=\"{'height': rowDef.height, 'overflow-y': 'auto'}\">\n                         <div *ngFor=\"let param of rowDef.partialParams | keyvalue\" wmParam hidden\n                            [name]=\"param.key\" [value]=\"param.value\"></div>`;\n        },\n        post: () => `</div></ng-template></${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getRowActionAttrs } from '@wm/core';\n\nconst tagName = 'div';\n\nconst getSaveCancelTemplate = () => {\n    return `<button type=\"button\" aria-label=\"Save edit icon\" class=\"save row-action-button btn app-button btn-transparent save-edit-row-button hidden\" title=\"Save\">\n                <i class=\"wi wi-done\" aria-hidden=\"true\"></i>\n            </button>\n            <button type=\"button\" aria-label=\"Cancel edit icon\" class=\"cancel row-action-button btn app-button btn-transparent cancel-edit-row-button hidden\" title=\"Cancel\">\n                <i class=\"wi wi-cancel\" aria-hidden=\"true\"></i>\n            </button>`;\n};\n\n// get the inline widget template\nconst getRowActionTmpl = (attrs) => {\n    const action =  attrs.get('action');\n    const actionTmpl = action ? ` click.event.delayed=\"${action}\" ` : '';\n    const saveCancelTmpl = action && action.includes('editRow(') ? getSaveCancelTemplate() : '';\n    const btnClass = action ? (action.includes('editRow(') ? 'edit edit-row-button' :\n                        (action.includes('deleteRow(') ? 'delete delete-row-button' : '')) : '';\n    const tabIndex = attrs.get('tabindex') ? `tabindex=\"${attrs.get('tabindex')}\"` : '';\n    const tag = attrs.get('widget-type') === 'anchor' ? 'a' : 'button';\n    const directive = attrs.get('widget-type') === 'anchor' ? 'wmAnchor' : 'wmButton';\n    return `<ng-template #rowActionTmpl let-row=\"row\">\n               <${tag} ${directive} data-action-key=\"${attrs.get('key')}\"\n                    ${getRowActionAttrs(attrs)}\n                    class=\"row-action row-action-button ${attrs.get('class')} ${btnClass}\"\n                    iconclass=\"${attrs.get('iconclass')}\"\n                    ${actionTmpl}\n                    ${tabIndex}\n                    type=\"button\"></${tag}>\n                ${saveCancelTmpl}\n            </ng-template>`;\n};\n\nregister('wm-table-row-action', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTableRowAction ${getAttrMarkup(attrs)}>\n                        ${getRowActionTmpl(attrs)}`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { Element } from '@angular/compiler';\n\nimport { IDGenerator, updateTemplateAttrs } from '@wm/core';\nimport { getAttrMarkup, getBoundToExpr, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\nconst dataSetKey = 'dataset';\nconst idGen = new IDGenerator('table_');\n\nregister('wm-table', (): IBuildTaskDef => {\n    return {\n        template: (node: Element, shared) => {\n            // If table does not have child columns, set isdynamictable to true\n            if (node.children.length) {\n                const isColumnsPresent = node.children.some(childNode => {\n                    return (<any>childNode).name === 'wm-table-column' || (<any>childNode).name === 'wm-table-column-group';\n                });\n                shared.set('isdynamictable', isColumnsPresent ? 'false' : 'true');\n            } else {\n                shared.set('isdynamictable', 'true');\n            }\n\n            const datasetAttr = node.attrs.find(attr => attr.name === dataSetKey);\n            const widgetNameAttr = node.attrs.find(attr => attr.name === 'name');\n\n            if (!datasetAttr) {\n                return;\n            }\n            const boundExpr = getBoundToExpr(datasetAttr.value);\n\n            if (!boundExpr) {\n                return;\n            }\n            updateTemplateAttrs(node, boundExpr, widgetNameAttr.value, '', 'row');\n        },\n        pre: (attrs, shared) => {\n            const counter = idGen.nextUid();\n            shared.set('counter', counter);\n            attrs.set('isdynamictable', shared.get('isdynamictable'));\n            return `<${tagName} wmTable=\"${counter}\" wmTableFilterSort wmTableCUD #${counter} data-identifier=\"table\" role=\"table\" ${getAttrMarkup(attrs)}>`;\n        },\n        post: () => `</${tagName}>`,\n        provide: (attrs, shared) => {\n            const provider = new Map();\n            provider.set('table_reference', shared.get('counter'));\n            provider.set('filtermode', attrs.get('filtermode'));\n            provider.set('editmode', attrs.get('editmode'));\n            provider.set('shownewrow', attrs.get('shownewrow'));\n            return provider;\n        }\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'wm-input';\n\nregister('wm-text', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'wm-textarea';\n\nregister('wm-textarea', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} ${getFormMarkupAttr(attrs)} ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst  tagName = 'div';\n\nregister('wm-tile', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTile aria-describedby=\"Tile\" wm-navigable-element=\"true\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getFormMarkupAttr, IBuildTaskDef, register } from '@wm/transpiler';\nimport { getNgModelAttr } from '@wm/core';\n\nconst tagName = 'div';\n\nregister('wm-time', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTime ${getFormMarkupAttr(attrs)} role=\"input\" ${getNgModelAttr(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-tree', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTree redrawable ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'section';\n\nregister('wm-top-nav', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmTopNav partialContainer data-role=\"page-topnav\" role=\"region\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-video', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmVideo ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-wizard', (): IBuildTaskDef => {\n    return {\n        pre: attrs => `<${tagName} wmWizard role=\"tablist\" ${getAttrMarkup(attrs)}>`,\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { IDGenerator } from '@wm/core';\nimport { getAttrMarkup, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'form';\nconst idGen = new IDGenerator('wizard_step_id_');\n\nregister('wm-wizardstep', (): IBuildTaskDef => {\n    return {\n        pre: attrs => {\n            const counter = idGen.nextUid();\n            return `<${tagName} wmWizardStep #${counter}=\"wmWizardStep\" ${getAttrMarkup(attrs)}>\n                       <ng-template [ngIf]=\"${counter}.isInitialized\">`;\n        },\n        post: () => `</ng-template></${tagName}>`\n    };\n});\n\nexport default () => {};\n","import { getAttrMarkup, getDataSource, IBuildTaskDef, register } from '@wm/transpiler';\n\nconst tagName = 'div';\n\nregister('wm-fileupload', (): IBuildTaskDef => {\n    return {\n        pre: attrs => {\n            if (attrs.get('select.event')) {\n                const onSelectBinding = getDataSource(attrs.get('select.event'));\n                attrs.set('datasource.bind', onSelectBinding);\n            }\n            return `<${tagName} wmFileUpload ${getAttrMarkup(attrs)} role=\"input\">`;\n        },\n        post: () => `</${tagName}>`\n    };\n});\n\nexport default () => {};\n","export * from './widgets/common/accordion/accordion.build';\nexport * from './widgets/common/accordion/accordion-pane/accordion-pane.build';\nexport * from './widgets/common/tabs/tabs.build';\nexport * from './widgets/common/tabs/tab-pane/tab-pane.build';\nexport * from './widgets/common/anchor/anchor.build';\nexport * from './widgets/common/audio/audio.build';\nexport * from './widgets/common/breadcrumb/breadcrumb.build';\nexport * from './widgets/common/button-group/button-group.build';\nexport * from './widgets/common/button/button.build';\nexport * from './widgets/common/calendar/calendar.build';\nexport * from './widgets/common/card/card.build';\nexport * from './widgets/common/card/card-content/card-content.build';\nexport * from './widgets/common/card/card-actions/card-actions.build';\nexport * from './widgets/common/card/card-footer/card-footer.build';\nexport * from './widgets/common/carousel/carousel.build';\nexport * from './widgets/common/carousel/carousel-template/carousel-template.build';\nexport * from './widgets/common/chart/chart.build';\nexport * from './widgets/common/checkbox/checkbox.build';\nexport * from './widgets/common/checkboxset/checkboxset.build';\nexport * from './widgets/common/chips/chips.build';\nexport * from './widgets/common/color-picker/color-picker.build';\nexport * from './widgets/common/composite/composite.build';\nexport * from './widgets/common/container/container.build';\nexport * from './widgets/common/content/content.build';\nexport * from './widgets/common/currency/currency.build';\nexport * from './widgets/common/date-time/date-time.build';\nexport * from './widgets/common/date/date.build';\nexport * from './widgets/common/dialog/alert-dialog/alert-dialog.build';\nexport * from './widgets/common/dialog/confirm-dialog/confirm-dialog.build';\nexport * from './widgets/common/dialog/base/dialog-footer/dialog-footer.build';\nexport * from './widgets/common/dialog/design-dialog/dialog.build';\nexport * from './widgets/common/dialog/iframe-dialog/iframe-dialog.build';\nexport * from './widgets/common/dialog/login-dialog/login-dialog.build';\nexport * from './widgets/common/dialog/partial-dialog/partial-dialog.build';\nexport * from './widgets/common/footer/footer.build';\nexport * from './widgets/common/form/form-field/form-field.build';\nexport * from './widgets/common/form/form-action/form-action.build';\nexport * from './widgets/common/form/form.build';\nexport * from './widgets/common/header/header.build';\nexport * from './widgets/common/html/html.build';\nexport * from './widgets/common/icon/icon.build';\nexport * from './widgets/common/iframe/iframe.build';\nexport * from './widgets/common/label/label.build';\nexport * from './widgets/common/list/list.build';\nexport * from './widgets/common/layout-grid/layout-grid-column/layout-grid-column.build';\nexport * from './widgets/common/layout-grid/layout-grid-row/layout-grid-row.build';\nexport * from './widgets/common/layout-grid/layout-grid.build';\nexport * from './widgets/common/left-panel/left-panel.build';\nexport * from './widgets/common/live-table/live-table.build';\nexport * from './widgets/common/login/login.build';\nexport * from './widgets/common/marquee/marquee.build';\nexport * from './widgets/common/message/message.build';\nexport * from './widgets/common/menu/menu.build';\nexport * from './widgets/common/nav/nav-item/nav-item.build';\nexport * from './widgets/common/nav/nav.build';\nexport * from './widgets/common/navbar/navbar.build';\nexport * from './widgets/common/number/number.build';\nexport * from './widgets/common/page-content/page-content.build';\nexport * from './widgets/common/page/page.build';\nexport * from './widgets/common/pagination/pagination.build';\nexport * from './widgets/common/panel/panel.build';\nexport * from './widgets/common/partial/partial.build';\nexport * from './widgets/common/partial-param/partial-param.build';\nexport * from './widgets/common/picture/picture.build';\nexport * from './widgets/common/popover/popover.build';\nexport * from './widgets/common/prefab/prefab.build';\nexport * from './widgets/common/prefab-container/prefab-container.build';\nexport * from './widgets/common/progress-bar/progress-bar.build';\nexport * from './widgets/common/progress-bar/progress-circle/progress-circle.build';\nexport * from './widgets/common/radioset/radioset.build';\nexport * from './widgets/common/rating/rating.build';\nexport * from './widgets/common/rich-text-editor/rich-text-editor.build';\nexport * from './widgets/common/right-panel/right-panel.build';\nexport * from './widgets/common/search/search.build';\nexport * from './widgets/common/select/select.build';\nexport * from './widgets/common/slider/slider.build';\nexport * from './widgets/common/spinner/spinner.build';\nexport * from './widgets/common/switch/switch.build';\nexport * from './widgets/common/table/table-action/table-action.build';\nexport * from './widgets/common/table/table-column-group/table-column-group.build';\nexport * from './widgets/common/table/table-column/table-column.build';\nexport * from './widgets/common/table/table-row/table-row.build';\nexport * from './widgets/common/table/table-row-action/table-row-action.build';\nexport * from './widgets/common/table/table.build';\nexport * from './widgets/common/text/text.build';\nexport * from './widgets/common/textarea/textarea.build';\nexport * from './widgets/common/tile/tile.build';\nexport * from './widgets/common/time/time.build';\nexport * from './widgets/common/tree/tree.build';\nexport * from './widgets/common/top-nav/top-nav.build';\nexport * from './widgets/common/video/video.build';\nexport * from './widgets/common/wizard/wizard.build';\nexport * from './widgets/common/wizard/wizard-step/wizard-step.build';\nexport * from './widgets/common/file-upload/file-upload.build';\n\nexport * from '@wm/transpiler';\n\nexport const initComponentsBuildTask = () => {};\n"]}