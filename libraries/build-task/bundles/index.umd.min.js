!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/core"),require("@angular/compiler"),require("@wm/core"),require("@wm/transpiler")):"function"==typeof define&&define.amd?define("@wm/components",["exports","@angular/forms","@angular/core","@angular/compiler","@wm/core","@wm/transpiler"],t):t((e.wm=e.wm||{},e.wm.buildTask={}),e.ng.forms,e.ng.core,e.ng.compiler,e.wm.core,e.wm.transpiler)}(this,function(t,e,r,a,b,h){"use strict";h.register("wm-accordion",function(){return{pre:function(e){return'<div wmAccordion role="tablist" aria-multiselectable="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-accordionpane",function(){return{pre:function(e){return'<div wmAccordionPane partialContainer wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-tabs",function(){return{pre:function(e){return"<div wmTabs "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-tabpane",function(){return{pre:function(e){return"<div wmTabPane  partialContainer "+h.getAttrMarkup(e)+' wm-navigable-element="true" role="tabpanel">'},post:function(){return"</div>"}}});h.register("wm-anchor",function(){return{pre:function(e){return'<a wmAnchor role="link" data-identifier="anchor" '+h.getAttrMarkup(e)+">"},post:function(){return"</a>"}}});h.register("wm-audio",function(){return{pre:function(e){return"<div wmAudio "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-breadcrumb",function(){return{pre:function(e){return"<ol wmBreadcrumb "+h.getAttrMarkup(e)+">"},post:function(){return"</ol>"}}});h.register("wm-buttongroup",function(){return{pre:function(e){return'<div wmButtonGroup role="group" aria-labelledby="button group" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var n="button";h.register("wm-button",function(){return{pre:function(e){return"<"+n+" wmButton "+h.getAttrMarkup(e)+">"},post:function(){return"</"+n+">"}}});h.register("wm-calendar",function(){return{pre:function(e){return'<div wmCalendar redrawable style="width:100%" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-card",function(){return{pre:function(e){return"<div wmCard "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-card-content",function(){return{pre:function(e){return"<div wmCardContent partialContainer "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-card-actions",function(){return{pre:function(e){return"<div wmCardActions "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-card-footer",function(){return{pre:function(e){return"<div wmCardFooter "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var i="carousel",o=new b.IDGenerator("wm_carousel_ref_"),u=function(e){return e.attrs.find(function(e){return"type"===e.name&&"dynamic"===e.value})},c=u;h.register("wm-carousel",function(){return{pre:function(e,t){var r=o.nextUid();return t.set("carousel_ref",r),'<div class="app-carousel carousel"><'+i+" wmCarousel #"+r+'="wmCarousel"  '+h.getAttrMarkup(e)+' interval="0" [ngClass]="'+r+'.navigationClass">'},post:function(){return"</"+i+"></div>"},template:function(e){if(u(e)){var t=e.attrs.find(function(e){return"dataset"===e.name}),r=e.attrs.find(function(e){return"name"===e.name});if(!t)return;var n=h.getBoundToExpr(t.value);if(!n)return;b.updateTemplateAttrs(e,n,r.value)}},provide:function(e,t){var r=new Map;return r.set("carousel_ref",t.get("carousel_ref")),r}}});var l="slide";h.register("wm-carousel-content",function(){return{pre:function(e){return"<slide wmCarouselTemplate  "+h.getAttrMarkup(e)+">"},post:function(){return"</slide>"}}}),h.register("wm-carousel-template",function(){return{requires:["wm-carousel"],pre:function(e,t,r){var n=r.get("carousel_ref");return'<div *ngIf="!'+n+'.fieldDefs">{{'+n+".nodatamessage}}</div>\n                    <"+l+" wmCarouselTemplate  "+h.getAttrMarkup(e)+' *ngFor="let item of '+n+'.fieldDefs; let i = index;">\n                        <ng-container [ngTemplateOutlet]="tempRef" [ngTemplateOutletContext]="{item:item, index:i}"></ng-container>\n                    </'+l+'>\n                    <ng-template #tempRef let-item="item" let-index="index">'},post:function(){return"</ng-template>"}}});h.register("wm-chart",function(){return{pre:function(e){return"<div wmChart redrawable "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-checkbox",function(){return{pre:function(e){return'<div wmCheckbox role="input" '+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-checkboxset",function(){return{pre:function(e){return"<ul wmCheckboxset "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</ul>"}}});h.register("wm-chips",function(){return{pre:function(e){return'<ul wmChips role="listbox" '+h.getAttrMarkup(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</ul>"}}});h.register("wm-colorpicker",function(){return{pre:function(e){return"<div wmColorPicker "+h.getAttrMarkup(e)+' role="input" '+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-composite",function(){return{pre:function(e){return'<div wmComposite role="group" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-container",function(){return{pre:function(e){return'<div wmContainer partialContainer wmSmoothscroll="'+(e.get("smoothscroll")||"false")+'" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-content",function(){return{pre:function(e){return'<main wmContent data-role="page-content" role="main" '+h.getAttrMarkup(e)+">"},post:function(){return"</main>"}}});h.register("wm-currency",function(){return{pre:function(e){return"<div wmCurrency "+h.getAttrMarkup(e)+' role="input" '+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-datetime",function(){return{pre:function(e){return"<div wmDateTime "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-date",function(){return{pre:function(e){return"<div wmDate "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-alertdialog",function(){return{pre:function(e){return'<div wmAlertDialog role="alertdialog" wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-confirmdialog",function(){return{pre:function(e){return'<div wmConfirmDialog wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-dialogactions",function(){return{pre:function(e){return'<ng-template #dialogFooter><div wmDialogFooter data-identfier="actions" '+h.getAttrMarkup(e)+">"},post:function(){return"</div></ng-template>"}}});h.register("wm-dialog",function(){return{pre:function(e){return"<div wmDialog "+h.getAttrMarkup(e)+' wm-navigable-element="true"><ng-template #dialogBody>'},post:function(){return"</ng-template></div>"}}}),h.register("wm-view",function(){return{pre:function(e){return""},post:function(){return""}}});h.register("wm-iframedialog",function(){return{pre:function(e){return'<div wmIframeDialog wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-logindialog",function(){return{pre:function(e){return"<div wmDialog wmLoginDialog "+h.getAttrMarkup(e)+' eventsource.bind="Actions.loginAction" wm-navigable-element="true"><ng-template #dialogBody>'},post:function(){return"</ng-template></div>"}}});h.register("wm-pagedialog",function(){return{pre:function(e,t){var r=e.get("content");e["delete"]("content");var n=e.get("content.bind");e["delete"]("content.bind");var i=e.get("load.event");e["delete"]("load.event");var o="",a="";i&&(o='load.event="'+i+'"'),n?a='content.bind="'+n+'"':r&&(a='content="'+r+'"');var u="";return a&&(t.set("hasPartialContent",!0),u+="<ng-template><div wmContainer partialContainer "+a+' width="100%" height="100%" '+o+">"),"<div wmPartialDialog "+h.getAttrMarkup(e)+">"+u},post:function(e,t){var r="";return t.get("hasPartialContent")&&(r="</div></ng-template>"),r+"</div>"}}});var p="footer";h.register("wm-footer",function(){return{pre:function(e){return"<"+p+' wmFooter partialContainer data-role="page-footer" role="contentinfo" '+h.getAttrMarkup(e)+">"},post:function(){return"</"+p+">"}}});new r.InjectionToken("Context Provider Reference");var s,d,m=new Set([b.FormWidgetType.SELECT,b.FormWidgetType.CHECKBOXSET,b.FormWidgetType.RADIOSET,b.FormWidgetType.SWITCH,b.FormWidgetType.AUTOCOMPLETE,b.FormWidgetType.CHIPS,b.FormWidgetType.TYPEAHEAD,b.FormWidgetType.RATING]);(d=s||(s={})).INSERT="insert",d.UPDATE="update",d.DELETE="delete",d.READ="read";var M=new b.IDGenerator("formfield_"),g=new Map([[b.FormWidgetType.SELECT,["Select Min value","Select Max value","Select value"]],[b.FormWidgetType.DATETIME,["Select Min date time","Select Max date time","Select date time"]],[b.FormWidgetType.TIME,["Select Min time","Select Max time","Select time"]],[b.FormWidgetType.DATE,["Select Min date","Select Max date","Select date"]],[b.FormWidgetType.TEXTAREA,["","","Enter value"]],[b.FormWidgetType.RICHTEXT,["","","Enter value"]],[b.FormWidgetType.COLORPICKER,["Select Color","Select Color","Select Color"]],[b.FormWidgetType.CHIPS,["","","Type here..."]],[b.FormWidgetType.PASSWORD,["Enter Min value","Enter Max value","Enter value"]],[b.FormWidgetType.NUMBER,["Enter Min value","Enter Max value","Enter value"]],[b.FormWidgetType.TEXT,["Enter Min value","Enter Max value","Enter value"]],[b.FormWidgetType.CURRENCY,["Enter Min value","Enter Max value","Enter value"]],[b.FormWidgetType.AUTOCOMPLETE,["","","Search"]]]),A=function(e,t,r){var n=1===r?"maxplaceholder":"placeholder",i=e.get(n);i||""===i||(i=g.get(t)&&g.get(t)[r])&&e.set(n,i)},f=A,w=function(e,t){var r=e.get("name"),n=(e.get("key")||r||"").trim(),i=t.isMaxWidget?'formControlName="'+n+'_max"':t.isInList?'[formControlName]="'+t.counter+'._fieldName"':'formControlName="'+n+'"',o=t.isMaxWidget?"#formWidgetMax":"#formWidget",a=r?t.isMaxWidget?'name="'+r+'_formWidgetMax"':'name="'+r+'_formWidget"':"",u='[class.hidden]="!'+t.pCounter+".isUpdateMode && "+t.counter+".viewmodewidget !== 'default'\" "+i+" "+t.eventsTmpl+" "+o+" "+a;return b.getFormWidgetTemplate(t.widgetType,u,e,{counter:t.counter,pCounter:t.pCounter})},v=w,y=function(e,t,r,n,i,o){if(!("true"===e.get("is-range")))return w(e,{widgetType:t,eventsTmpl:r,counter:n,pCounter:i,isInList:o});var a=b.isMobileApp()?"col-xs-6":"col-sm-6";return'<div class="'+a+'">'+w(e,{widgetType:t,eventsTmpl:r,counter:n,pCounter:i})+'</div>\n                <div class="'+a+'">'+w(e,{widgetType:t,eventsTmpl:r,counter:n,pCounter:i,isMaxWidget:!0})+"</div>"},k=y,T=function(e,t,r){if("true"===e.get("is-related"))return r+".getDisplayExpr()";if(t===b.FormWidgetType.PASSWORD)return"'********'";var n,i=r+".value";return t===b.FormWidgetType.DATETIME||t===b.FormWidgetType.TIMESTAMP?i+=" | toDate:"+r+".formWidget.datepattern || 'yyyy-MM-dd hh:mm:ss a'":t===b.FormWidgetType.TIME?i+=" | toDate:"+r+".formWidget.timepattern || 'hh:mm a'":t===b.FormWidgetType.DATE?i+=" | toDate:"+r+".formWidget.datepattern ||  'yyyy-MMM-dd'":t===b.FormWidgetType.RATING||t===b.FormWidgetType.UPLOAD?"":(n=t,m.has(n)&&"All Fields"===e.get("datafield")?r+".getDisplayExpr()":r+".getCaption()")},x=T,C=function(v){return{requires:["wm-form","wm-liveform","wm-livefilter","wm-list"],pre:function(e,t,r,n,i,o){var a,u,c=M.nextUid(),l=r||n||i,p=l&&l.get("form_reference")||"form",s=e.get("widget")||b.FormWidgetType.TEXT,d=v?"form-field":"filter-field",m=v?'<p *ngIf="'+c+"._control?.invalid && "+c+"._control?.touched && "+p+'.isUpdateMode"\n                                   class="help-block text-danger"\n                                   [textContent]="'+c+'.validationmessage"></p>':"",g=s===b.FormWidgetType.UPLOAD?"":(a=e,u=new Map,a.has("focus.event")||a.set("focus.event",""),a.has("blur.event")||a.set("blur.event",""),a.forEach(function(e,t){t.endsWith(".event")&&("focus.event"===t?e="_onFocusField($event);"+e:"blur.event"===t&&(e="_onBlurField($event);"+e),u.set(t,e),a["delete"](t))}),h.getFormMarkupAttr(u)),f=b.isMobileApp()?"col-xs-12":"col-sm-12",w=p===(o&&o.get("parent_form_reference"));return e["delete"]("widget"),t.set("counter",c),"true"===e.get("is-range")?(A(e,s,0),A(e,s,1)):A(e,s,2),'<div data-role="'+d+'" [formGroup]="'+p+'.ngform" wmFormField #'+c+'="wmFormField" widgettype="'+s+'" '+h.getFormMarkupAttr(e)+'>\n                        <div class="live-field form-group app-composite-widget clearfix caption-{{'+p+'.captionposition}}" widget="'+s+'">\n                            <label [hidden]="!'+c+'.displayname" class="app-label control-label formfield-label {{'+p+'._captionClass}}" [title]="'+c+'.displayname"\n                                        [ngStyle]="{width: '+p+".captionsize}\" [ngClass]=\"{'text-danger': "+c+"._control?.invalid && "+c+"._control?.touched && "+p+".isUpdateMode,\n                                         required: "+p+".isUpdateMode && "+c+'.required}" [textContent]="'+c+'.displayname"> </label>\n                            <div [ngClass]="'+c+".displayname ? "+p+"._widgetClass : '"+f+'\'">\n                                 <label class="form-control-static app-label"\n                                       [hidden]="'+p+".isUpdateMode || "+c+".viewmodewidget === 'default' || "+c+".widgettype === 'upload'\" [innerHTML]=\""+T(e,s,c)+'"></label>\n                                '+y(e,s,g,c,p,w)+'\n                                <p *ngIf="!('+c+"._control?.invalid && "+c+"._control?.touched) && "+p+'.isUpdateMode"\n                                   class="help-block" [textContent]="'+c+'.hint"></p>\n                                '+m+"\n                            </div>\n                        </div>"},post:function(){return"</div>"},provide:function(e,t){var r=new Map;return r.set("form_reference",t.get("counter")),r}}},E=C;h.register("wm-form-field",C.bind(this,!0)),h.register("wm-filter-field",C.bind(this,!1));var F=function(t){return{pre:function(e){return'<div wmFormAction name="'+(e.get("name")||e.get("key"))+'" '+h.getAttrMarkup(e)+" "+t+">"},post:function(){return"</div>"}}};h.register("wm-form-action",F.bind(this,"")),h.register("wm-filter-action",F.bind(this,' update-mode="true" '));var W=new b.IDGenerator("form_"),D=new Set(["wm-text","wm-textarea","wm-checkbox","wm-slider","wm-richtexteditor","wm-currency","wm-switch","wm-select","wm-checkboxset","wm-radioset","wm-date","wm-time","wm-timestamp","wm-upload","wm-rating","wm-datetime","wm-search","wm-chips","wm-colorpicker","wm-table"]),S=function(e){void 0===e&&(e=[]),e.forEach(function(e){if(D.has(e.name)){var t=e.attrs.find(function(e){return"key"===e.name||"name"===e.name});t=t&&t.value,e.attrs.push(new a.Attribute("formControlName",t,1,1)),e.attrs.push(new a.Attribute("wmFormWidget","",1,1))}S(e.children)})},N=function(w){return void 0===w&&(w=""),{requires:["wm-livetable","wm-login"],template:function(e){S(e.children)},pre:function(t,e,r,n){var i,o,a=n&&n.get("isLogin")?"app-login":"",u=W.nextUid(),c=t.get("dependson")?'dependson="'+t.get("dependson")+'"':"",l="page"===t.get("formlayout")?"app-device-liveform panel liveform-inline":"";t["delete"]("dependson");var p='<form wmForm role="'+a+'" '+w+" #"+u+' ngNativeValidate [formGroup]="'+u+'.ngform" [noValidate]="'+u+".validationtype !== 'html'\"\n                    class=\""+l+'" [class]="'+u+'.captionAlignClass" [autocomplete]="'+u+".autocomplete ? 'on' : 'off'\" captionposition="+t.get("captionposition");if(e.set("counter",u),function(e){if(e.get("formdata.bind")){var t=h.getDataSource(e.get("formdata.bind"));t&&e.set("formdatasource.bind",t)}}(t),"dialog"===t.get("formlayout")){o=r?r.get("liveform_dialog_id"):"liveform_dialog_id_"+u,t.set("dialogId",o);var s=new Map;return["title","title.bind","iconclass","iconclass.bind","width"].forEach(function(e){t.get(e)&&s.set(e,t.get(e))}),t.set("width","100%"),i=h.getAttrMarkup(t),'<div data-identifier="liveform" init-widget class="app-liveform liveform-dialog" '+c+' dialogid="'+o+'">\n                            <div wmDialog class="app-liveform-dialog" name="'+o+'" role="form" '+h.getAttrMarkup(s)+' modal="true">\n                            <ng-template #dialogBody>\n                            '+p+" "+i+">"}var d="",m="";if("page"===t.get("formlayout")){var g="device_liveform_header_"+u,f=new Map;f.set("title",t.get("title")),f.set("backbtnclick.event",t.get("backbtnclick.event")),m='<ng-template #buttonRef let-btn="btn">\n                                            <button  wmButton name="{{btn.key}}" class="navbar-btn btn-primary btn-transparent" iconclass.bind="btn.iconclass" show.bind="btn.show"\n                                                     (click)="'+u+'.invokeActionEvent($event, btn.action)" type.bind="btn.type" hint.bind="btn.title" shortcutkey.bind="btn.shortcutkey" disabled.bind="btn.disabled"\n                                                     tabindex.bind="btn.tabindex" [class.hidden]="btn.updateMode ? !'+u+".isUpdateMode : "+u+'.isUpdateMode"></button>\n                                        </ng-template>',d='<header wmMobileNavbar name="'+g+'" '+h.getAttrMarkup(f)+'>\n                                            <ng-container *ngFor="let btn of '+u+'.buttonArray" [ngTemplateOutlet]="buttonRef" [ngTemplateOutletContext]="{btn:btn}">\n                                            </ng-container>\n                                        </header>\n                                        <div class="form-elements panel-body" >'}return p+" "+(i=h.getAttrMarkup(t))+" "+c+">\n                       "+m+" "+d},post:function(e){return"dialog"===e.get("formlayout")?"</form></ng-template></div></div>":"page"===e.get("formlayout")?"</div></form>":"</form>"},provide:function(e,t){var r=new Map;return r.set("form_reference",t.get("counter")),r}}};h.register("wm-form",N),h.register("wm-liveform",function(){return N("wmLiveForm")}),h.register("wm-livefilter",function(){return N("wmLiveFilter")});h.register("wm-header",function(){return{pre:function(e){return'<header wmHeader partialContainer data-role="page-header" role="banner" '+h.getAttrMarkup(e)+">"},post:function(){return"</header>"}}});h.register("wm-html",function(){return{pre:function(e){return"<div wmHtml "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-icon",function(){return{pre:function(e){return'<span wmIcon aria-hidden="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</span>"}}});h.register("wm-iframe",function(){return{pre:function(e){return"<div wmIframe "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-label",function(){return{pre:function(e){return"<label wmLabel "+h.getAttrMarkup(e)+">"},post:function(){return"</label>"}}});h.register("wm-list",function(){return{requires:["wm-form","wm-liveform"],template:function(e){var t=e.attrs.find(function(e){return"dataset"===e.name}),r=e.attrs.find(function(e){return"name"===e.name});if(t){var n=h.getBoundToExpr(t.value);n&&b.updateTemplateAttrs(e,n,r.value,"itemRef.")}},pre:function(e,t,r,n){var i=r||n;return t.set("form_reference",i&&i.get("form_reference")),"<div wmList wmLiveActions "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"},provide:function(e,t){var r=new Map;return r.set("parent_form_reference",t.get("form_reference")),r}}}),h.register("wm-listtemplate",function(){return{pre:function(){return'<ng-template #listTemplate let-item="item" let-$index="$index" let-itemRef="itemRef" let-$first="$first" let-$last="$last"  let-currentItemWidgets="currentItemWidgets" >'},post:function(){return"</ng-template>"}}}),h.register("wm-list-action-template",function(){return{template:function(t){t.attrs.find(function(e){return"position"===e.name}).value;t.children.filter(function(e){return e instanceof a.Element&&"wm-button"===e.name}).forEach(function(e){!function o(e,t,r,n){var i=e.attrs.find(function(e){return e.name===t});i&&r.attrs.push(new a.Attribute(n,i.value,i.sourceSpan,i.valueSpan))}(t,"position",e,"swipe-position")})},pre:function(e,t){return"left"===e.get("position")?'<ng-template #listLeftActionTemplate>\n                            <li class="app-list-item-action-panel app-list-item-left-action-panel actionMenu" '+h.getAttrMarkup(e)+">":"right"===e.get("position")?'<ng-template #listRightActionTemplate>\n                            <li class="app-list-item-action-panel app-list-item-right-action-panel actionMenu" '+h.getAttrMarkup(e)+">":void 0},post:function(){return"</li></ng-template>"}}});h.register("wm-gridcolumn",function(){return{pre:function(e){return"<div wmLayoutGridColumn "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-gridrow",function(){return{pre:function(e){return"<div wmLayoutGridRow "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-layoutgrid",function(){return{pre:function(e){return"<div wmLayoutGrid "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-left-panel",function(){return{pre:function(e){return'<aside wmLeftPanel partialContainer data-role="page-left-panel" role="complementary" wmSmoothscroll="'+(e.get("smoothscroll")||"true")+'" '+h.getAttrMarkup(e)+">"},post:function(){return"</aside>"}}});var P=new b.IDGenerator("liveform_dialog_id_");h.register("wm-livetable",function(){return{pre:function(e,t){var r=P.nextUid();return t.set("counter",r),'<div wmLiveTable role="table" '+h.getAttrMarkup(e)+' dialogid="'+r+'">'},post:function(){return"</div>"},provide:function(e,t){var r=new Map;return r.set("liveform_dialog_id",t.get("counter")),r}}});h.register("wm-login",function(){return{pre:function(e){return"<div wmLogin "+h.getAttrMarkup(e)+' eventsource.bind="Actions.loginAction">'},post:function(){return"</div>"},provide:function(){var e=new Map;return e.set("isLogin",!0),e}}});var I="marquee";h.register("wm-marquee",function(){return{pre:function(e){return"<"+I+' onmouseover="this.stop();" onmouseout="this.start();" wmMarquee role="marquee" aria-live="off" '+h.getAttrMarkup(e)+">"},post:function(){return"</"+I+">"}}});h.register("wm-message",function(){return{pre:function(e){return'<p wmMessage aria-label="Notification Alerts" '+h.getAttrMarkup(e)+">"},post:function(){return"</p>"}}});h.register("wm-menu",function(){return{pre:function(e){return"<div wmMenu dropdown "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-nav-item",function(){return{pre:function(e){return'<li wmNavItem role="presentation" '+h.getAttrMarkup(e)+">"},post:function(){return"</li>"}}});h.register("wm-nav",function(){return{pre:function(e){return'<ul wmNav data-element-type="wmNav" data-role="page-header" '+h.getAttrMarkup(e)+">"},post:function(){return"</ul>"}}});h.register("wm-navbar",function(){return{pre:function(e){return'<nav wmNavbar data-element-type="wmNavbar" role="navigation" '+h.getAttrMarkup(e)+">"},post:function(){return"</nav>"}}});h.register("wm-number",function(){return{pre:function(e){return"<div wmNumber "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-page-content",function(){return{pre:function(e){return'<div wmPageContent wmSmoothscroll="'+(e.get("smoothscroll")||"true")+'" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var R=function(e,t){return e&&e.children.find(function(e){return e instanceof a.Element&&e.name===t})},L=function(e){return new a.Element(e,[],[],O,O,O)},U=function(e,t,r){var n=new a.Attribute(t,r,O,O);e.attrs.push(n)},O={};h.register("wm-page",function(){return{template:function(e){if(b.isMobileApp()){var t=R(R(e,"wm-content"),"wm-page-content");if(t){var r=L("ng-container");U(r,"*ngIf","compilePageContent");var n=L("div");U(n,"wmPageContentLoader",""),U(n,"*ngIf","!showPageContent"),r.children=r.children.concat(t.children),r.children.push(new a.Text("{{onPageContentReady()}}",null)),t.children=[r,n]}}},pre:function(e){return'<div wmPage data-role="pageContainer" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-pagination",function(){return{pre:function(e){return'<nav wmPagination data-identifier="pagination" aria-label="Page navigation" '+h.getAttrMarkup(e)+">"},post:function(){return"</nav>"}}});h.register("wm-panel",function(){return{pre:function(e){return'<div wmPanel partialContainer aria-label="panel" wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}}),h.register("wm-panel-footer",function(){return{pre:function(e){return'<div wmPanelFooter aria-label="panel footer" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var B="section";h.register("wm-partial",function(){return{pre:function(e){return"<"+B+' wmPartial data-role="partial" role="region" '+h.getAttrMarkup(e)+">"},post:function(){return"</"+B+">"}}});h.register("wm-param",function(){return{pre:function(e){return"<div wmParam hidden "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-picture",function(){return{pre:function(e){return'<img wmPicture alt="image" wmImageCache="'+(e.get("offline")||"true")+'" '+h.getAttrMarkup(e)+">"}}});var q="wm-popover";h.register("wm-popover",function(){return{requires:["wm-table"],pre:function(e,t,r){var n;if("inline"!==e.get("contentsource")){var i=e.get("content"),o=e.get("content.bind"),a="";i?a='content="'+i+'"':o&&(a='content.bind="'+o+'"'),n="<div wmContainer #partial partialContainer "+a+">",t.set("hasPopoverContent",!0)}var u="<"+q+" wmPopover "+h.getAttrMarkup(e)+">";return u+="<ng-template "+(r?'let-row="row"':"")+'><button class="popover-start"></button>',n&&(u+=""+(n||"")),u},post:function(e,t){var r="";return t.get("hasPopoverContent")&&(r+="</div>"),r+'<button class="popover-end"></button></ng-template></'+q+">"}}});var G="section";h.register("wm-prefab",function(){return{pre:function(e){return"<"+G+' wmPrefab data-role="perfab" '+h.getAttrMarkup(e)+">"},post:function(){return"</"+G+">"}}});h.register("wm-prefab-container",function(){return{pre:function(e){return"<div wmPrefabContainer "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var z=function(e,t){return e.attrs.find(function(e){return e.name===t})},$=function(e,t){var r=z(e,t);if(r)return r.value};h.register("wm-progress-bar",function(){return{template:function(e){var t,r=$(e,"dataset"),n=h.getBoundToExpr(r);if(n){var i=$(e,"type"),o=$(e,"datavalue"),a=(t=n,new RegExp("bind:("+t+"|"+t+"\\[\\$i])\\.","g"));i&&i.includes(n)&&(i=i.replace(a,""),z(e,"type").value=i),o&&o.includes(n)&&(o=o.replace(a,""),z(e,"datavalue").value=o)}},pre:function(e){return"<div wmProgressBar "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-progress-circle",function(){return{pre:function(e){return"<div wmProgressCircle "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-radioset",function(){return{pre:function(e){return'<ul wmRadioset role="radiogroup" '+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</ul>"}}});h.register("wm-rating",function(){return{pre:function(e){return"<div wmRating "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-richtexteditor",function(){return{pre:function(e){return'<div wmRichTextEditor role="textbox" '+h.getFormMarkupAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-right-panel",function(){return{pre:function(e){return'<aside wmRightPanel partialContainer data-role="page-right-panel" role="complementary" '+h.getAttrMarkup(e)+">"},post:function(){return"</aside>"}}});h.register("wm-search",function(){return{pre:function(e){return"<div wmSearch "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});var H="wm-select";h.register("wm-select",function(){return{pre:function(e){return"<"+H+" "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</"+H+">"}}});h.register("wm-slider",function(){return{pre:function(e){return"<div wmSlider "+h.getAttrMarkup(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-spinner",function(){return{pre:function(e){return'<div wmSpinner role="loading" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-switch",function(){return{pre:function(e){return"<div wmSwitch "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-table-action",function(){return{pre:function(e){return'<div name="'+(e.get("name")||e.get("key"))+'" wmTableAction '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-table-column-group",function(){return{pre:function(e){return"<div wmTableColumnGroup "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var V="quickedit",X="form",j="dialog",K={integer:["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],big_integer:["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],"short":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"float":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],big_decimal:["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],number:["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"double":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"long":["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],"byte":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],string:["text","number","textarea","password","richtext","select","checkboxset","radioset","date","time","timestamp","switch","currency","autocomplete","chips","colorpicker"],character:["text","number","textarea","password","richtext","select","checkboxset","radioset","switch","currency","autocomplete","chips"],text:["text","number","textarea","password","richtext","select","checkboxset","radioset","date","time","timestamp","switch","currency","autocomplete","chips","colorpicker"],date:["date","text","number","select","checkboxset","radioset","autocomplete","chips"],time:["time","text","number","select","checkboxset","radioset","autocomplete","chips"],timestamp:["timestamp","text","number","select","checkboxset","radioset","autocomplete","chips"],datetime:["datetime","text","select","checkboxset","radioset","autocomplete","chips"],"boolean":["checkbox","radioset","toggle","select"],list:["select","radioset","checkboxset","switch","autocomplete","chips"],clob:["text","textarea","richtext"],blob:["upload"],file:["upload"],custom:["text","number","textarea","password","checkbox","toggle","slider","richtext","currency","switch","select","checkboxset","radioset","date","time","timestamp","rating","datetime","autocomplete","chips","colorpicker"]},Y=new b.IDGenerator("data_table_form_"),J=new Set(["wm-text","wm-textarea","wm-checkbox","wm-slider","wm-currency","wm-switch","wm-select","wm-checkboxset","wm-radioset","wm-date","wm-time","wm-timestamp","wm-rating","wm-datetime","wm-search","wm-chips","wm-colorpicker"]),Q=function(e){void 0===e&&(e=[]),e.forEach(function(e){J.has(e.name)&&e.attrs.push(new a.Attribute("[ngModelOptions]","{standalone: true}",1,1)),Q(e.children)})},Z=function(e,t){var r,n,i,o,a=e.get("filterwidget")||(r=e.get("type")||b.DataType.STRING,n=K[r]&&K[r][0],r===b.DataType.BOOLEAN&&(n=b.FormWidgetType.SELECT),_.includes([b.FormWidgetType.TEXT,b.FormWidgetType.NUMBER,b.FormWidgetType.SELECT,b.FormWidgetType.AUTOCOMPLETE,b.FormWidgetType.DATE,b.FormWidgetType.TIME,b.FormWidgetType.DATETIME],n)?n:b.FormWidgetType.TEXT),u=e.get("binding"),c=e.get("type")||"string",l=e.get("filterdataset.bind");if("autocomplete"===e.get("filterwidget")){if(l)i='dataset.bind="'+l+'" datasource.bind="'+h.getDataSource(l)+'"';o="submit.event=\"changeFn('"+u+"')\""}var p='#filterWidget formControlName="'+u+'_filter" '+i+" "+o+" change.event=\"changeFn('"+u+"')\"\n                        disabled.bind=\"isDisabled('"+u+"')\"";return'<ng-template #filterTmpl let-changeFn="changeFn" let-isDisabled="isDisabled">\n    <div class="input-group '+a+'" data-col-identifier="'+u+'">\n        '+(""+b.getFormWidgetTemplate(a,p,e,{inputType:"filterinputtype"}))+'\n        <span class="input-group-addon filter-clear-icon" *ngIf="'+t+".showClearIcon('"+u+'\')">\n            <button class="btn-transparent btn app-button" aria-label="Clear button" type="button" (click)="'+t+".clearRowFilter('"+u+'\')">\n                <i class="app-icon wi wi-clear" aria-hidden="true"></i>\n            </button>\n         </span>\n        <span class="input-group-addon" dropdown container="body">\n            <button class="btn-transparent btn app-button" type="button" dropdownToggle><i class="app-icon wi wi-filter-list"></i></button>\n            <ul class="matchmode-dropdown dropdown-menu" *dropdownMenu>\n                   <li *ngFor="let matchMode of '+t+".matchModeTypesMap['"+c+'\']"\n                        [ngClass]="{active: matchMode === ('+t+".rowFilter['"+u+"'].matchMode || "+t+".matchModeTypesMap['"+c+'\'][0])}">\n                        <a href="javascript:void(0);" (click)="'+t+".onFilterConditionSelect('"+u+'\', matchMode)" [innerText]="'+t+'.matchModeMsgs[matchMode]"></a>\n                    </li>\n             </ul>\n        </span>\n    </div></ng-template>'},ee=function(e,t,r){var n,i={},o=e.get("binding"),a=e.get("edit-widget-type")||((n={type:e.get("type"),"related-entity-name":e.get("related-entity-name"),"primary-key":e.get("primary-key")})["related-entity-name"]&&n["primary-key"]?b.FormWidgetType.SELECT:K[n.type]&&K[n.type][0]||b.FormWidgetType.TEXT),u="",c="",l="";a===b.FormWidgetType.UPLOAD?(i.uploadProps={formName:Y.nextUid(),name:o},i.counter=r):(u=t?"#inlineWidgetNew":"#inlineWidget",c=t?'formControlName="'+o+'_new"':'formControlName="'+o+'"',l="wmFormWidget"),i.inputType="editinputtype";var p,s,d,m=t?"#inlineWidgetTmplNew":"#inlineWidgetTmpl",g=u+" "+l+' key="'+o+'" data-field-name="'+o+'" '+c+" "+(a===b.FormWidgetType.UPLOAD?"":(p="",e.forEach(function(e,t){t.endsWith(".event")&&(p+=t+'="'+e+'" ')}),p))+" "+(s=e,d=new Map,["disabled","disabled.bind"].forEach(function(e){s.get(e)&&(d.set(e,s.get(e)),s["delete"](e))}),h.getAttrMarkup(d));return"<ng-template "+m+' let-row="row" let-getControl="getControl" let-getValidationMessage="getValidationMessage">\n                <div data-col-identifier="'+o+'" >\n                     '+b.getFormWidgetTemplate(a,g,e,i)+'\n                     <span placement="top" container="body" tooltip="{{getValidationMessage()}}" class="text-danger wi wi-error"\n                        *ngIf="getValidationMessage() && getControl() && getControl().invalid && getControl().touched">\n                     </span>\n                     <span class="sr-only" *ngIf="getValidationMessage()">{{getValidationMessage()}}</span>\n                 </div>\n            </ng-template>'};h.register("wm-table-column",function(){return{requires:["wm-table"],template:function(e,t){if(e.children.length){if(1===e.children.length&&e.children[0]instanceof a.Text&&0===e.children[0].value.trim().length)return;t.set("customExpression",!0),Q(e.children)}},pre:function(e,t,r){var n="",i="",o="",a="";if(r){var u=r.get("table_reference");n="multicolumn"===r.get("filtermode")&&"false"!==e.get("searchable")?Z(e,u):"";var c=r.get("editmode"),l=c!==j&&c!==X&&"true"!==e.get("readonly");i=l?ee(e,!1,u):"",o=l&&c===V&&"false"!==r.get("shownewrow")?ee(e,!0):"",a=' [formGroup]="'+u+'.ngform" '}var p=e.get("formatpattern"),s='<ng-template #customExprTmpl let-row="row" let-colDef="colDef" let-editRow="editRow" let-deleteRow="deleteRow" let-addNewRow="addNewRow">',d="",m="";return t.get("customExpression")?(e.set("customExpression","true"),d=s+'<div data-col-identifier="'+e.get("binding")+'">'):(p&&"None"!==p||b.isDateTimeType(e.get("type")))&&(m=function(e){var t="row.getProperty('"+e.get("binding")+"')",r=e.get("formatpattern"),n="";switch(!b.isDateTimeType(e.get("type"))||r&&"None"!==r||(e.set("formatpattern","toDate"),e["delete"]("datepattern"),r="toDate"),r){case"toDate":n="{{"+t+" | toDate: colDef.datepattern}}";break;case"toCurrency":e.get("currencypattern")&&(n="{{"+t+" | toCurrency: '"+e.get("currencypattern"),e.get("fractionsize")?n+="': "+e.get("fractionsize")+"}}":n+="'}}");break;case"numberToString":e.get("fractionsize")&&(n="{{"+t+" | numberToString: '"+e.get("fractionsize")+"'}}");break;case"stringToNumber":n="{{"+t+" | stringToNumber}}";break;case"timeFromNow":n="{{"+t+" | timeFromNow}}";break;case"prefix":e.get("prefix")&&(n="{{"+t+" | prefix: '"+e.get("prefix")+"'}}");break;case"suffix":e.get("suffix")&&(n="{{"+t+" | suffix: '"+e.get("suffix")+"'}}")}return n}(e))&&(t.set("customExpression",!0),e.set("customExpression","true"),d=s+'<div data-col-identifier="'+e.get("binding")+'" title="'+m+'">'+m),"<div wmTableColumn "+h.getAttrMarkup(e)+" "+a+">\n                    "+n+"\n                    "+i+"\n                    "+o+"\n                    "+d},post:function(e,t){var r="";return t.get("customExpression")&&(r="</div></ng-template>"),r+"</div>"}}});h.register("wm-table-row",function(){return{pre:function(e){return"<div wmTableRow "+h.getAttrMarkup(e)+">\n                    "+('<ng-template #rowExpansionActionTmpl let-row="row">\n               <'+(r="anchor"===(t=e).get("widget-type")?"a":"button")+" "+("anchor"===t.get("widget-type")?"wmAnchor":"wmButton")+"\n                    "+b.getRowActionAttrs(t)+'\n                    class="'+t.get("class")+' row-expansion-button"\n                    iconclass="'+t.get("collapseicon")+'"\n                    type="button"></'+r+">\n            </ng-template>")+'\n                    <ng-template #rowExpansionTmpl let-row="row" let-rowDef="rowDef" let-containerLoad="containerLoad">\n                        <div wmContainer partialContainer content.bind="rowDef.content" load.event="containerLoad(widget)"\n                            [ngStyle]="{\'height\': rowDef.height, \'overflow-y\': \'auto\'}">\n                         <div *ngFor="let param of rowDef.partialParams | keyvalue" wmParam hidden\n                            [name]="param.key" [value]="param.value"></div>';var t,r},post:function(){return"</div></ng-template></div>"}}});h.register("wm-table-row-action",function(){return{pre:function(e){return"<div wmTableRowAction "+h.getAttrMarkup(e)+">\n                        "+(r=(t=e).get("action"),n=r?' click.event.delayed="'+r+'" ':"",i=r&&r.includes("editRow(")?'<button type="button" aria-label="Save edit icon" class="save row-action-button btn app-button btn-transparent save-edit-row-button hidden" title="Save">\n                <i class="wi wi-done" aria-hidden="true"></i>\n            </button>\n            <button type="button" aria-label="Cancel edit icon" class="cancel row-action-button btn app-button btn-transparent cancel-edit-row-button hidden" title="Cancel">\n                <i class="wi wi-cancel" aria-hidden="true"></i>\n            </button>':"",o=r?r.includes("editRow(")?"edit edit-row-button":r.includes("deleteRow(")?"delete delete-row-button":"":"",a=t.get("tabindex")?'tabindex="'+t.get("tabindex")+'"':"",'<ng-template #rowActionTmpl let-row="row">\n               <'+(u="anchor"===t.get("widget-type")?"a":"button")+" "+("anchor"===t.get("widget-type")?"wmAnchor":"wmButton")+' data-action-key="'+t.get("key")+'"\n                    '+b.getRowActionAttrs(t)+'\n                    class="row-action row-action-button '+t.get("class")+" "+o+'"\n                    iconclass="'+t.get("iconclass")+'"\n                    '+n+"\n                    "+a+'\n                    type="button"></'+u+">\n                "+i+"\n            </ng-template>");var t,r,n,i,o,a,u},post:function(){return"</div>"}}});var te=new b.IDGenerator("table_");h.register("wm-table",function(){return{template:function(e,t){if(e.children.length){var r=e.children.some(function(e){return"wm-table-column"===e.name||"wm-table-column-group"===e.name});t.set("isdynamictable",r?"false":"true")}else t.set("isdynamictable","true");var n=e.attrs.find(function(e){return"dataset"===e.name}),i=e.attrs.find(function(e){return"name"===e.name});if(n){var o=h.getBoundToExpr(n.value);o&&b.updateTemplateAttrs(e,o,i.value,"","row")}},pre:function(e,t){var r=te.nextUid();return t.set("counter",r),e.set("isdynamictable",t.get("isdynamictable")),'<div wmTable="'+r+'" wmTableFilterSort wmTableCUD #'+r+' data-identifier="table" role="table" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"},provide:function(e,t){var r=new Map;return r.set("table_reference",t.get("counter")),r.set("filtermode",e.get("filtermode")),r.set("editmode",e.get("editmode")),r.set("shownewrow",e.get("shownewrow")),r}}});var re="wm-input";h.register("wm-text",function(){return{pre:function(e){return"<"+re+" "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</"+re+">"}}});var ne="wm-textarea";h.register("wm-textarea",function(){return{pre:function(e){return"<"+ne+" "+h.getFormMarkupAttr(e)+" "+b.getNgModelAttr(e)+">"},post:function(){return"</"+ne+">"}}});h.register("wm-tile",function(){return{pre:function(e){return'<div wmTile aria-describedby="Tile" wm-navigable-element="true" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-time",function(){return{pre:function(e){return"<div wmTime "+h.getFormMarkupAttr(e)+' role="input" '+b.getNgModelAttr(e)+">"},post:function(){return"</div>"}}});h.register("wm-tree",function(){return{pre:function(e){return"<div wmTree redrawable "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var ie="section";h.register("wm-top-nav",function(){return{pre:function(e){return"<"+ie+' wmTopNav partialContainer data-role="page-topnav" role="region" '+h.getAttrMarkup(e)+">"},post:function(){return"</"+ie+">"}}});h.register("wm-video",function(){return{pre:function(e){return"<div wmVideo "+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});h.register("wm-wizard",function(){return{pre:function(e){return'<div wmWizard role="tablist" '+h.getAttrMarkup(e)+">"},post:function(){return"</div>"}}});var oe=new b.IDGenerator("wizard_step_id_");h.register("wm-wizardstep",function(){return{pre:function(e){var t=oe.nextUid();return"<form wmWizardStep #"+t+'="wmWizardStep" '+h.getAttrMarkup(e)+'>\n                       <ng-template [ngIf]="'+t+'.isInitialized">'},post:function(){return"</ng-template></form>"}}});h.register("wm-fileupload",function(){return{pre:function(e){if(e.get("select.event")){var t=h.getDataSource(e.get("select.event"));e.set("datasource.bind",t)}return"<div wmFileUpload "+h.getAttrMarkup(e)+' role="input">'},post:function(){return"</div>"}}});Object.keys(h).forEach(function(e){t[e]=h[e]}),t.initComponentsBuildTask=function(){},t.ɵ0=c,t.ɵ1=f,t.ɵ2=v,t.ɵ3=k,t.ɵ4=x,t.ɵ5=E,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map