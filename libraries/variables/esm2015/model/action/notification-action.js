import { DataSource, isDefined } from '@wm/core';
import { VariableManagerFactory } from '../../factory/variable-manager.factory';
import { BaseAction } from '../base-action';
import { VARIABLE_CONSTANTS } from '../../constants/variables.constants';
const getManager = () => {
    return VariableManagerFactory.get(VARIABLE_CONSTANTS.CATEGORY.NOTIFICATION);
};
const ɵ0 = getManager;
export class NotificationAction extends BaseAction {
    constructor(variable) {
        super();
        Object.assign(this, variable);
    }
    execute(operation, options) {
        const returnVal = super.execute(operation, options);
        if (isDefined(returnVal)) {
            return returnVal;
        }
        return new Promise((resolve, reject) => {
            switch (operation) {
                case DataSource.Operation.INVOKE:
                    this.invoke(options, resolve, reject);
                    break;
                case DataSource.Operation.NOTIFY:
                    this.notify(options, resolve, reject);
                    break;
                default:
                    reject(`${operation} operation is not supported on this data source`);
                    break;
            }
        });
    }
    // Backward compatible method
    notify(options, success, error) {
        getManager().notify(this, options, success, error);
    }
    invoke(options, success, error) {
        this.notify(options, success, error);
    }
    getMessage() {
        return getManager().getMessage(this);
    }
    setMessage(text) {
        return getManager().setMessage(this, text);
    }
    clearMessage() {
        return getManager().setMessage(this, '');
    }
    getOkButtonText() {
        return getManager().getOkButtonText(this);
    }
    setOkButtonText(text) {
        return getManager().setOkButtonText(this, text);
    }
    getToasterDuration() {
        return getManager().getToasterDuration(this);
    }
    setToasterDuration(duration) {
        return getManager().setToasterDuration(this, duration);
    }
    getToasterClass() {
        return getManager().getToasterClass(this);
    }
    setToasterClass(classText) {
        return getManager().setToasterClass(this, classText);
    }
    getToasterPosition() {
        return getManager().getToasterPosition(this);
    }
    setToasterPosition(position) {
        return getManager().setToasterPosition(this, position);
    }
    getAlertType() {
        return getManager().getAlertType(this);
    }
    setAlertType(type) {
        return getManager().setAlertType(this, type);
    }
    getCancelButtonText() {
        return getManager().getCancelButtonText(this);
    }
    setCancelButtonText(text) {
        return getManager().setCancelButtonText(this, text);
    }
    init() {
        // static property bindings
        getManager().initBinding(this, 'dataBinding', 'dataBinding');
        // dynamic property bindings
        getManager().initBinding(this, 'dataSet', 'dataSet');
    }
}
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZpY2F0aW9uLWFjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B3bS92YXJpYWJsZXMvIiwic291cmNlcyI6WyJtb2RlbC9hY3Rpb24vbm90aWZpY2F0aW9uLWFjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFlLFNBQVMsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUU5RCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUNoRixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFFekUsTUFBTSxVQUFVLEdBQUcsR0FBRyxFQUFFO0lBQ3BCLE9BQU8sc0JBQXNCLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNoRixDQUFDLENBQUM7O0FBRUYsTUFBTSxPQUFPLGtCQUFtQixTQUFRLFVBQVU7SUFJOUMsWUFBWSxRQUFhO1FBQ3JCLEtBQUssRUFBRSxDQUFDO1FBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTztRQUN0QixNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwRCxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUN0QixPQUFPLFNBQVMsQ0FBQztTQUNwQjtRQUVELE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDbkMsUUFBUSxTQUFTLEVBQUU7Z0JBQ2YsS0FBSyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU07b0JBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFB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QUFFLGFBQWEsQ0FBQyxDQUFDO1FBRTdELDRCQUE0QjtRQUM1QixVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN6RCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU291cmNlLCBJRGF0YVNvdXJjZSwgaXNEZWZpbmVkIH0gZnJvbSAnQHdtL2NvcmUnO1xuXG5pbXBvcnQgeyBWYXJpYWJsZU1hbmFnZXJGYWN0b3J5IH0gZnJvbSAnLi4vLi4vZmFjdG9yeS92YXJpYWJsZS1tYW5hZ2VyLmZhY3RvcnknO1xuaW1wb3J0IHsgQmFzZUFjdGlvbiB9IGZyb20gJy4uL2Jhc2UtYWN0aW9uJztcbmltcG9ydCB7IFZBUklBQkxFX0NPTlNUQU5UUyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy92YXJpYWJsZXMuY29uc3RhbnRzJztcblxuY29uc3QgZ2V0TWFuYWdlciA9ICgpID0+IHtcbiAgICByZXR1cm4gVmFyaWFibGVNYW5hZ2VyRmFjdG9yeS5nZXQoVkFSSUFCTEVfQ09OU1RBTlRTLkNBVEVHT1JZLk5PVElGSUNBVElPTik7XG59O1xuXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uQWN0aW9uIGV4dGVuZHMgQmFzZUFjdGlvbiBpbXBsZW1lbnRzIElEYXRhU291cmNlIHtcblxuICAgIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHZhcmlhYmxlOiBhbnkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzIGFzIGFueSwgdmFyaWFibGUpO1xuICAgIH1cblxuICAgIGV4ZWN1dGUob3BlcmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJldHVyblZhbCA9IHN1cGVyLmV4ZWN1dGUob3BlcmF0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChyZXR1cm5WYWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBEYXRhU291cmNlLk9wZXJhdGlvbi5JTlZPS0UgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludm9rZShvcHRpb25zLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERhdGFTb3VyY2UuT3BlcmF0aW9uLk5PVElGWSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KG9wdGlvbnMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQgOlxuICAgICAgICAgICAgICAgICAgICByZWplY3QoYCR7b3BlcmF0aW9ufSBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRhdGEgc291cmNlYCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmxlIG1ldGhvZFxuICAgIG5vdGlmeShvcHRpb25zLCBzdWNjZXNzLCBlcnJvcikge1xuICAgICAgICBnZXRNYW5hZ2VyKCkubm90aWZ5KHRoaXMsIG9wdGlvbnMsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG5cbiAgICBpbnZva2Uob3B0aW9ucywgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5ub3RpZnkob3B0aW9ucywgc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cblxuICAgIGdldE1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuZ2V0TWVzc2FnZSh0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRNZXNzYWdlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIGdldE1hbmFnZXIoKS5zZXRNZXNzYWdlKHRoaXMsIHRleHQpO1xuICAgIH1cblxuICAgIGNsZWFyTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldE1hbmFnZXIoKS5zZXRNZXNzYWdlKHRoaXMsICcnKTtcbiAgICB9XG5cbiAgICBnZXRPa0J1dHRvblRleHQoKSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuZ2V0T2tCdXR0b25UZXh0KHRoaXMpO1xuICAgIH1cblxuICAgIHNldE9rQnV0dG9uVGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuc2V0T2tCdXR0b25UZXh0KHRoaXMsIHRleHQpO1xuICAgIH1cblxuICAgIGdldFRvYXN0ZXJEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldE1hbmFnZXIoKS5nZXRUb2FzdGVyRHVyYXRpb24odGhpcyk7XG4gICAgfVxuXG4gICAgc2V0VG9hc3RlckR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuc2V0VG9hc3RlckR1cmF0aW9uKHRoaXMsIGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICBnZXRUb2FzdGVyQ2xhc3MoKSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuZ2V0VG9hc3RlckNsYXNzKHRoaXMpO1xuICAgIH1cblxuICAgIHNldFRvYXN0ZXJDbGFzcyhjbGFzc1RleHQpIHtcbiAgICAgICAgcmV0dXJuIGdldE1hbmFnZXIoKS5zZXRUb2FzdGVyQ2xhc3ModGhpcywgY2xhc3NUZXh0KTtcbiAgICB9XG5cbiAgICBnZXRUb2FzdGVyUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuZ2V0VG9hc3RlclBvc2l0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIHNldFRvYXN0ZXJQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gZ2V0TWFuYWdlcigpLnNldFRvYXN0ZXJQb3NpdGlvbih0aGlzLCBwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgZ2V0QWxlcnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gZ2V0TWFuYWdlcigpLmdldEFsZXJ0VHlwZSh0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRBbGVydFR5cGUodHlwZSkge1xuICAgICAgICByZXR1cm4gZ2V0TWFuYWdlcigpLnNldEFsZXJ0VHlwZSh0aGlzLCB0eXBlKTtcbiAgICB9XG5cbiAgICBnZXRDYW5jZWxCdXR0b25UZXh0KCkge1xuICAgICAgICByZXR1cm4gZ2V0TWFuYWdlcigpLmdldENhbmNlbEJ1dHRvblRleHQodGhpcyk7XG4gICAgfVxuXG4gICAgc2V0Q2FuY2VsQnV0dG9uVGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBnZXRNYW5hZ2VyKCkuc2V0Q2FuY2VsQnV0dG9uVGV4dCh0aGlzLCB0ZXh0KTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICAvLyBzdGF0aWMgcHJvcGVydHkgYmluZGluZ3NcbiAgICAgICAgZ2V0TWFuYWdlcigpLmluaXRCaW5kaW5nKHRoaXMsICdkYXRhQmluZGluZycsICdkYXRhQmluZGluZycpO1xuXG4gICAgICAgIC8vIGR5bmFtaWMgcHJvcGVydHkgYmluZGluZ3NcbiAgICAgICAgZ2V0TWFuYWdlcigpLmluaXRCaW5kaW5nKHRoaXMsICdkYXRhU2V0JywgJ2RhdGFTZXQnKTtcbiAgICB9XG59XG4iXX0=