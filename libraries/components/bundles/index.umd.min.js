!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ngx-bootstrap/pagination"),require("ngx-color-picker"),require("angular2-text-mask"),require("ng-circle-progress"),require("@wm/security"),require("@angular/router"),require("rxjs/operators"),require("@angular/common"),require("@swipey"),require("@angular/platform-browser"),require("ngx-bootstrap"),require("@angular/forms"),require("rxjs"),require("@wm/core"),require("@angular/core")):"function"==typeof define&&define.amd?define("@wm/components",["exports","ngx-bootstrap/pagination","ngx-color-picker","angular2-text-mask","ng-circle-progress","@wm/security","@angular/router","rxjs/operators","@angular/common","@swipey","@angular/platform-browser","ngx-bootstrap","@angular/forms","rxjs","@wm/core","@angular/core"],t):t((e.wm=e.wm||{},e.wm.components={}),e.ngxBootstrap,e.zef.ngxColorPicker,e.angular2TextMask,e.ngCircleProgress,e.wm.security,e.ng.router,e.rxjs.operators,e.ng.common,e.swipey,e.ng.platformBrowser,e.ngxBootstrap,e.ng.forms,e.rxjs,e.wm.core,e.ng.core)}(this,function(g,e,t,i,n,a,l,r,s,o,c,d,p,u,x,h){"use strict";var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};function v(e,t){function i(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var y=Object.assign||function y(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function m(t,s,r,l){return new(r||(r=Promise))(function(e,i){function n(e){try{o(l.next(e))}catch(t){i(t)}}function a(e){try{o(l["throw"](e))}catch(t){i(t)}}function o(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(n,a)}o((l=l.apply(t,s||[])).next())})}function b(n,a){var o,s,r,e,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return e={next:t(0),"throw":t(1),"return":t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function i(e){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,s&&(r=s[2&e[0]?"return":e[0]?"throw":"next"])&&!(r=r.call(s,e[1])).done)return r;switch(s=0,r&&(e=[0,r.value]),e[0]){case 0:case 1:r=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,s=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(r=0<(r=l.trys).length&&r[r.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!r||e[1]>r[0]&&e[1]<r[3])){l.label=e[1];break}if(6===e[0]&&l.label<r[1]){l.label=r[1],r=e;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(e);break}r[2]&&l.ops.pop(),l.trys.pop();continue}e=a.call(n,l)}catch(t){e=[6,t],s=0}finally{o=r=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([t,e])}}}function w(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function C(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,a,o=i.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(r){a={error:r}}finally{try{n&&!n.done&&(i=o["return"])&&i.call(o)}finally{if(a)throw a.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e}var D=function(p){function e(e){var t,i,n=p.call(this)||this;n.tabs=e,n._$el=$(n.tabs.getNativeElement()).find(">.tab-content");var a=n._$el.find(">[wmTabPane]");n._noOfTabs=a.length;var o=100*n._noOfTabs+"%";x.addClass(n.tabs.getNativeElement(),"has-transition"),x.setCSSFromObj(n._$el[0],{maxWidth:o,width:o});var s=100/n._noOfTabs+"%";try{for(var r=w(Array.from(a)),l=r.next();!l.done;l=r.next()){var c=l.value;x.setCSS(c,"width",s)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(i=r["return"])&&i.call(r)}finally{if(t)throw t.error}}return n.init(n._$el),n}return v(e,p),e.prototype.bounds=function(){var e=this.tabs.getActiveTabIndex(),t=this._$el.find(">.tab-pane:first").width(),i=-1*e*t;return{strict:!1,lower:e===this._$el.find(">.tab-pane:visible").length-1?0:-t,center:i,upper:0===e?i:t}},e.prototype.context=function(){return{w:this._$el.width()}},e.prototype.animation=function(){return{transform:"translate3d(${{ ($D + $d)/w * 100 + '%'}}, 0, 0)","-webkit-transform":"translate3d(${{ ($D + $d)/w * 100 + '%'}}, 0, 0)"}},e.prototype.transitionTabIntoView=function(){var e=this.tabs.getActiveTabIndex();x.setCSS(this._$el[0],"transform","translate3d("+-1*e/this._noOfTabs*100+"%, 0, 0)")},e.prototype.onUpper=function(){this.tabs.prev(),x.$appDigest()},e.prototype.onLower=function(){this.tabs.next(),x.$appDigest()},e.prototype.threshold=function(){return 5},e}(o.SwipeAnimation),k=function ac(){},I=function oc(){},P=new h.InjectionToken("Context Provider Reference"),S=new Set([x.FormWidgetType.SELECT,x.FormWidgetType.CHECKBOXSET,x.FormWidgetType.RADIOSET,x.FormWidgetType.SWITCH,x.FormWidgetType.AUTOCOMPLETE,x.FormWidgetType.CHIPS,x.FormWidgetType.TYPEAHEAD,x.FormWidgetType.RATING]),T=function(e){var t,i,n,a,o,s,r,l,c,d="";for(e=e.replace(/\$\[data\[\$i\]/g,"$[__1"),n=0;n<e.length;n++)if(t=e[n],i=e[n+1],"$"===t&&"["===i){for(r=c=!(s=1),a=n+2;a<e.length;a++)if(" "!==(o=e[a])&&(c||(r='"'===e[a]||"'"===e[a],c=!0),"["===o?s++:"]"===o&&s--,!s)){l=e.substring(n+2,a),d+=r?"__1["+l+"]":l;break}n=a}else d+=t;return d},O=T,A=function(t,e){var i;return e?(e.replace(/\[(\w+)\]/g,".$1").split(".").forEach(function(e){i=i&&i[e]||(_.isNull(t)?t:t[e])}),i):t},R=function(e,t,i){var n,a=t.field,o=t.expression,s=t.bindExpression;return n=s?(n=s.replace("bind:",""),T(n)):o||a,s||o?x.$parseExpr(n)(i,Object.assign({},e,{__1:e})):_.get(e,a)},L=function(e,t){return!(!e||!t)&&(t=-1===t.indexOf("?")?t:t.substring(0,t.indexOf("?")),e=-1===e.indexOf("?")?e:e.substring(0,e.indexOf("?")),new RegExp("^(#/|#)"+t+"$").test(e))},F=function(e){e=e||[];var t=[];return _.forEach(e,function(e){t.push(e.property+" "+e.direction.toLowerCase())}),_.join(t,",")},M=function(e){return S.has(e)},N=function(e,t,i){return x.isValidWebURL(e)||(e||(e=i||"resources/images/imagelists/default-image.png"),e=t?x.encodeUrl(e):e,x.stringStartsWith(e,"services/prefabs")),e},V=function(e){return""===e||"none"===e?e:"url("+N(e)+")"};function B(e,t,i){return{provide:t,useExisting:h.forwardRef(function(){return e}),multi:i}}function W(e){return B(e,p.NG_VALIDATORS,!0)}function j(e){return B(e,p.NG_VALUE_ACCESSOR,!0)}function z(e){return B(e,k)}function U(e){return B(e,I)}var q,H={ADVANCED:"Advanced",BASIC:"Basic",CLASSIC:"Classic",INLINE:"Inline",NONE:"None",ONDEMAND:"On-Demand",PAGER:"Pager",SCROLL:"Scroll"},G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("_")},Y={number:["number","integer","big_integer","short","float","big_decimal","double","long","byte"],string:["string","text"],character:["character"],date:["date","time","timestamp","datetime"]},K={number:["exact","notequals","lessthan","lessthanequal","greaterthan","greaterthanequal","null","isnotnull"],string:["anywhereignorecase","anywhere","startignorecase","start","endignorecase","end","exactignorecase","exact","notequalsignorecase","notequals","null","isnotnull","empty","isnotempty","nullorempty"],character:["exactignorecase","exact","notequalsignorecase","notequals","null","isnotnull","empty","isnotempty","nullorempty"],date:["exact","lessthan","lessthanequal","greaterthan","greaterthanequal","null","notequals","isnotnull"]},Q={"boolean":["exact","null","isnotnull"],clob:[],blob:[]},X=function(e){return e&&(K.number.push("in","notin","between"),K.date.push("between"),K.string.push("in","notin"),K.character.push("in","notin")),_.forEach(Y,function(e,t){_.forEach(e,function(e){Q[e]=K[t]})}),Q["default"]=_.union(K.number,K.string,K.character,K.date,K.date),Q},Z=function(e){return{start:e.LABEL_STARTS_WITH,startignorecase:e.LABEL_STARTS_WITH_IGNORECASE,end:e.LABEL_ENDS_WITH,endignorecase:e.LABEL_ENDS_WITH_IGNORECASE,anywhere:e.LABEL_CONTAINS,anywhereignorecase:e.LABEL_CONTAINS_IGNORECASE,exact:e.LABEL_IS_EQUAL_TO,exactignorecase:e.LABEL_IS_EQUAL_TO_IGNORECASE,notequals:e.LABEL_IS_NOT_EQUAL_TO,notequalsignorecase:e.LABEL_IS_NOT_EQUAL_TO_IGNORECASE,lessthan:e.LABEL_LESS_THAN,lessthanequal:e.LABEL_LESS_THAN_OR_EQUALS_TO,greaterthan:e.LABEL_GREATER_THAN,greaterthanequal:e.LABEL_GREATER_THAN_OR_EQUALS_TO,"null":e.LABEL_IS_NULL,isnotnull:e.LABEL_IS_NOT_NULL,empty:e.LABEL_IS_EMPTY,isnotempty:e.LABEL_IS_NOT_EMPTY,nullorempty:e.LABEL_IS_NULL_OR_EMPTY,"in":e.LABEL_IN,notin:e.LABEL_NOT_IN,between:e.LABEL_BETWEEN}},J=function(e){var i=[];return _.isArray(e)?(e.forEach(function(e){i=i.concat(J(e))}),i):_.isObject(e)?(_.forEach(e,function(e,t){e&&(i=i.concat(t.split(" ")))}),i):void 0},ee=J,te=function(e,t){var i,n,a=e.toAdd||e,o=e.toRemove||t;return n=_.isObject(e)?(i=_.isArray(a)?a:J(a||[]),o?_.isArray(o)?o:J(o):[]):(i=a?[a]:[],o?[o]:[]),{toAdd:i,toRemove:n}},ie=function(e,n,a,o){var s,r,l,c,d,p;o||(o={}),_.forEach(e,function(e,t){_.includes(t,".")&&(c=_.split(t,"."),r=c[0],l=c[1],p=!0),s=o.noModifyTitle?t:_.isString(t)?(s=x.prettifyLabel(t),s=x.deHyphenate(s),a?x.initCaps(a)+" "+s:s):t,t=a?a+"."+t:t,d=p?1<(d=_.split(s," ")).length?d[d.length-2]+" "+d[d.length-1]:d[0]:s;var i=o.setBindingField?{displayName:d,field:t,relatedTable:r,relatedField:l||s}:{displayName:d,relatedTable:r,relatedField:l||s};if(!_.isObject(e)||_.isArray(e)&&!e[0]){if(o.upperBound&&o.columnCount===o.upperBound)return;n.terminals.push(i),o.columnCount+=1}else o.columnCount!==o.upperBound&&n.objects.push(i),_.isArray(e)&&e[0]?ie(e[0],n,t+"[0]",o):ie(e,n,t,o)})},ne=ie,ae=function(e){var i;return _.isArray(e)?_.isObject(e[0])?(i=x.getClonedObject(e[0]),_.forEach(e,function(e,t){if(10<=t+1)return!1;_.assignWith(i,e,function(e,t){return null===e||e===undefined?t:e})})):i=e[0]:i=e,i},oe=ae,se=function(e,t){var i,n={objects:[],terminals:[]};if(e||(e=[]),t||(t={}),t.setBindingField=!0,t.columnCount=0,i=ae(e),ie(i,n,"",t),!t||t&&!t.filter)return n.terminals;switch(t.filter){case"all":return n;case"objects":return n.objects;case"terminals":return n.terminals}return n};(q=g.APPLY_STYLES_TYPE||(g.APPLY_STYLES_TYPE={}))[q.CONTAINER=0]="CONTAINER",q[q.SCROLLABLE_CONTAINER=1]="SCROLLABLE_CONTAINER",q[q.INNER_SHELL=2]="INNER_SHELL",q[q.SHELL=3]="SHELL";var re={backgroundattachment:"backgroundAttachment",backgroundcolor:"backgroundColor",backgroundgradient:"backgroundGradient",backgroundimage:"backgroundImage",backgroundposition:"backgroundPosition",backgroundrepeat:"backgroundRepeat",backgroundsize:"backgroundSize",bordercolor:"borderColor",borderradius:"borderRadius",borderstyle:"borderStyle",borderwidth:"borderWidth",borderbottomwidth:"borderBottomWidth",borderleftwidth:"borderLeftWidth",borderrightwidth:"borderRightWidth",bordertopwidth:"borderTopWidth",color:"color",cursor:"cursor",display:"display",fontsize:"fontSize",fontfamily:"fontFamily",fontstyle:"fontStyle",fontunit:"fontunit",fontvariant:"fontVariant",fontweight:"fontWeight",height:"height",horizontalalign:"textAlign",lineheight:"lineHeight",margin:"margin",marginbottom:"marginBottom",marginleft:"marginLeft",marginright:"marginRight",margintop:"marginTop",opacity:"opacity",overflow:"overflow",padding:"padding",paddingbottom:"paddingBottom",paddingleft:"paddingLeft",paddingright:"paddingRight",paddingtop:"paddingTop",picturesource:"backgroundImage",textalign:"textAlign",textdecoration:"textDecoration",verticalalign:"verticalAlign",visibility:"visibility",whitespace:"whiteSpace",width:"width",wordbreak:"wordbreak",zindex:"zIndex"},le=function(e){return!!re[e]},ce={height:!0,overflow:!0,padding:!0,paddingbottom:!0,paddingleft:!0,paddingright:!0,paddingtop:!0},de={textalign:!0},pe={textalign:!0,width:!0};function ue(i,n,a,e){var o=Object.create(null);e&&e.forEach(function(e){return o[e]=!0}),n.registerStyleChangeListener(function(e,t){if(!(o[e]||a===g.APPLY_STYLES_TYPE.SHELL&&ce[e])){if(a===g.APPLY_STYLES_TYPE.INNER_SHELL){if(!ce[e])return;"height"===e&&x.setCSS(i,"overflow",t?"auto":"")}if(a!==g.APPLY_STYLES_TYPE.CONTAINER||!de[e]){if(a===g.APPLY_STYLES_TYPE.SCROLLABLE_CONTAINER){if(pe[e])return;"height"===e&&x.setCSS(i,"overflow",t?"auto":"")}"fontsize"===e||"fontunit"===e?x.setCSS(i,"fontSize",""===n.fontsize?"":n.fontsize+(n.fontunit||"px")):"backgroundimage"===e?x.setCSS(i,"backgroundImage",n.picturesource||V(t)):re[e]&&x.setCSS(i,re[e],t)}}})}var he,fe=new Map,me=function(e){return fe.get(e)},ge=function(e,t){fe.set(e,t),window.WM_LOADED_COMPONENTS=E(window.WM_LOADED_COMPONENTS||[],[e])};(he=g.PROP_TYPE||(g.PROP_TYPE={}))[he.BOOLEAN=1]="BOOLEAN",he[he.NUMBER=2]="NUMBER",he[he.STRING=3]="STRING";var ve,ye,be={type:g.PROP_TYPE.STRING},we={type:g.PROP_TYPE.NUMBER},Ce={type:g.PROP_TYPE.BOOLEAN},Ee={},xe=new Map,De=new x.IDGenerator("widget-id"),ke=new Map([["tap","click"]]),_e="block",Ie="inline-block",Pe=new Set(["readonly","autofocus","disabled","startchecked","multiple","selected","required","controls","autoplay","loop","muted","show"]),Se=new Set(["width","height","iconheight","iconwidth","popoverwidth","popoverheight","imagewidth","imageheight"]),Te=250,Oe=function(e,t,i){return i===g.PROP_TYPE.BOOLEAN?x.toBoolean(t,(n=e,Pe.has(n)&&e)):i===g.PROP_TYPE.NUMBER?+t:t;var n},Ae=function(e,t,i){var n=e.widgetId,a=e[t];x.isChangeFromWatch()||x.$unwatch(G(n,t)),x.resetChangeFromWatch();var o,s=me(e.getWidgetSubType()).get(t);if(s){var r=s.type;r&&(i=Oe(t,i,r))}if(i!==a||x.isObject(i)||x.isObject(a)){if(o=t,Se.has(o))i=x.toDimension(i);else if(_.startsWith(i,"resources/")){var l=e;l._parentPrefab_===undefined&&(l._parentPrefab_=e.$element.closest('[prefabname][prefabname!="__self__"]').attr("prefabname")||""),l._parentPrefab_&&(i="./app/prefabs/"+l._parentPrefab_+"/"+i)}e[t]=i,le(t)?e.notifyStyleChange(t,i,a):("conditionalclass"===t&&(i=te(i,a)),s&&e.notifyPropertyChange(t,i,a)),x.$appDigest()}},Re={set:function(e,t,i){return Ae(e,t,i),!0},get:function(e,t){var i=e[t];return _.isFunction(i)?i.bind(e):i}},Le=window.requestAnimationFrame,Fe=[],Me=function(){function e(){}return e.create=function(i,e,t){if(window.Proxy)return new Proxy(i,Re);var n,a=Object.create(i);return n=function(){for(var e in i)_.isFunction(i[e])&&"constructor"!==e&&"super"!==e&&!_.startsWith(e,"ng")&&(i[e]=i[e].bind(i))},Fe.length||Le(function(){Fe.forEach(function(e){return e()}),Fe.length=0}),Fe.push(n),Object.keys(re).forEach(function(t){Object.defineProperty(a,t,{get:function(){return i[t]},set:function(e){return Ae(i,t,e)}})}),t&&t.forEach(function(e,t){Object.defineProperty(a,t,{get:function(){return i[t]},set:function(e){return Ae(i,t,e)}})}),a},e}(),Ne=function(){function e(e,t,i){var n=this;this.inj=e,this.styleChange=new u.ReplaySubject,this.propertyChange=new u.Subject,this.readyState=new u.Subject,this.destroy=new u.Subject,this.eventHandlers=new Map,this.toBeSetupEventsQueue=[],this.__cloneable__=!1,this.$attrs=new Map;var a=e.get(h.ElementRef);this.nativeElement=a.nativeElement,this.widgetType=t.widgetType,this.widgetSubType=t.widgetSubType||t.widgetType,this.viewParent=e.view.component,this.displayType=t.displayType||_e,this.context=e.view.context,this.widget=this.createProxy(),this.eventManager=e.get(c.EventManager),this.nativeElement.widget=this.widget,this.appLocale=e.get(x.App).appLocale||{},this.initContext(),t.hostClass&&x.addClass(this.nativeElement,t.hostClass),this.widgetId=this.generateWidgetId(),x.setAttr(this.nativeElement,"widget-id",this.widgetId,!0),this.registerStyleChangeListener(this.onStyleChange,this),this.registerPropertyChangeListener(this.onPropertyChange,this),i?(this.delayedInit=!0,i.then(function(){n.initWidget(),n.setInitProps()})):this.initWidget()}return Object.defineProperty(e.prototype,"$element",{get:function(){return $(this.nativeElement)},enumerable:!0,configurable:!0}),e.prototype.getNativeElement=function(){return this.nativeElement},e.prototype.getWidgetType=function(){return this.widgetType},e.prototype.getWidgetSubType=function(){return this.widgetSubType},e.prototype.getWidget=function(){return this.widget},e.prototype.getViewParent=function(){return this.viewParent},e.prototype.notifyStyleChange=function(e,t,i){this.styleChange.next({key:e,nv:t,ov:i})},e.prototype.notifyPropertyChange=function(e,t,i){this.propertyChange.next({key:e,nv:t,ov:i})},e.prototype.registerStyleChangeListener=function(a,e){e&&(a=a.bind(e)),this.styleChange.subscribe(function(e){var t=e.key,i=e.nv,n=e.ov;return a(t,i,n)})},e.prototype.registerReadyStateListener=function(e,t){t&&(e=e.bind(t)),this.readyState.isStopped?e():this.readyState.subscribe(function(){return e()})},e.prototype.registerPropertyChangeListener=function(a,e){e&&(a=a.bind(e)),this.propertyChange.subscribe(function(e){var t=e.key,i=e.nv,n=e.ov;return a(t,i,n)})},e.prototype.registerDestroyListener=function(e,t){t&&(e=e.bind(t)),this.destroy.subscribe(function(){},function(){},function(){return e()})},e.prototype.getDisplayType=function(){return this.displayType},e.prototype.createProxy=function(){return Me.create(this,this.widgetSubType,me(this.widgetSubType))},e.prototype.initContext=function(){var e=this.inj.view.context,t=this.inj.get(P,{});this.viewParent!==e?this.context=e:this.context={},t&&(this.context=Object.assign.apply(Object,E([{}],t,[this.context])))},e.prototype.setWidgetProperty=function(e,t){this.widget[e]=t},e.prototype.getAttr=function(e){return this.$attrs.get(e)},e.prototype.getAppInstance=function(){return this.inj.get(x.App)},e.prototype.generateWidgetId=function(){return De.nextUid()},e.prototype.onPropertyChange=function(e,t,i){if("show"===e)this.nativeElement.hidden=!t;else if("hint"===e)x.setAttr(this.nativeElement,"title",t);else if("class"===e)x.switchClass(this.nativeElement,t,i);else if("name"===e||"tabindex"===e)x.setAttr(this.nativeElement,e,t),"name"===e&&t&&(r=this.viewParent,l=this.widget,c=t,d=i,x.isDefined(r.Widgets)&&(d&&(r.Widgets[d]=undefined),c&&(r.Widgets[c]=l)));else if("conditionalclass"===e)a=t.toAdd,o=t.toRemove,s=this.nativeElement,o&&o.length&&x.removeClass(s,_.join(o," ")),a&&a.length&&x.addClass(s,_.join(a," "));else if("autoplay"===e){var n="wm-audio"===this.widgetType?"audio":"video";this.nativeElement.querySelector(n).load()}else"conditionalstyle"===e&&function(e,t,i){t&&_.isObject(t)&&Object.keys(t||{}).forEach(function(e){x.setCSS(i,e,"")});e&&_.isObject(e)&&x.setCSSFromObj(i,e)}(t,i,this.nativeElement);var a,o,s,r,l,c,d},e.prototype.onStyleChange=function(e,t,i){},e.prototype.registerWidget=function(e){var t,i,n,a,o;this.registerDestroyListener((t=this.widget,i=this.viewParent,n=this.widgetId,a=e,o=!1,xe.set(n,t),a&&x.isDefined(i.Widgets)&&(o=!0,i.Widgets[a]=t),function(){xe["delete"](n),o&&(i.Widgets[a]=undefined)}))},e.prototype.getMappedEventName=function(e){return ke.get(e)||e},e.prototype.handleEvent=function(e,t,i,n,a){this.eventManager.addEventListener(e,t,function(e){if(n.$event=e,"delayed"!==a)return i();setTimeout(function(){return i()},150)})},e.prototype.processEventAttr=function(e,t,i){var n=this,a=x.$parseEvent(t),o=this.context;o.widget=this.widget;var s=a.bind(undefined,this.viewParent,o),r=function(){var e;x.$invokeWatchers(!0);try{if(!((e=s())instanceof Promise))return e;e.then(function(e){return e},function(e){return e})}catch(t){console.error(t)}};this.eventHandlers.set(this.getMappedEventName(e),{callback:r,locals:o}),this[_.camelCase("on-"+e)]=r,this.toBeSetupEventsQueue.push(function(){n.handleEvent(n.nativeElement,n.getMappedEventName(e),r,o,i)})},e.prototype.processBindAttr=function(t,e){var i=this;this.initState["delete"](t),this.registerDestroyListener(x.$watch(e,this.viewParent,this.context,function(e){return i.widget[t]=e},G(this.widgetId,t),"datasource"===t))},e.prototype.removePropertyBinding=function(e){x.$unwatch(G(this.widgetId,e))},e.prototype.invokeEventCallback=function(e,t){var i=this.eventHandlers.get(e);if(i){var n=i.callback,a=i.locals||{};if(n)return n(Object.assign(a,t))}},e.prototype.processAttr=function(e,t){var i=e.split("."),n=i[0],a=i[1],o=i[2],s=i.length;"bind"===a?("show"===n&&(this.nativeElement.hidden=!0),this.processBindAttr(n,t)):"event"===a?this.processEventAttr(n,t,o):1===s&&("class"===e?x.removeClass(this.nativeElement,t):"tabindex"!==e&&"name"!==e||x.removeAttr(this.nativeElement,e),this.initState.set(n,t))},e.prototype.processAttrs=function(){var e,t,i=this.inj.elDef;try{for(var n=w(i.element.attrs),a=n.next();!a.done;a=n.next()){var o=C(a.value,3),s=o[1],r=o[2];this.$attrs.set(s,r),this.processAttr(s,r)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.initWidget=function(){var i=this;this.initState=new Map;var e=me(this.widgetSubType);e.forEach(function(e,t){x.isDefined(e.value)&&i.initState.set(t,e.value)}),this.widgetProps=e,this.processAttrs(),this.registerWidget(this.initState.get("name"))},e.prototype.setInitProps=function(){var i=this;this.initState.get("name")&&(this.widget.name=this.initState.get("name")),this.initState.forEach(function(e,t){(i.widgetProps.get(t)||le(t))&&"name"!==t&&(i.widget[t]=e)}),this.initState.clear(),this.initState=undefined,this.readyState.next(),this.readyState.complete()},e.prototype.hasEventCallback=function(e){return this.eventHandlers.has(e)},e.prototype.focus=function(){var e=this.$element[0].querySelector("[focus-target]");e||(e=this.$element[0]),e.focus()},e.prototype.execute=function(e,t){},e.prototype.ngOnInit=function(){this.delayedInit||this.setInitProps()},e.prototype.ngAfterViewInit=function(){var e,t;if(this.toBeSetupEventsQueue.length)try{for(var i=w(this.toBeSetupEventsQueue),n=i.next();!n.done;n=i.next()){(0,n.value)()}}catch(a){e={error:a}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}this.toBeSetupEventsQueue.length=0},e.prototype.ngAfterContentInit=function(){},e.prototype.ngOnDestroy=function(){this.isDestroyed=!0,this.widget=Object.create(null),this.styleChange.complete(),this.propertyChange.complete(),this.destroy.complete()},e}(),$e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t}(Ne),Ve=function(){function e(e){this.redraw=function(){return e.redraw()}}return e.decorators=[{type:h.Directive,args:[{selector:"[redrawable]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[k]}]}]},e}(),Be={widgetType:"wm-tabpane",hostClass:"tab-pane"},We=function(o){function e(e,t,i,n){var a=o.call(this,e,Be)||this;return a.tabsRef=t,a.heading=i,a.title=n,a.$lazyLoad=x.noop,a.isActive=!1,a.disabled=!1,x.removeAttr(a.nativeElement,"title"),a}return v(e,o),e.prototype.invokeOnSelectCallback=function(e){this.invokeEventCallback("select",{$event:e})},e.prototype.select=function(e){this.isActive||this.disabled||(this.isActive=!0,this.$lazyLoad(),this.redrawChildren(),this.notifyParent(e),e&&(e.stopPropagation(),e.preventDefault()))},e.prototype.deselect=function(){this.isActive&&(this.isActive=!1,this.invokeEventCallback("deselect"))},e.prototype.redrawChildren=function(){var e=this;setTimeout(function(){e.reDrawableComponents&&e.reDrawableComponents.forEach(function(e){return e.redraw()})},100)},e.prototype.notifyParent=function(e){this.tabsRef.notifyChange(this,e)},e.prototype.handleSwipeLeft=function(){this.tabsRef.next()},e.prototype.handleSwipeRight=function(){this.tabsRef.prev()},e.prototype.handleEvent=function(e,t,i,n){"select"!==t&&o.prototype.handleEvent.call(this,this.nativeElement,t,i,n)},e.prototype.onPropertyChange=function(e,t,i){var n=this;"content"===e?this.isActive&&setTimeout(function(){return n.$lazyLoad()},100):o.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.title=this.title||this.heading},e.prototype.ngAfterViewInit=function(){ue(this.nativeElement.querySelector(".tab-body"),this,g.APPLY_STYLES_TYPE.CONTAINER),o.prototype.ngAfterViewInit.call(this)},e.initializeProps=void ge("wm-tabpane",new Map([["badgevalue",be],["badgetype",y({value:"default"},be)],["class",be],["content",be],["disabled",Ce],["heading",be],["isdefaulttab",be],["name",be],["paneicon",be],["show",y({value:!0},Ce)],["smoothscroll",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",y({value:"Tab Title"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmTabPane]",template:'<div class="tab-body" partial-container-target [wmSmoothscroll]="smoothscroll">\n    <ng-content></ng-content>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:ze},{type:undefined,decorators:[{type:h.Attribute,args:["heading"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["title"]}]}]},e.propDecorators={isActive:[{type:h.HostBinding,args:["class.active"]}],disabled:[{type:h.HostBinding,args:["class.disabled"]}],reDrawableComponents:[{type:h.ContentChildren,args:[Ve,{descendants:!0}]}]},e}($e),je={widgetType:"wm-tabs",hostClass:"app-tabs clearfix"},ze=function(o){function e(e,t,i){var n=this,a=x.noop;return(n=o.call(this,e,je,new Promise(function(e){return a=e}))||this).transition=t,n.tabsposition=i,n.promiseResolverFn=a,ue(n.nativeElement,n,g.APPLY_STYLES_TYPE.CONTAINER),n}var t;return v(e,o),e.prototype.animateIn=function(e){var t=$(e);t.siblings(".active").removeClass("active"),t.addClass("active");var i=this.nativeElement.querySelector("ul.nav.nav-tabs"),n=t.prev();n.length?i.scrollLeft=n[0].offsetLeft:i.scrollLeft=0},e.prototype.notifyChange=function(e,t){var i;this.isSelectableTab(e)&&(this.activeTab&&this.activeTab.deselect(),e.invokeOnSelectCallback(t),this.activeTab=e.getWidget(),t&&this.invokeEventCallback("change",{$event:t,newPaneIndex:this.getPaneIndexByRef(e),oldPaneIndex:this.getActiveTabIndex()}),i=t?$(t.target).closest("li.tab-header"):this.nativeElement.querySelector("li[data-paneid="+e.widgetId+"]"),this.animateIn(i),this.canSlide()&&(this.tabsAnimator||(this.tabsAnimator=new D(this),this.tabsAnimator.setGesturesEnabled(this.canSlide())),this.tabsAnimator.transitionTabIntoView()))},e.prototype.goToTab=function(e){this.isValidPaneIndex(e-1)&&this.getPaneRefByIndex(e-1).select()},e.prototype.getPaneIndexByRef=function(e){return this.panes.toArray().indexOf(e)},e.prototype.getActiveTabIndex=function(){return _.findIndex(this.panes.toArray(),{isActive:!0})},e.prototype.isValidPaneIndex=function(e){return 0<=e&&e<this.panes.length},e.prototype.getPaneRefByIndex=function(e){return this.panes.toArray()[e]},e.prototype.isSelectableTab=function(e){return e.show&&!e.disabled},e.prototype.canSlide=function(){return"slide"===this.transition&&!this.vertical},e.prototype.getSelectableTabAfterIndex=function(e){for(var t=e+1;t<this.panes.length;t++){var i=this.getPaneRefByIndex(t);if(this.isSelectableTab(i))return i}},e.prototype.getSelectableTabBeforeIndex=function(e){for(var t=e-1;0<=t;t--){var i=this.getPaneRefByIndex(t);if(this.isSelectableTab(i))return i}},e.prototype.next=function(){var e=this.getSelectableTabAfterIndex(this.getActiveTabIndex());e&&e.select()},e.prototype.prev=function(){var e=this.getSelectableTabBeforeIndex(this.getActiveTabIndex());e&&e.select()},e.prototype.selectDefaultPaneByIndex=function(e){if(this.isValidPaneIndex(e)){var t=this.getPaneRefByIndex(e);this.isSelectableTab(t)||(t=this.getSelectableTabAfterIndex(0)),t&&t.select()}},e.prototype.setTabsPosition=function(){var e=this.nativeElement.children[0];this.vertical="left"===this.tabsposition||"right"===this.tabsposition,x.removeClass(this.nativeElement,"inverted"),"bottom"!==this.tabsposition&&"right"!==this.tabsposition||(x.appendNode(e,this.nativeElement),x.addClass(this.nativeElement,"inverted"))},e.prototype.onPropertyChange=function(e,t,i){var n=this;"defaultpaneindex"===e?setTimeout(function(){return n.selectDefaultPaneByIndex(t||0)},20):o.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.registerTabsScroll=function(){var t=this;setTimeout(function(){var e,n=t.$element.find("> ul");(e=n.children().last().position())&&e.left>n.width()&&n.on("mousewheel",function(e){var t=n[0].scrollLeft,i=-1*e.originalEvent.wheelDelta;e.stopPropagation(),e.preventDefault(),n.animate({scrollLeft:t+i},{duration:10})})})},e.prototype.ngAfterContentInit=function(){this.promiseResolverFn(),o.prototype.ngAfterContentInit.call(this),this.setTabsPosition()},e.prototype.ngAfterViewInit=function(){o.prototype.ngAfterViewInit.call(this),this.registerTabsScroll()},e.initializeProps=(t=new Map([["class",be],["defaultpaneindex",y({value:0},we)],["justified",Ce],["tabsposition",y({value:"top"},be)],["name",be],["show",y({value:!0},Ce)],["transition",be]]),x.isMobileApp()&&t.set("transition",y({value:"slide"},be)),void ge("wm-tabs",t)),e.decorators=[{type:h.Component,args:[{selector:"div[wmTabs]",template:'<ul class="nav nav-tabs" [ngClass]="{\'nav-stacked\': vertical, \'nav-justified\': justified}" role="tablist">\n    <li class="tab-header" *ngFor="let pane of panes;" [attr.data-paneid]="pane.widgetId" [ngClass]="{\'active\': pane.isActive, \'disabled\': pane.disabled}"\n        [hidden]="!pane.show" (click)="pane.select($event)" role="tab">\n        <a href="javascript:void(0);" role="button" [attr.aria-label]="pane.title" [attr.title]="pane.title" [tabindex]="pane.tabindex">\n            <div class="tab-heading">\n                <i [ngClass]="[\'app-icon\', pane.paneicon]" *ngIf="pane.paneicon"></i>\n                <span [textContent]="pane.title"></span>\n                <span *ngIf="pane.badgevalue" class="label label-{{pane.badgetype}}" [textContent]="pane.badgevalue"></span>\n            </div>\n        </a>\n    </li>\n</ul>\n<div class="tab-content" [ngClass]="{\'tab-stacked\': vertical, \'tab-justified\': justified}">\n    <ng-content select="div[wmTabPane]"></ng-content>\n</div>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["transition"]}]},{type:String,decorators:[{type:h.Attribute,args:["tabsposition"]}]}]},e.propDecorators={panes:[{type:h.ContentChildren,args:[We]}]},e}($e),Ue=!1,qe=function(n){function e(e,t,i){var a=n.call(this,e,t)||this;return a.modalOptions=i,a.dialogService=e.get(x.AbstractDialogService),a.bsModal=e.get(d.BsModalService),Ue||(Ue=!0,a.bsModal.onShown.subscribe(function(){var n;(n=a.dialogService.getLastOpenedDialog())&&setTimeout(function(){var e,t,i=(e=n.$element,(t=e.closest(".app-prefab")).length||(t=e.closest(".app-partial")),t.length||(t=e.closest(".app-page")),t.length&&t.parent()[0].tagName);i&&$("body:first > modal-container > div").wrap("<"+i+"/>"),n.invokeEventCallback("opened",{$event:{type:"opened"}})})}),a.bsModal.onHidden.subscribe(function(e){var t,i="esc"===e||"backdrop-click"===e?a.dialogService.getLastOpenedDialog():a.dialogService.getDialogRefFromClosedDialogs();a.dialogService.removeFromOpenedDialogs(i),a.dialogService.removeFromClosedDialogs(i),(t=i)&&(t.invokeEventCallback("close"),t.dialogRef=undefined)})),a}return v(e,n),e.prototype.open=function(e){var t=this;this.dialogService.getOpenedDialogs().some(function(e){return e===t})||(this.dialogService.addToOpenedDialogs(this),Object.assign(this.context,e),this.dialogRef=this.bsModal.show(this.getTemplateRef(),this.modalOptions))},e.prototype.close=function(){this.dialogRef&&(this.dialogService.addToClosedDialogs(this),this.dialogRef.hide())},e.prototype.register=function(e){this.dialogService.register(this.name,this,e)},e.prototype.deRegister=function(e){this.dialogService.deRegister(this.name,e)},e.prototype.onPropertyChange=function(e,t,i){"class"!==e&&"name"!==e&&"tabindex"!==e&&("animation"===e&&(this.modalOptions["class"]=this.modalOptions["class"].replace("animated "+i,""),t&&(this.modalOptions["class"]=this.modalOptions["class"]+"animated "+t)),n.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.ngOnDestroy=function(){this.close(),this.deRegister(this.viewParent),n.prototype.ngOnDestroy.call(this)},e}(Ne),He={widgetType:"wm-alertdialog"},Ge=function(o){function e(e,t,i,n){null!==i&&i!==undefined||(i=!1),null!==n&&n!==undefined||(n=!0);var a=!x.toBoolean(i)||"static";return o.call(this,e,He,{"class":"app-dialog modal-dialog app-alert-dialog "+(t||""),backdrop:a,keyboard:!x.toBoolean(i)})||this}return v(e,o),e.prototype.getTemplateRef=function(){return this.dialogTemplate},e.prototype.onOk=function(e){this.invokeEventCallback("ok",{$event:e})},e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.register(this.viewParent)},e.initializeProps=void ge("wm-alertdialog",new Map([["alerttype",y({value:"error"},be)],["animation",be],["class",be],["closable",{value:!0,PROP_BOOLEAN:Ce}],["iconclass",{value:"wi wi-warning",PROP_STRING:be}],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["message",y({value:"Am an alert box!"},be)],["modal",y({value:!1},Ce)],["name",be],["oktext",y({value:"OK"},be)],["tabindex",y({value:0},we)],["title",y({value:"Alert"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmAlertDialog]",template:'<ng-template #dialogTemplate>\n    <div wmDialogHeader [closable]="closable"\n         [iconclass]="iconclass"\n         [iconurl]="iconurl"\n         [iconwidth]="iconwidth"\n         [iconheight]="iconheight"\n         [iconmargin]="iconmargin"\n         [heading]="title"></div>\n    <div wmDialogBody>\n        <p class="app-dialog-message text-{{alerttype}}" [attr.aria-describedby]="message" [textContent]="message"></p>\n    </div>\n    <div wmDialogFooter>\n        <button wmButton class="btn-primary ok-action" caption.bind="oktext" aria-label="Submit button" (click)="onOk($event)"></button>\n    </div>\n</ng-template>\n',providers:[z(e),U(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["class"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["modal"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["closable"]}]}]},e.propDecorators={dialogTemplate:[{type:h.ViewChild,args:["dialogTemplate"]}]},e}(qe),Ye={widgetType:"wm-nav-item",hostClass:"app-nav-item"},Ke=function(i){function e(e){var t=i.call(this,e,Ye)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.prototype.makeActive=function(){var e=this.nativeElement.parentNode;$(e).find("> li.active").removeClass("active"),x.addClass(this.nativeElement,"active")},e.initializeProps=void ge("wm-nav-item",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmNavItem]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={makeActive:[{type:h.HostListener,args:["click"]},{type:h.HostListener,args:["keydown.enter"]}]},e}($e),Qe=function(e){e.preventDefault()},Xe=function(){function e(e){this.nativeElement=e.nativeElement}return Object.defineProperty(e.prototype,"wmNavigationControl",{set:function(e){(this._link=e)&&!this.disableMenuContext?(x.setAttr(this.nativeElement,"href",e),this.nativeElement.removeEventListener("contextmenu",Qe)):(x.setAttr(this.nativeElement,"href","javascript:void(0)"),this.nativeElement.addEventListener("contextmenu",Qe))},enumerable:!0,configurable:!0}),e.decorators=[{type:h.Directive,args:[{selector:"[wmNavigationControl]"}]}],e.ctorParameters=function(){return[{type:h.ElementRef}]},e.propDecorators={disableMenuContext:[{type:h.Input}],wmNavigationControl:[{type:h.Input}]},e}(),Ze={widgetType:"wm-anchor",hostClass:"app-anchor",displayType:Ie},Je=/Actions.goToPage_(\w+)\.invoke\(\)/g,et=function(s){function e(e,t,i){var n=s.call(this,e,Ze)||this;return n.navItemRef=t,n.app=i,ue(n.nativeElement,n),n}return v(e,s),e.prototype.processEventAttr=function(e,t,i){var n=this;if(s.prototype.processEventAttr.call(this,e,t,i),!this.hasNavigationToCurrentPageExpr){var a=this.inj.get(x.App);t.split(";").map(Function.prototype.call,String.prototype.trim).some(function(e){Je.lastIndex=0;var t=Je.exec(e);return n.hasGoToPageExpr=t&&0<t.length,n.hasGoToPageExpr&&t[1]===a.activePageName})&&(this.hasNavigationToCurrentPageExpr=!0)}},e.prototype.setNavItemActive=function(){this.navItemRef&&x.addClass(this.navItemRef.getNativeElement(),"active")},e.prototype.handleEvent=function(e,t,i,n,a){var o=this;s.prototype.handleEvent.call(this,e,t,function(e){o.hasGoToPageExpr&&n.$event&&n.$event.preventDefault(),i()},n,a)},e.prototype.onPropertyChange=function(e,t,i){if("hyperlink"===e){if(!t)return x.setAttr(this.nativeElement,"href","javascript:void(0)"),void this.nativeElement.addEventListener("contextmenu",Qe);this.encodeurl&&(t=x.encodeUrl(t)),t.startsWith("www.")&&(t="//"+t),x.setAttr(this.nativeElement,"href",t),this.nativeElement.removeEventListener("contextmenu",Qe)}else s.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngAfterViewInit=function(){var e=this;s.prototype.ngAfterViewInit.call(this),this.hasNavigationToCurrentPageExpr&&x.addClass(this.nativeElement,"active"),this.navItemRef&&setTimeout(function(){e.hyperlink&&x.getRouteNameFromLink(e.hyperlink)==="/"+e.app.activePageName?e.setNavItemActive():e.hasNavigationToCurrentPageExpr&&e.setNavItemActive()})},e.initializeProps=void ge("wm-anchor",new Map([["badgevalue",be],["caption",y({value:"Link"},be)],["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["encodeurl",Ce],["hint",be],["hyperlink",y({value:""},be)],["iconclass",be],["iconheight",be],["iconmargin",be],["iconposition",be],["iconurl",be],["iconwidth",be],["name",be],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["target",y({value:"_self"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"a[wmAnchor]",template:'<img data-identifier="img" alt="Image" class="anchor-image-icon" [src]="iconurl | image" *ngIf="iconurl" [ngStyle]="{width:iconwidth, height:iconheight, margin:iconmargin}"/>\n<i class="app-icon {{iconclass}}" aria-hidden="true" [ngStyle]="{width:iconwidth, height:iconheight, margin:iconmargin}" *ngIf="iconclass"></i>\n<span class="sr-only" *ngIf="iconclass">{{caption | trustAs:\'html\'}} {{appLocale.LABEL_ICON}}</span>\n<span class="anchor-caption" [innerHTML]="caption | trustAs:\'html\'"></span>\n<ng-content select=".caret"></ng-content>\n<span *ngIf="badgevalue" class="badge pull-right" [textContent]="badgevalue"></span>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Ke,decorators:[{type:h.Optional}]},{type:x.App}]},e.propDecorators={target:[{type:h.HostBinding,args:["target"]}],shortcutkey:[{type:h.HostBinding,args:["attr.accesskey"]}],iconposition:[{type:h.HostBinding,args:["attr.icon-position"]}]},e}($e),tt=function(){};(ye=ve||(ve={})).INSERT="insert",ye.UPDATE="update",ye.DELETE="delete",ye.READ="read";var it="All Fields",nt={EMPTY_KEY:"EMPTY_NULL_FILTER",EMPTY_VALUE:"No Value",LABEL_KEY:"key",LABEL_VALUE:"value",NULL_EMPTY:["null","empty"],NULL:"null",EMPTY:"empty"};function at(e){return _.includes([x.FormWidgetType.AUTOCOMPLETE,x.FormWidgetType.TYPEAHEAD,x.FormWidgetType.CHIPS],e)}function ot(n,a,o){return new Promise(function(t,i){if(n.execute(x.DataSource.Operation.SUPPORTS_CRUD)){var e=void 0;switch(o.operationType){case ve.UPDATE:e=x.DataSource.Operation.UPDATE_RECORD;break;case ve.INSERT:e=x.DataSource.Operation.INSERT_RECORD;break;case ve.DELETE:e=x.DataSource.Operation.DELETE_RECORD}n.execute(e,a).then(function(e){return function n(e,t,i){e.error?i(e):t(e)}(e,t,i)},i)}else n.execute(x.DataSource.Operation.IS_API_AWARE)?(n.execute(x.DataSource.Operation.SET_INPUT,a),n.execute(x.DataSource.Operation.INVOKE,{skipNotification:!0}).then(t,i)):t(a)})}function st(i,n){return new Promise(function(e,t){i?i.execute(x.DataSource.Operation.LIST_RECORDS,{filterFields:n.filterFields||{},orderBy:n.orderBy,page:n.page||1}).then(e,t):t()})}function rt(t,i,e){var n,a,o=e.relatedField,s=e.datafield;t&&(n=t.execute(x.DataSource.Operation.GET_RELATED_PRIMARY_KEYS,o),i.datafield=s,i._primaryKey=_.isEmpty(n)?undefined:n[0],i.compareby=n&&n.join(","),a=s===it?undefined:s,i.displayfield=a=i.displayfield||a||i._primaryKey,at(i[e.widget])?(i.dataoptions={relatedField:o,filterExpr:i.filterexpressions?i.filterexpressions:{}},i.datasource=t,i.searchkey=i.searchkey||a,i.displaylabel=i.displayfield=i.displaylabel||a):lt(i.viewParent,i.filterexpressions,function(e){i.filterexpressions=e,t.execute(x.DataSource.Operation.GET_RELATED_TABLE_DATA,{relatedField:o,pagesize:i.limit,orderBy:i.orderby?_.replace(i.orderby,/:/g," "):"",filterFields:{},filterExpr:i.filterexpressions?i.filterexpressions:{}}).then(function(e){i.dataset=e.data,i.displayfield=i.displayfield||_.head(_.keys(_.get(e,"[0]")))},tt)}))}var lt=function(e,t,i){var n=x.debounce(function(){_.isFunction(i)&&i(t)},300);n();var a=t?_.isObject(t)?t:JSON.parse(t):{},o=e.registerDestroyListener?e.registerDestroyListener.bind(e):_.noop,s=x.processFilterExpBindNode(e,a).subscribe(function(e){t=JSON.stringify(e.filterExpressions),n()});o(function(){return s.unsubscribe()})},ct=function(e,t){var i,n={};return t["is-related"]?(n.tableName=t["lookup-type"],i=t["lookup-field"],n.distinctField=i,n.aliasColumn=i.replace(".","$"),n.filterExpr=t.filterexpressions?_.isObject(t.filterexpressions)?t.filterexpressions:JSON.parse(t.filterexpressions):{}):(n.tableName=e.execute(x.DataSource.Operation.GET_ENTITY_NAME),i=t.field||t.key,n.distinctField=i,n.aliasColumn=i),n};function dt(i,n,a){var o;return new Promise(function(t,e){!M(n[a])||n.isDataSetBound&&"filterwidget"!==a||(o=ct(i,n),i.execute(x.DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS,{fields:o.distinctField,entityName:o.tableName,pagesize:n.limit,filterExpr:n.filterexpressions?JSON.parse(n.filterexpressions):{}}).then(function(e){t({field:n,data:e.data,aliasColumn:o.aliasColumn})},e))})}function pt(e,t){if(at(e[t.widget]))return e.datafield=t.aliasColumn||nt.LABEL_KEY,e.searchkey=t.distinctField||nt.LABEL_KEY,void(e.displaylabel=e.displayfield=t.aliasColumn||nt.LABEL_VALUE);e.datafield=nt.LABEL_KEY,e.displayfield=nt.LABEL_VALUE}function ut(e,t,n){var i=[x.FormWidgetType.SELECT,x.FormWidgetType.RADIOSET],a={},o=[];n.isEnableEmptyFilter&&_.includes(i,e[n.widget])&&!e["is-range"]&&!e.multiple&&(a[nt.LABEL_KEY]=nt.EMPTY_KEY,a[nt.LABEL_VALUE]=n.EMPTY_VALUE||nt.EMPTY_VALUE,o.push(a)),_.each(t,function(e){var t=e[n.aliasColumn],i={};null!==t&&""!==t&&(i[nt.LABEL_KEY]=t,i[nt.LABEL_VALUE]=t,o.push(i))}),pt(e,n),e.dataset=o}function ht(t,i,n){if(t&&i&&!i.isDataSetBound)if(at(i[n.widget])){var e=ct(t,i);i.dataoptions=e,pt(i,Object.assign(n||{},e)),i.datasource=t}else lt(i.viewParent,i.filterexpressions,function(e){i.filterexpressions=e,dt(t,i,n.widget).then(function(e){ut(e.field,e.data,{aliasColumn:e.aliasColumn,widget:n.widget,isEnableEmptyFilter:vt(n.enableemptyfilter),EMPTY_VALUE:n.EMPTY_VALUE})})})}function ft(e){return x.isDefined(e)&&""!==e&&null!==e}function mt(e,t){var i;return ft(e)&&ft(t)?i=[e,t]:ft(e)?i=e:ft(t)&&(i=t),i}function gt(e,t){var i;return ft(e)&&ft(t)?i=x.MatchMode.BETWEEN:ft(e)?i=x.MatchMode.GREATER:ft(t)&&(i=x.MatchMode.LESSER),i}function vt(e){return e&&0<_.intersection(e.split(","),nt.NULL_EMPTY).length}function yt(e){var t,i=_.split(e,",");return 2===_.intersection(i,nt.NULL_EMPTY).length?t=x.MatchMode.NULLOREMPTY:_.includes(i,nt.NULL)?t=x.MatchMode.NULL:_.includes(i,nt.EMPTY)&&(t=x.MatchMode.EMPTY),t}var bt=function(e){return _.isUndefined(e)||_.isNull(e)?[]:(_.isString(e)&&(e=e.split(",").map(Function.prototype.call,String.prototype.trim)),_.isArray(e)||(e=[e]),e)};function wt(c,d,e,p,u){void 0===u&&(u={});var t=d.field||d.key,i=_.filter(e,{"filter-on":t});p=d["is-range"]?mt(d.minValue,d.maxValue):x.isDefined(p)?p:d.value,!c||u.isFirst&&(_.isUndefined(p)||""===p)||_.forEach(i,function(t){var e,i,n,a=t.field||t.key,o=d["lookup-field"]||d._primaryKey,s=t["edit-widget-type"]||t.widgettype,r={},l=t["filter-on"];M(s)&&!t.isDataSetBound&&l!==a&&(d&&d["is-related"]&&(l+="."+o),x.isDefined(p)?(n=d["is-range"]?gt(d.minValue,d.maxValue):vt(u.enableemptyfilter)&&p===nt.EMPTY_KEY?yt(u.enableemptyfilter):x.MatchMode.EQUALS,e=_.isObject(p)&&!_.isArray(p)?p[o]:p,r[l]={value:e,matchMode:n}):r={},i=a,at(s)&&t.dataoptions?t.dataoptions.filterFields=r:c.execute(x.DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS,{fields:i,filterFields:r,pagesize:t.limit}).then(function(e){ut(t,e.data,{aliasColumn:i,widget:u.widget||"widgettype",isEnableEmptyFilter:vt(u.enableemptyfilter),EMPTY_VALUE:u.EMPTY_VALUE})},tt))})}var Ct,Et,xt=moment.localeData(),Dt=x.getClonedObject(xt._calendar),kt=xt._calendarDay||{lastDay:"[Yesterday]",lastWeek:"[Last] dddd",nextDay:"[Tomorrow]",nextWeek:"dddd",sameDay:"[Today]",sameElse:"L"},_t="alphabet",It="Others",Pt={HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"},St="yyyy-MM-dd",Tt="w 'Week',  yyyy",Ot="MMM, yyyy",At="YYYY",Rt="hh:mm a",Lt=function(e,t,i){if(!t)return _.cloneDeep(e);var n=t.split(","),a=[],o=[];return n.forEach(function(e){var t=e.split(":");a.push(i?i+"."+t[0]:t[0]),o.push(t[1])}),_.orderBy(e,a,o)},Ft=function(e){return _.isUndefined(e)||_.isNull(e)||""===_.trim(e)?[]:(_.isString(e)&&(e=_.split(e,",").map(function(e){return e.trim()})),_.isArray(e)||(e=[e]),e)},Mt=function(e){return _.isString(e)&&(e=_.split(e,",").map(function(e){return e.trim()})),e},Nt=function(o,i,s,r,l){var c=[];if(i)return i=Mt(i),_.isUndefined(l)&&(l=1),_.isString(i)?(i=i.split(",").map(function(e){return e.trim()})).forEach(function(e,t){c.push({key:e,value:e,label:x.isDefined(e)&&null!==e?e.toString():"",index:l+t})}):_.isArray(i)&&!_.isObject(i[0])?i.forEach(function(e,t){c.push({key:e,value:e,label:x.isDefined(e)&&null!==e?e.toString():"",index:l+t})}):i instanceof Array||!_.isObject(i)?(s||(s=it),i.forEach(function(e,t){var i=s===it?l+t:A(e,s);if(!_.isUndefined(i)&&!_.isNull(i)){var n=R(e,{field:r.displayField,expression:r.displayExpr,bindExpression:r.bindDisplayExpr},o),a={key:i,label:x.isDefined(n)&&null!==n?n.toString():"",value:s===it?e:i,dataObject:e,index:l+t};(r.displayImgSrc||r.bindDisplayImgSrc)&&(a.imgSrc=R(e,{expression:r.displayImgSrc,bindExpression:r.bindDisplayImgSrc},o)),c.push(a)}})):_.forEach(i,function(e,t){c.push({key:_.trim(t),value:t,label:x.isDefined(e)&&null!==e?e.toString():"",index:l,dataObject:i})}),c},$t=function(e,t,i,n){var a,o=t===it;return a=o?_.uniqWith(e,_.isEqual):_.uniqBy(e,"key"),!i||n?a:_.filter(a,function(e){return o?_.trim(e.label):_.trim(e.key)&&_.trim(e.label)})},Vt=function(t,e,i,n,a,o,s,r,l){var c,d,p,u,h={};if(_.includes(i,"(")){var f=x.$parseEvent(i);h=_.groupBy(e,function(e){return f(t.viewParent,{row:e.dataObject||e})})}else h=Bt(e,i,n,a,o,s,r,l);return c=h,d=i,p=a,u=[],_.forEach(_.keys(c),function(e,t){var i=Lt(c[e],p,"dataObject");u.push({key:e,data:_.sortBy(i,function(e){return e._groupIndex=t+1,_.get(e,d)||_.get(e.dataObject,d)})})}),u},Bt=function(e,i,t,n,a,o,s,r){t===Pt.DAY&&(xt._calendar=kt),e=_.orderBy(e,function(e){var t=_.get(s?e[s]:e,i);if(t)return _.toLower(t)});var l=_.groupBy(e,jt.bind(undefined,i,t,s,a,o,r));return xt._calendar=Dt,l},Wt=function(e,t,i,n){return"timestamp"===t?e:x.getFormattedDate(n,e,t||i)},jt=function(e,t,i,n,a,o,s){var r=_.get(i?s[i]:s,e);return _.isUndefined(r)||_.isNull(r)||""===r.toString().trim()?It:(t===_t&&(r=r.substr(0,1)),_.includes(_.values(Pt),t)&&(r=function(e,t,i,n,a){var o,s=moment(e),r=i,l=moment(),c=function(){return"["+Wt(this.valueOf(),r,St,n)+"]"};switch(t){case Pt.HOUR:r=r||a.timeFormat,s.isValid()||(s=moment((new Date).toDateString()+" "+e)).isValid()&&(xt._calendar.sameDay=function(){return"["+Wt(this.valueOf(),r,Rt,n)+"]"}),s=s.startOf("hour"),xt._calendar.sameElse=c,o=s.calendar(l);break;case Pt.WEEK:o=Wt(s.valueOf(),r,Tt,n);break;case Pt.MONTH:o=Wt(s.valueOf(),r,Ot,n);break;case Pt.YEAR:o=s.format(At);break;case Pt.DAY:r=r||a.dateFormat,s=s.startOf("day"),xt._calendar.sameElse=c,o=s.calendar(l)}return"Invalid date"===o?It:o}(r,t,n,a,o)),r)},zt=function(e){var t=$(e.nativeElement).find(".item-group");t.find(".group-list-item").toggle();var i=t.find("li.list-group-header .app-icon");i&&_.forEach(i,function(e){(e=$(e)).hasClass("wi-chevron-down")?e.removeClass("wi-chevron-down").addClass("wi-chevron-up"):e.removeClass("wi-chevron-up").addClass("wi-chevron-down")})},Ut=function(e){var t=$(e.target).closest(".item-group"),i=t.find("li.list-group-header .app-icon");i.hasClass("wi-chevron-down")?i.removeClass("wi-chevron-down").addClass("wi-chevron-up"):i.removeClass("wi-chevron-up").addClass("wi-chevron-down"),t.find(".group-list-item").toggle()},qt=function(e,t,i,n){var a=Object.assign({containment:e,delay:100,opacity:.8,helper:"clone",zIndex:1050,tolerance:"pointer",start:i,update:n},t);e.sortable(a)},Ht=function(e){if(e)return/^(\/|#\/|#)(?!\W).*/.test(e)?"#/"+(e=_.first(e.match(/[\w]+.*/g))||""):_.startsWith(e,"www.")?"//"+e:e},Gt=function(n){function e(e,t){var i=n.call(this,e,t)||this;return i.nodes=[],i._resetNodes=_.debounce(i.resetNodes,50),i.securityService=i.inj.get(a.SecurityService),i.binditemlabel=i.nativeElement.getAttribute("itemlabel.bind"),i.binditemicon=i.nativeElement.getAttribute("itemicon.bind"),i.binditemaction=i.nativeElement.getAttribute("itemaction.bind"),i.binditembadge=i.nativeElement.getAttribute("itembadge.bind"),i.binditemchildren=i.nativeElement.getAttribute("itemchildren.bind"),i.binditemid=i.nativeElement.getAttribute("itemid.bind"),i.binditemlink=i.nativeElement.getAttribute("itemlink.bind"),i.binditemtarget=i.nativeElement.getAttribute("itemtarget.bind"),i.binduserrole=i.nativeElement.getAttribute("userrole.bind"),i}return v(e,n),e.prototype.getNode=function(e,t){var i=this.viewParent.pageScope||this.viewParent,n=R(t,{expression:"itemchildren",bindExpression:this.binditemchildren},i)||_.get(t,e.childrenField),a={action:R(t,{expression:"itemaction",bindExpression:this.binditemaction},i)||_.get(t,e.actionField),badge:R(t,{expression:"itembadge",bindExpression:this.binditembadge},i)||_.get(t,e.badgeField),children:Array.isArray(n)?this.getNodes(n):[],"class":_.get(t,e.classField),disabled:t.disabled,icon:R(t,{expression:"itemicon",bindExpression:this.binditemicon},i)||_.get(t,e.iconField),id:R(t,{expression:"itemid",bindExpression:this.binditemid},i)||_.get(t,e.idField),label:R(t,{expression:"itemlabel",bindExpression:this.binditemlabel},i)||_.get(t,e.labelField),link:Ht(R(t,{expression:"itemlink",bindExpression:this.binditemlink},i)||_.get(t,e.linkField)),target:Ht(R(t,{expression:"itemtarget",bindExpression:this.binditemtarget},i)||_.get(t,e.targetField)),role:R(t,{expression:"userrole",bindExpression:this.binduserrole},i),value:this.datafield?"All Fields"===this.datafield?t:x.findValueOf(t,this.datafield):t};return _.omitBy(a,_.isUndefined)},e.prototype.resetItemFieldMap=function(){this._itemFieldMap=null},e.prototype.getItemFieldsMap=function(){return this._itemFieldMap||(this._itemFieldMap={idField:this.itemid||"itemid",iconField:this.itemicon||"icon",labelField:this.itemlabel||"label",linkField:this.itemlink||"link",targetField:this.itemtarget||"target",badgeField:this.itembadge||"badge",childrenField:this.itemchildren||"children",classField:this.itemclass||"class",actionField:this.itemaction||"action"}),this._itemFieldMap},e.prototype.prepareNodeDataSet=function(e){return(e=bt(e)).map(function(e){return x.isObject(e)?e:{label:e,value:e}})},e.prototype.getNodes=function(e){var i=this;void 0===e&&(e=this.dataset||{});var t=Lt(this.prepareNodeDataSet(e),this.orderby)||[];if(t.length){var n=this.userrole,a=this.getItemFieldsMap();t=t.reduce(function(e,t){return x.validateAccessRoles(t[n],i.securityService.loggedInUser)&&e.push(i.getNode(a,t)),e},[])}return t},e.prototype.resetNodes=function(){this.resetItemFieldMap(),this.nodes=this.getNodes(),x.$appDigest()},e.prototype.onPropertyChange=function(e,t,i){switch(e){case"dataset":case"itemicon":case"itemlabel":case"itemlink":case"itemtarget":case"itemclass":case"itemchildren":case"orderby":this._resetNodes()}n.prototype.onPropertyChange.call(this,e,t,i)},e}($e),Yt={widgetType:"wm-breadcrumb",hostClass:"breadcrumb app-breadcrumb"},Kt=function(o){function e(e,t,i,n){var a=o.call(this,e,Yt)||this;return a.route=t,a.location=i,ue(a.nativeElement,a,g.APPLY_STYLES_TYPE.CONTAINER),a.disableMenuContext=!!n,a}return v(e,o),e.prototype.getPath=function(t,e,i){var n=this;return void 0===i&&(i=[]),e.forEach(function(e){return t.isPathFound?i:e.id===t.key?(t.isPathFound=!0,i.push(e),i):void(e.children.length&&(i.push(e),n.getPath(t,e.children,i),t.isPathFound||i.pop()))}),i},e.prototype.getCurrentRoute=function(){return this.location.path().substr(1).split("?")[0]},e.prototype.resetNodes=function(){o.prototype.resetNodes.call(this),(this.itemid||this.binditemid)&&(this.nodes=this.getPath({key:this.getCurrentRoute(),isPathFound:!1},this.nodes))},e.prototype.onItemClick=function(e,t){e.preventDefault();var i={$item:t.value,$event:e},n=!(!1===this.invokeEventCallback("beforenavigate",i)),a=t.target,o=t.link;if(o&&n)if(!o.startsWith("#/")||a&&"_self"!==a)x.openLink(o,a);else{var s=x.getUrlParams(o);o=x.getRouteNameFromLink(o),this.route.navigate([o],{queryParams:s})}},e.initializeProps=void ge("wm-breadcrumb",new Map([["class",be],["dataset",Ee],["itemlabel",be],["itemid",be],["itemlink",be],["itemicon",be],["itemchildren",be],["itemclass",be],["itemtarget",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmBreadcrumb]",template:'<li *ngFor="let item of nodes; let last = last; let index = index" [ngClass]="{active: last}" class="{{item.class}}">\n    <i class="{{item.icon}}"></i>\n    <a [title]="item.label" href="javascript:void(0)" [wmNavigationControl]="item.link" [disableMenuContext]="disableMenuContext || !!item.action" (click)="onItemClick($event, item)" *ngIf="!last" [textContent]="item.label"></a>\n    <label *ngIf="last" [textContent]="item.label"></label>\n</li>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:l.Router},{type:s.Location},{type:String,decorators:[{type:h.Attribute,args:["beforenavigate.event"]}]}]},e}(Gt),Qt={widgetType:"wm-button",hostClass:"btn app-button",displayType:Ie},Xt=function(i){function e(e){var t=i.call(this,e,Qt)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-button",new Map([["badgevalue",be],["caption",be],["class",y({value:"btn-default"},be)],["conditionalclass",Ee],["conditionalstyle",Ee],["disabled",Ce],["hint",be],["iconclass",be],["iconheight",be],["iconmargin",be],["iconposition",be],["iconurl",be],["iconwidth",be],["name",be],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["type",be]])),e.decorators=[{type:h.Component,args:[{selector:"button[wmButton]",template:'<img data-identifier="img" alt="button image" class="button-image-icon" [src]="iconurl | image" *ngIf="iconurl" [ngStyle]="{width:iconwidth, height:iconheight, margin:iconmargin}"/>\n<i class="app-icon {{iconclass}}" aria-hidden="true" [ngStyle]="{width:iconwidth, height:iconheight, margin:iconmargin, fontSize:iconwidth}" *ngIf="iconclass"></i>\n<span class="sr-only" *ngIf="iconclass">{{caption | trustAs:\'html\'}} {{appLocale.LABEL_ICON}}</span>\n<span class="btn-caption" [innerHTML]="caption | trustAs:\'html\'"></span>\n<ng-content select=".caret"></ng-content>\n<span *ngIf="badgevalue" class="badge pull-right" [textContent]="badgevalue"></span>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={type:[{type:h.HostBinding,args:["type"]}],tabindex:[{type:h.HostBinding,args:["tabIndex"]}],disabled:[{type:h.HostBinding,args:["disabled"]}],shortcutkey:[{type:h.HostBinding,args:["attr.accesskey"]}],iconposition:[{type:h.HostBinding,args:["attr.icon-position"]}]},e}($e),Zt={widgetType:"wm-buttongroup",hostClass:"btn-group app-button-group"},Jt=function(i){function e(e){var t=i.call(this,e,Zt)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-buttongroup",new Map([["class",be],["name",be],["show",y({value:!0},Ce)],["vertical",Ce]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmButtonGroup]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={vertical:[{type:h.HostBinding,args:["class.btn-group-vertical"]}]},e}($e),ei=["yyyy-MM-dd","yyyy-M-dd","M-dd-yyyy","MM-dd-yy","yyyy, dd MMMM","yyyy, MMM dd","MM/dd/yyyy","M/d/yyyy","EEE, dd MMM yyyy","EEE MMM dd yyyy","EEEE, MMMM dd, yyyy","timestamp"],ti={left:"prev next today",center:"title",right:"month basicWeek basicDay"},ii="basic",ni="list",ai="Year",oi="Month",si="Week",ri="Day",li="Today",ci="none",di="single",pi={START:"00:00",END:"24:00"},ui=function(e){var t=(e=_.isObject(e)?e:moment(e)).format("YYYY"),i=e.format("MM")-1,n=e.format("DD"),a=e.format("HH"),o=e.format("mm"),s=e.format("ss");return new Date(t,i,n,a,o,s)},hi={widgetType:"wm-calendar",hostClass:"app-calendar"},fi="app-calendar-event",mi="YYYY/MM/DD",gi=function(s){function e(e){var t=s.call(this,e,hi)||this;return t.controls="navigation, today, year, month, week, day",t.eventSources=[],t.dataSetEvents={events:[]},t.changesStack=[],t.invokeOnViewRenderback=_.debounce(function(){return t.invokeEventCallback("viewrender",{$view:t.calendarOptions})},300),t.calendarOptions={calendar:{height:600,eventSources:t.eventSources,editable:!0,locale:x.getSessionStorageItem("selectedLocale")||"en",selectable:!1,header:ti,nextDayThreshold:pi,views:{month:{eventLimit:0}},unselectAuto:!1,eventDrop:t.eventDrop.bind(t),eventResizeStart:t.onEventChangeStart.bind(t),eventDragStart:t.onEventChangeStart.bind(t),eventResize:t.eventResize.bind(t),eventClick:t.eventClick.bind(t),select:t.select.bind(t),eventRender:t.eventRender.bind(t),viewRender:t.viewRender.bind(t)}},t.dayClass=[],t.mobileCalendar=x.isMobile(),t.eventSources.push(t.dataSetEvents),t}var t;return v(e,s),e.prototype.selectDate=function(){var e,t;t=_.isObject(this.datavalue)?(e=this.datavalue.start,this.datavalue.end):(e=moment(this.datavalue),moment(this.datavalue).add(1,"day").startOf("day")),this.$fullCalendar.fullCalendar("gotoDate",e),this.$fullCalendar.fullCalendar("select",e,t)},e.prototype.gotoDate=function(){this.$fullCalendar.fullCalendar("gotoDate",moment(this.datavalue))},e.prototype.gotoNextYear=function(){this.$fullCalendar.fullCalendar("nextYear")},e.prototype.gotoPrevYear=function(){this.$fullCalendar.fullCalendar("prevYear")},e.prototype.gotoMonth=function(e){var t=this.$fullCalendar.fullCalendar("getDate"),i=new Date(t).getMonth();i<e?this.$fullCalendar.fullCalendar("gotoDate",t.add(e-i-1,"M")):this.$fullCalendar.fullCalendar("gotoDate",t.subtract(i-e+1,"M"))},e.prototype.gotoNextMonth=function(){var e=this.$fullCalendar.fullCalendar("getDate");this.$fullCalendar.fullCalendar("gotoDate",e.add(1,"M"))},e.prototype.gotoPrevMonth=function(){var e=this.$fullCalendar.fullCalendar("getDate");this.$fullCalendar.fullCalendar("gotoDate",e.subtract(1,"M"))},e.prototype.rerenderEvents=function(){this.$fullCalendar.fullCalendar("rerenderEvents")},e.prototype.setSelectedData=function(e,t){var i=this.dataset;if(i){var n=[],a=this.eventstart||"start",o=this.eventend||"end",s=moment(new Date(e)).format("MM/DD/YYYY"),r=moment(new Date(t)).subtract(1,"days").format("MM/DD/YYYY");return(i=i.data||i).forEach(function(e){if(e[a]){var t=moment(new Date(e[a])).format("MM/DD/YYYY"),i=moment(new Date(e[o]||e[a])).format("MM/DD/YYYY");moment(t).isSameOrAfter(s)&&moment(i).isSameOrBefore(r)&&n.push(e)}}),n}},e.prototype.eventDrop=function(e,t,i,n,a,o){this.invokeEventCallback("eventdrop",{$event:n,$newData:e,$oldData:this.oldData,$delta:t,$revertFunc:i,$ui:a,$view:o})},e.prototype.select=function(e,t,i,n){this.selecteddates={start:ui(e),end:ui(t)},this.selecteddata=this.setSelectedData(e,t),this.invokeEventCallback("select",{$start:e.valueOf(),$end:t.valueOf(),$view:n,$data:this.selecteddata})},e.prototype.eventResize=function(e,t,i,n,a,o){this.invokeEventCallback("eventresize",{$event:n,$newData:e,$oldData:this.oldData,$delta:t,$revertFunc:i,$ui:a,$view:o})},e.prototype.onEventChangeStart=function(e){this.oldData=x.getClonedObject(e)},e.prototype.eventClick=function(e,t,i){this.invokeEventCallback("eventclick",{$event:t,$data:e,$view:i})},e.prototype.eventRender=function(e,t,i){this.calendartype===ni&&this.$fullCalendar.find(".fc-list-table").addClass("table"),this.invokeEventCallback("eventrender",{$event:t,$data:e,$view:i})},e.prototype.viewRender=function(e){this.currentview={start:e.start.format(),end:e.end.subtract(1,"days").format()},this.calendartype===ni&&this.$fullCalendar.find(".fc-list-table").addClass("table"),this.invokeEventCallback("viewrender",{$view:e})},e.prototype.updateCalendarHeaderOptions=function(){var e=this.controls,t=this.calendartype,i=new RegExp("\\bday\\b","g"),n="",a="";e&&t&&(_.includes(e,"navigation")&&(n+=" prev next"),_.includes(e,"today")&&(n+=" today"),_.includes(e,"year")&&(a+=t===ni?"listYear":""),_.includes(e,"month")&&(a+=t===ni?" listMonth":" month"),_.includes(e,"week")&&(a+=t===ii?" basicWeek":t===ni?" listWeek":" agendaWeek"),i.test(e)&&(a+=t===ii?" basicDay":t===ni?" listDay":" agendaDay"),_.extend(this.calendarOptions.calendar.header,{left:n,right:a}))},e.prototype.calculateHeight=function(e){var t,i=$(this.nativeElement).parent(),n=e||"650px",a=i.css("height");return t=_.includes(n,"%")?(_.includes(a,"%")&&(a=i.height()),parseInt(a,10)*Number(n.replace(/\%/g,""))/100):parseInt(n,10),this.calendarOptions.calendar.views.month.eventLimit=parseInt(""+t/200,10)+1,t},e.prototype.triggerMobileCalendarChange=function(){this.prepareCalendarEvents(),this.proxyModel=this.proxyModel||moment().valueOf(),this.selecteddates={start:moment(this.proxyModel).valueOf(),end:moment(this.proxyModel).endOf("day").valueOf()},this.invokeEventCallback("eventrender",{$data:this.eventData})},e.prototype.prepareCalendarEvents=function(){var i,e,n=this;this.eventData={},this.dataset&&(e=this.dataset,e=_.isArray(e)?e:_.isObject(e)?[e]:[],this.events=e||this.constructCalendarDataset(e),this.events.forEach(function(e){var t=e.start||e[n.eventstart];t&&(i=moment(t).startOf("day").format(mi),n.eventData[i]?n.eventData[i].push(e):n.eventData[i]=[e],n.mobileCalendar&&n.dayClass.push({date:new Date(t).setHours(0,0,0,0),mode:"day",clazz:n.getDayClass({eventDay:i})}))}),this.mobileCalendar&&this._datepickerInnerComponent&&this._datepickerInnerComponent.refreshView())},e.prototype.constructCalendarDataset=function(e){var r=this,t={title:this.eventtitle||"title",allDay:this.eventallday||"allday",start:this.eventstart||"start",end:this.eventend||"end",className:this.eventclass||"className"};return e.forEach(function(s){_.mapKeys(t,function(e,t){var i,n,a,o;(i="title"===t?R(s,{expression:e},r.viewParent):"allDay"===t?!!_.get(s,e):_.get(s,e))&&("start"!==t&&"end"!==t||(n=i,a=t,o=!1,ei.forEach(function(e){if(moment(n,e.toUpperCase(),!0).isValid())return!(o=!0)}),i=o&&"end"===a?moment(n).endOf("day"):moment(n)),s[t]=i)})}),e},e.prototype.setLocale=function(){var e=_.get(this.appLocale,"LABEL_CALENDAR_YEAR")||ai,t=_.get(this.appLocale,"LABEL_CALENDAR_MONTH")||oi,i=_.get(this.appLocale,"LABEL_CALENDAR_WEEK")||si,n=_.get(this.appLocale,"LABEL_CALENDAR_DAY")||ri,a=_.get(this.appLocale,"LABEL_CALENDAR_TODAY")||li;this.calendarOptions.calendar.buttonText={year:e,month:t,week:i,day:n,today:a,listYear:e,listMonth:t,listWeek:i,listDay:n}},e.prototype.ngOnInit=function(){s.prototype.ngOnInit.call(this),ue(this.nativeElement,this,g.APPLY_STYLES_TYPE.CONTAINER,["height"]),this.mobileCalendar?(this.view&&"week"!==this.view||(this.view="day"),this.triggerMobileCalendarChange()):this.setLocale()},e.prototype.onStyleChange=function(e,t,i){s.prototype.onStyleChange.call(this,e,t,i),"height"===e&&(this.calendarOptions.calendar.height=this.calculateHeight(t),this.updateCalendarOptions("option","height",this.calendarOptions.calendar.height))},e.prototype.onPropertyChange=function(e,t,i){switch(s.prototype.onPropertyChange.call(this,e,t,i),e){case"selectionmode":t!==ci?(this.calendarOptions.calendar.selectable=!0,this.updateCalendarOptions("option","selectable",!0),t===di?(this.calendarOptions.calendar.selectConstraint={start:"00:00",end:"24:00"},this.updateCalendarOptions("option","selectConstraint",this.calendarOptions.calendar.selectConstraint)):this.updateCalendarOptions("option","selectConstraint",{})):(this.calendarOptions.calendar.selectable=!1,this.updateCalendarOptions("option","selectable",!1));break;case"view":"month"!==t||this.calendartype===ni?this.calendarOptions.calendar.defaultView=this.calendartype+_.capitalize(t):this.calendarOptions.calendar.defaultView=t,this.updateCalendarOptions("changeView",this.calendarOptions.calendar.defaultView);break;case"calendartype":this.calendartype=t||"basic";case"controls":this.updateCalendarHeaderOptions();break;case"dataset":var n=void 0;this.dataset=t,n=bt(x.getClonedObject(t)),n=this.constructCalendarDataset(n),this.dataSetEvents.events=n.filter(function(e){if(e.start=e.start||e.end,e.start)return!0}),this.mobileCalendar?this.triggerMobileCalendarChange():(this.updateCalendarOptions("removeEvents"),this.updateCalendarOptions("addEventSource",this.dataSetEvents.events),this.updateCalendarOptions("rerenderEvents"))}},e.prototype.getDefaultDate=function(){if(this.datavalue)return new Date(this.datavalue)},e.prototype.ngAfterViewInit=function(){var a=this;if(s.prototype.ngAfterViewInit.call(this),this.mobileCalendar&&this._datepicker){var o=this._datepicker.activeDate;return this._datepicker.activeDateChange.subscribe(function(e){var t=o.getYear(),i=o.getMonth(),n=e.getYear();i===e.getMonth()&&t===n||(o=e,a.renderMobileView(e))}),this._datepickerInnerComponent=this._datepicker._datePicker,this.renderMobileView(moment(this.datavalue)),void this.registerDestroyListener(x.$watch("_datepickerInnerComponent.datepickerMode",this,{},function(e,t){t&&!_.isEmpty(t)&&a.invokeOnViewRenderback()}))}this.$fullCalendar=$(this._calendar.nativeElement),this.$fullCalendar.fullCalendar(this.calendarOptions.calendar),this.changesStack.length&&(this.changesStack.forEach(function(e){a.$fullCalendar.fullCalendar(e.operationType,e.argumentKey,e.argumentValue)}),this.changesStack.length=0)},e.prototype.updateCalendarOptions=function(e,t,i){this.$fullCalendar?this.$fullCalendar.fullCalendar(e,t,i):this.changesStack.push({operationType:e,argumentKey:t,argumentValue:i})},e.prototype.redraw=function(){this.updateCalendarOptions("render")},e.prototype.onValueChange=function(e){this.proxyModel=e;var t=this.proxyModel&&moment(this.proxyModel).startOf("day").format(mi),i=this.eventData[t],n=moment(this.proxyModel),a=moment(this.proxyModel).endOf("day");this.selecteddata=i,this.selecteddates={start:moment(t).valueOf(),end:moment(t).endOf("day").valueOf()},this.calendarOptions.calendar.select(n.valueOf(),a.valueOf(),{},this,i),i&&this.calendarOptions.calendar.eventClick(i,{},this)},e.prototype.getDayClass=function(e){var t=e.eventDay;if(_.isEmpty(this.eventData)||!this.eventData[t])return"";var i=this.eventData[t].length;return 1===i?"app-calendar-event one":2===i?"app-calendar-event two":fi},e.prototype.renderMobileView=function(e){var t,i;e&&(t=moment(e).startOf("month").valueOf(),i=moment(e).endOf("month").valueOf(),this.currentview={start:t,end:i},this.invokeOnViewRenderback())},e.initializeProps=(t=new Map([["calendartype",y({value:"basic"},be)],["class",be],["tabindex",y({value:0},we)],["controls",y({value:"navigation, today, year, month, week, day"},be)],["dataset",Ee],["datavalue",be],["eventallday",be],["eventclass",be],["eventend",be],["eventstart",be],["eventtitle",be],["name",be],["show",y({value:!0},Ce)],["showindevice",y({displayType:"inline-block",value:"all"},be)],["view",be],["selectionmode",be]]),x.isMobileApp()&&t.set("view",y({value:"day"},be)),void ge("wm-calendar",t)),e.decorators=[{type:h.Component,args:[{selector:"[wmCalendar]",template:'<div *ngIf="!mobileCalendar" #calendar></div>\n\n<datepicker *ngIf="mobileCalendar" #datepicker [(ngModel)]="proxyModel"\n            [initDate]="getDefaultDate()"\n            [minDate]="minDate"\n            [datepickerMode]="view"\n            [showWeeks]="false"\n            [customClass]="dayClass"\n            (selectionDone)="onValueChange($event)">\n</datepicker>\n\n\n\n',providers:[z(e)],encapsulation:h.ViewEncapsulation.None,styles:['/*!\n * FullCalendar v3.10.0\n * Docs & License: https://fullcalendar.io/\n * (c) 2018 Adam Shaw\n */.fc{direction:ltr;text-align:left}.fc-rtl{text-align:right}body .fc{font-size:1em}.fc-highlight{background:#bce8f1;opacity:.3}.fc-bgevent{background:#8fdf82;opacity:.3}.fc-nonbusiness{background:#d7d7d7}.fc button{box-sizing:border-box;margin:0;height:2.1em;padding:0 .6em;font-size:1em;white-space:nowrap;cursor:pointer}.fc button::-moz-focus-inner{margin:0;padding:0}.fc-state-default{border:1px solid;background-color:#f5f5f5;background-image:linear-gradient(to bottom,#fff,#e6e6e6);background-repeat:repeat-x;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);color:#333;text-shadow:0 1px 1px rgba(255,255,255,.75);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05)}.fc-state-default.fc-corner-left{border-top-left-radius:4px;border-bottom-left-radius:4px}.fc-state-default.fc-corner-right{border-top-right-radius:4px;border-bottom-right-radius:4px}.fc button .fc-icon{position:relative;top:-.05em;margin:0 .2em;vertical-align:middle}.fc-state-active,.fc-state-disabled,.fc-state-down,.fc-state-hover{color:#333;background-color:#e6e6e6}.fc-state-hover{color:#333;text-decoration:none;background-position:0 -15px;transition:background-position .1s linear}.fc-state-active,.fc-state-down{background-color:#ccc;background-image:none;box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.fc-state-disabled{cursor:default;background-image:none;opacity:.65;box-shadow:none}.fc-button-group{display:inline-block}.fc .fc-button-group>*{float:left;margin:0 0 0 -1px}.fc .fc-button-group>:first-child{margin-left:0}.fc-popover{position:absolute;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc-popover .fc-header{padding:2px 4px}.fc-popover .fc-header .fc-title{margin:0 2px}.fc-popover .fc-header .fc-close{cursor:pointer}.fc-ltr .fc-popover .fc-header .fc-title,.fc-rtl .fc-popover .fc-header .fc-close{float:left}.fc-ltr .fc-popover .fc-header .fc-close,.fc-rtl .fc-popover .fc-header .fc-title{float:right}.fc-divider{border-style:solid;border-width:1px}hr.fc-divider{height:0;margin:0;padding:0 0 2px;border-width:1px 0}.fc-clear{clear:both}.fc-bg,.fc-bgevent-skeleton,.fc-helper-skeleton,.fc-highlight-skeleton{position:absolute;top:0;left:0;right:0}.fc-bg{bottom:0}.fc-bg table{height:100%}.fc table{width:100%;box-sizing:border-box;table-layout:fixed;border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{border-style:solid;border-width:1px;padding:0;vertical-align:top}.fc td.fc-today{border-style:double}a[data-goto]{cursor:pointer}a[data-goto]:hover{text-decoration:underline}.fc .fc-row{border-style:solid;border-width:0}.fc-row table{border-left:0 hidden transparent;border-right:0 hidden transparent;border-bottom:0 hidden transparent}.fc-row:first-child table{border-top:0 hidden transparent}.fc-row{position:relative}.fc-row .fc-bg{z-index:1}.fc-row .fc-bgevent-skeleton,.fc-row .fc-highlight-skeleton{bottom:0}.fc-row .fc-bgevent-skeleton table,.fc-row .fc-highlight-skeleton table{height:100%}.fc-row .fc-bgevent-skeleton td,.fc-row .fc-highlight-skeleton td{border-color:transparent}.fc-row .fc-bgevent-skeleton{z-index:2}.fc-row .fc-highlight-skeleton{z-index:3}.fc-row .fc-content-skeleton{position:relative;z-index:4;padding-bottom:2px}.fc-row .fc-helper-skeleton{z-index:5}.fc .fc-row .fc-content-skeleton table,.fc .fc-row .fc-content-skeleton td,.fc .fc-row .fc-helper-skeleton td{background:0 0;border-color:transparent}.fc-row .fc-content-skeleton td,.fc-row .fc-helper-skeleton td{border-bottom:0}.fc-row .fc-content-skeleton tbody td,.fc-row .fc-helper-skeleton tbody td{border-top:0}.fc-scroller{-webkit-overflow-scrolling:touch}.fc-scroller>.fc-day-grid,.fc-scroller>.fc-time-grid{position:relative;width:100%}.fc-event{position:relative;display:block;font-size:.85em;line-height:1.3;border-radius:3px;border:1px solid #3a87ad}.fc-event,.fc-event-dot{background-color:#3a87ad}.fc-event,.fc-event:hover{color:#fff;text-decoration:none}.fc-event.fc-draggable,.fc-event[href]{cursor:pointer}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-event .fc-bg{z-index:1;background:#fff;opacity:.25}.fc-event .fc-content{position:relative;z-index:2}.fc-event .fc-resizer{position:absolute;z-index:4;display:none}.fc-event.fc-allow-mouse-resize .fc-resizer,.fc-event.fc-selected .fc-resizer{display:block}.fc-event.fc-selected .fc-resizer:before{content:"";position:absolute;z-index:9999;top:50%;left:50%;width:40px;height:40px;margin-left:-20px;margin-top:-20px}.fc-event.fc-selected{z-index:9999!important;box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event.fc-selected.fc-dragging{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-h-event.fc-selected:before{content:"";position:absolute;z-index:3;top:-10px;bottom:-10px;left:0;right:0}.fc-ltr .fc-h-event.fc-not-start,.fc-rtl .fc-h-event.fc-not-end{margin-left:0;border-left-width:0;padding-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-ltr .fc-h-event.fc-not-end,.fc-rtl .fc-h-event.fc-not-start{margin-right:0;border-right-width:0;padding-right:1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-ltr .fc-h-event .fc-start-resizer,.fc-rtl .fc-h-event .fc-end-resizer{cursor:w-resize;left:-1px}.fc-ltr .fc-h-event .fc-end-resizer,.fc-rtl .fc-h-event .fc-start-resizer{cursor:e-resize;right:-1px}.fc-h-event.fc-allow-mouse-resize .fc-resizer{width:7px;top:-1px;bottom:-1px}.fc-h-event.fc-selected .fc-resizer{border-radius:4px;width:6px;height:6px;background:#fff;top:50%;margin-top:-4px;border:1px solid;border-color:inherit}.fc-ltr .fc-h-event.fc-selected .fc-start-resizer,.fc-rtl .fc-h-event.fc-selected .fc-end-resizer{margin-left:-4px}.fc-ltr .fc-h-event.fc-selected .fc-end-resizer,.fc-rtl .fc-h-event.fc-selected .fc-start-resizer{margin-right:-4px}.fc-day-grid-event{margin:1px 2px 0;padding:0 1px}tr:first-child>td>.fc-day-grid-event{margin-top:2px}.fc-day-grid-event.fc-selected:after{content:"";position:absolute;z-index:1;top:-1px;right:-1px;bottom:-1px;left:-1px;background:#000;opacity:.25}.fc-day-grid-event .fc-content{white-space:nowrap;overflow:hidden}.fc-day-grid-event .fc-time{font-weight:700}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer{margin-left:-2px}.fc-ltr .fc-day-grid-event.fc-allow-mouse-resize .fc-end-resizer,.fc-rtl .fc-day-grid-event.fc-allow-mouse-resize .fc-start-resizer{margin-right:-2px}a.fc-more{margin:1px 3px;font-size:.85em;cursor:pointer;text-decoration:none}a.fc-more:hover{text-decoration:underline}.fc-limited{display:none}.fc-day-grid .fc-row{z-index:1}.fc-more-popover{z-index:2;width:220px}.fc-more-popover .fc-event-container{padding:10px}.fc-now-indicator{position:absolute;border:0 solid red}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.fc-unthemed .fc-content,.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-list-view,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#ddd}.fc-unthemed .fc-popover{background-color:#fff;border-width:1px;border-style:solid}.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-popover .fc-header{background:#eee}.fc-unthemed .fc-popover .fc-header .fc-close{color:#666;font-size:.9em;margin-top:2px}.fc-unthemed td.fc-today{background:#fcf8e3}.fc-unthemed .fc-disabled-day{background:#d7d7d7;opacity:.3}.fc-icon{display:inline-block;height:1em;line-height:1em;font-size:1em;text-align:center;overflow:hidden;font-family:"Courier New",Courier,monospace;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fc-icon:after{position:relative}.fc-icon-left-single-arrow:after{content:"\\2039";font-weight:700;font-size:200%;top:-7%}.fc-icon-right-single-arrow:after{content:"\\203A";font-weight:700;font-size:200%;top:-7%}.fc-icon-left-double-arrow:after{content:"\\AB";font-size:160%;top:-7%}.fc-icon-right-double-arrow:after{content:"\\BB";font-size:160%;top:-7%}.fc-icon-left-triangle:after{content:"\\25C4";font-size:125%;top:3%}.fc-icon-right-triangle:after{content:"\\25BA";font-size:125%;top:3%}.fc-icon-down-triangle:after{content:"\\25BC";font-size:125%;top:2%}.fc-icon-x:after{content:"\\D7";font-size:200%;top:6%}.fc-unthemed .fc-list-item:hover td{background-color:#f5f5f5}.ui-widget .fc-disabled-day{background-image:none}.fc-popover>.ui-widget-header+.ui-widget-content{border-top:0}.ui-widget .fc-event{color:#fff;text-decoration:none;font-weight:400}.ui-widget td.fc-axis{font-weight:400}.fc-time-grid .fc-slats .ui-widget-content{background:0 0}.fc.fc-bootstrap3 a{text-decoration:none}.fc.fc-bootstrap3 a[data-goto]:hover{text-decoration:underline}.fc-bootstrap3 hr.fc-divider{border-color:inherit}.fc-bootstrap3 .fc-today.alert{border-radius:0}.fc-bootstrap3 .fc-popover .panel-body{padding:0}.fc-bootstrap3 .fc-time-grid .fc-slats table{background:0 0}.fc.fc-bootstrap4 a{text-decoration:none}.fc.fc-bootstrap4 a[data-goto]:hover{text-decoration:underline}.fc-bootstrap4 hr.fc-divider{border-color:inherit}.fc-bootstrap4 .fc-today.alert{border-radius:0}.fc-bootstrap4 a.fc-event:not([href]):not([tabindex]){color:#fff}.fc-bootstrap4 .fc-popover.card{position:absolute}.fc-bootstrap4 .fc-popover .card-body{padding:0}.fc-bootstrap4 .fc-time-grid .fc-slats table{background:0 0}.fc-toolbar{text-align:center}.fc-toolbar.fc-header-toolbar{margin-bottom:1em}.fc-toolbar.fc-footer-toolbar{margin-top:1em}.fc-toolbar .fc-left{float:left}.fc-toolbar .fc-right{float:right}.fc-toolbar .fc-center{display:inline-block}.fc .fc-toolbar>*>*{float:left;margin-left:.75em}.fc .fc-toolbar>*>:first-child{margin-left:0}.fc-toolbar h2{margin:0}.fc-toolbar button{position:relative}.fc-toolbar .fc-state-hover,.fc-toolbar .ui-state-hover{z-index:2}.fc-toolbar .fc-state-down{z-index:3}.fc-toolbar .fc-state-active,.fc-toolbar .ui-state-active{z-index:4}.fc-toolbar button:focus{z-index:5}.fc-view-container *,.fc-view-container :after,.fc-view-container :before{box-sizing:content-box}.fc-view,.fc-view>table{position:relative;z-index:1}.fc-basicDay-view .fc-content-skeleton,.fc-basicWeek-view .fc-content-skeleton{padding-bottom:1em}.fc-basic-view .fc-body .fc-row{min-height:4em}.fc-row.fc-rigid{overflow:hidden}.fc-row.fc-rigid .fc-content-skeleton{position:absolute;top:0;left:0;right:0}.fc-day-top.fc-other-month{opacity:.3}.fc-basic-view .fc-day-number,.fc-basic-view .fc-week-number{padding:2px}.fc-basic-view th.fc-day-number,.fc-basic-view th.fc-week-number{padding:0 2px}.fc-ltr .fc-basic-view .fc-day-top .fc-day-number{float:right}.fc-rtl .fc-basic-view .fc-day-top .fc-day-number{float:left}.fc-ltr .fc-basic-view .fc-day-top .fc-week-number{float:left;border-radius:0 0 3px}.fc-rtl .fc-basic-view .fc-day-top .fc-week-number{float:right;border-radius:0 0 0 3px}.fc-basic-view .fc-day-top .fc-week-number{min-width:1.5em;text-align:center;background-color:#f2f2f2;color:grey}.fc-basic-view td.fc-week-number{text-align:center}.fc-basic-view td.fc-week-number>*{display:inline-block;min-width:1.25em}.fc-agenda-view .fc-day-grid{position:relative;z-index:2}.fc-agenda-view .fc-day-grid .fc-row{min-height:3em}.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton{padding-bottom:1em}.fc .fc-axis{vertical-align:middle;padding:0 4px;white-space:nowrap}.fc-ltr .fc-axis{text-align:right}.fc-rtl .fc-axis{text-align:left}.fc-time-grid,.fc-time-grid-container{position:relative;z-index:1}.fc-time-grid{min-height:100%}.fc-time-grid table{border:0 hidden transparent}.fc-time-grid>.fc-bg{z-index:1}.fc-time-grid .fc-slats,.fc-time-grid>hr{position:relative;z-index:2}.fc-time-grid .fc-content-col{position:relative}.fc-time-grid .fc-content-skeleton{position:absolute;z-index:3;top:0;left:0;right:0}.fc-time-grid .fc-business-container{position:relative;z-index:1}.fc-time-grid .fc-bgevent-container{position:relative;z-index:2}.fc-time-grid .fc-highlight-container{z-index:3;position:relative}.fc-time-grid .fc-event-container{position:relative;z-index:4}.fc-time-grid .fc-now-indicator-line{z-index:5}.fc-time-grid .fc-helper-container{position:relative;z-index:6}.fc-time-grid .fc-slats td{height:1.5em;border-bottom:0}.fc-time-grid .fc-slats .fc-minor td{border-top-style:dotted}.fc-time-grid .fc-highlight{position:absolute;left:0;right:0}.fc-ltr .fc-time-grid .fc-event-container{margin:0 2.5% 0 2px}.fc-rtl .fc-time-grid .fc-event-container{margin:0 2px 0 2.5%}.fc-time-grid .fc-bgevent,.fc-time-grid .fc-event{position:absolute;z-index:1}.fc-time-grid .fc-bgevent{left:0;right:0}.fc-v-event.fc-not-start{border-top-width:0;padding-top:1px;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event.fc-not-end{border-bottom-width:0;padding-bottom:1px;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-time-grid-event{overflow:hidden}.fc-time-grid-event.fc-selected{overflow:visible}.fc-time-grid-event.fc-selected .fc-bg{display:none}.fc-time-grid-event .fc-content{overflow:hidden}.fc-time-grid-event .fc-time,.fc-time-grid-event .fc-title{padding:0 1px}.fc-time-grid-event .fc-time{font-size:.85em;white-space:nowrap}.fc-time-grid-event.fc-short .fc-content{white-space:nowrap}.fc-time-grid-event.fc-short .fc-time,.fc-time-grid-event.fc-short .fc-title{display:inline-block;vertical-align:top}.fc-time-grid-event.fc-short .fc-time span{display:none}.fc-time-grid-event.fc-short .fc-time:before{content:attr(data-start)}.fc-time-grid-event.fc-short .fc-time:after{content:"\\A0-\\A0"}.fc-time-grid-event.fc-short .fc-title{font-size:.85em;padding:0}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer{left:0;right:0;bottom:0;height:8px;overflow:hidden;line-height:8px;font-size:11px;font-family:monospace;text-align:center;cursor:s-resize}.fc-time-grid-event.fc-allow-mouse-resize .fc-resizer:after{content:"="}.fc-time-grid-event.fc-selected .fc-resizer{border-radius:5px;width:8px;height:8px;background:#fff;left:50%;margin-left:-5px;bottom:-5px;border:1px solid;border-color:inherit}.fc-time-grid .fc-now-indicator-line{border-top-width:1px;left:0;right:0}.fc-time-grid .fc-now-indicator-arrow{margin-top:-5px}.fc-ltr .fc-time-grid .fc-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-rtl .fc-time-grid .fc-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}.fc-event-dot{display:inline-block;width:10px;height:10px;border-radius:5px}.fc-rtl .fc-list-view{direction:rtl}.fc-list-view{border-width:1px;border-style:solid}.fc .fc-list-table{table-layout:auto}.fc-list-table td{border-width:1px 0 0;padding:8px 14px}.fc-list-table tr:first-child td{border-top-width:0}.fc-list-heading{border-bottom-width:1px}.fc-list-heading td{font-weight:700}.fc-ltr .fc-list-heading-main{float:left}.fc-ltr .fc-list-heading-alt,.fc-rtl .fc-list-heading-main{float:right}.fc-rtl .fc-list-heading-alt{float:left}.fc-list-item.fc-has-url{cursor:pointer}.fc-list-item-marker,.fc-list-item-time{white-space:nowrap;width:1px}.fc-ltr .fc-list-item-marker{padding-right:0}.fc-rtl .fc-list-item-marker{padding-left:0}.fc-list-item-title a{text-decoration:none;color:inherit}.fc-list-item-title a[href]:hover{text-decoration:underline}.fc-list-empty-wrap2{position:absolute;top:0;left:0;right:0;bottom:0}.fc-list-empty-wrap1{width:100%;height:100%;display:table}.fc-list-empty{display:table-cell;vertical-align:middle;text-align:center}.fc-unthemed .fc-list-empty{background-color:#eee}']}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={_calendar:[{type:h.ViewChild,args:["calendar"]}],_datepicker:[{type:h.ViewChild,args:["datepicker"]}]},e}($e),vi={widgetType:"wm-nav",hostClass:"nav app-nav"},yi={pills:"nav-pills",tabs:"nav-tabs",navbar:"navbar-nav"},bi=function(r){function e(e,t,i,n,a,o){var s=r.call(this,e,vi)||this;return s.cdRef=t,s.router=i,s.userDefinedExecutionContext=n,s.app=a,ue(s.nativeElement,s,g.APPLY_STYLES_TYPE.CONTAINER),s.disableMenuContext=!!o,s.pageScope=s.viewParent,s}return v(e,r),Object.defineProperty(e.prototype,"activePageName",{get:function(){return this.app.activePageName},enumerable:!0,configurable:!0}),e.prototype.setNavType=function(e){x.addClass(this.nativeElement,yi[e])},e.prototype.setNavLayout=function(e){x.addClass(this.nativeElement,"nav-"+e)},e.prototype.onNavSelect=function(e,t,i){e.preventDefault(),this.activeNavLINode&&x.removeClass(this.activeNavLINode,"active"),this.activeNavLINode=i,x.addClass(i,"active"),this.selecteditem=t,this.invokeEventCallback("select",{$event:e,$item:t.value});var n=t.link,a=t.action,o=t.target;if(a&&(this.itemActionFn||(this.itemActionFn=x.$parseEvent(a)),this.itemActionFn(this.userDefinedExecutionContext,Object.create(t))),n)if(!n.startsWith("#/")||o&&"_self"!==o)x.openLink(n,o);else{var s=x.getUrlParams(n);n=x.getRouteNameFromLink(n),this.router.navigate([n],{queryParams:s})}},e.prototype.ngOnInit=function(){r.prototype.ngOnInit.call(this),this.setNavType(this.type),this.setNavLayout(this.layout)},e.prototype.onMenuItemSelect=function(e,t,i){this.selecteditem=_.omit(i,["children","value"]),this.invokeEventCallback("select",{$event:e,$item:this.selecteditem})},e.initializeProps=void ge("wm-nav",new Map([["autoclose",y({value:"always"},be)],["autoopen",y({value:"never"},be)],["class",be],["dataset",Ee],["iconposition",y({value:"left"},be)],["itemlabel",be],["itemlink",be],["itemicon",be],["itemclass",be],["itemchildren",be],["itemaction",be],["itembadge",be],["itemtarget",be],["layout",be],["name",be],["orderby",be],["show",y({value:!0},Ce)],["type",be],["userrole",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmNav]",template:'<ng-template #menuRef let-item="item" let-index="index">\n    <div wmMenu dropdown\n         type="anchor"\n         autoclose.bind="autoclose"\n         iconclass.bind="item.icon"\n         autoopen.bind="autoopen"\n         caption.bind="item.label"\n         dataset.bind="item.children"\n         iconposition.bind="iconposition"\n         select.event="onMenuItemSelect($event, widget, $item)"></div>\n</ng-template>\n\n<ng-template #anchorRef let-item="item" let-index="index" let-liRef="liRef">\n    <a wmAnchor\n       [disableMenuContext]="disableMenuContext || !!item.action"\n       [wmNavigationControl]="item.link"\n       caption.bind="item.label"\n       iconclass.bind="item.icon"\n       badgevalue.bind="item.badge"\n       iconposition.bind="iconposition"\n       click.event="onNavSelect($event, item, liRef)"></a>\n</ng-template>\n\n<li class="app-nav-item {{item.class}}" *ngFor="let item of nodes; let index = index;" #liRef [ngClass]="{active: item.link === \'#/\' + activePageName}">\n    <ng-container [ngTemplateOutlet]="anchorRef" [ngTemplateOutletContext]="{item: item, index:index, liRef: liRef}" *ngIf="!item.children.length"></ng-container>\n    <ng-container [ngTemplateOutlet]="menuRef" [ngTemplateOutletContext]="{item: item, index:index}"  *ngIf="item.children.length"></ng-container>\n</li>\n\n<ng-content *ngIf="!nodes.length" select="[wmNavItem]"></ng-content>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ChangeDetectorRef},{type:l.Router},{type:x.UserDefinedExecutionContext},{type:x.App},{type:undefined,decorators:[{type:h.Attribute,args:["select.event"]}]}]},e}(Gt),wi={MOVE_UP:"UP-ARROW",MOVE_LEFT:"LEFT-ARROW",MOVE_RIGHT:"RIGHT-ARROW",MOVE_DOWN:"DOWN-ARROW",ON_ENTER:"ENTER",ON_TAB:"TAB",ON_ESCAPE:"ESC"},Ci="up,left",Ei="up,right",xi="down,left",Di="down,right",ki="down,left",_i="up,right",Ii="up,left",Pi="inline",Si="fa-caret-up",Ti="fa-caret-down",Oi="pull-left",Ai="pull-right",Ri="activepage",Li="always",Fi={widgetType:"wm-menu",hostClass:"dropdown app-menu"},Mi=function(s){function e(e,t,i,n,a){var o=s.call(this,e,Fi)||this;return o.route=t,o.bsDropdown=i,o.parentNav=n,o.selectEventCB=a,o.menuCaret="fa-caret-down",o._selectFirstItem=!1,o.disableMenuContext=n?!!n.disableMenuContext:!!a,o}return v(e,s),e.prototype.onShow=function(){var e=this;this._selectFirstItem&&setTimeout(function(){e.$element.find("> ul[wmmenudropdown] li.app-menu-item:first > a").focus()}),x.$appDigest()},e.prototype.onHide=function(){this.$element.find(">.dropdown-toggle").focus(),this.$element.find("li").removeClass("open"),this._selectFirstItem=!1,x.$appDigest()},e.prototype.onKeyDown=function(e,t){var i=_.clone(wi);this.menuposition===Ei?(i.MOVE_UP="DOWN-ARROW",i.MOVE_DOWN="UP-ARROW"):this.menuposition===Ci?(i.MOVE_UP="DOWN-ARROW",i.MOVE_DOWN="UP-ARROW",i.MOVE_LEFT="RIGHT-ARROW",i.MOVE_RIGHT="LEFT-ARROW"):this.menuposition===xi&&(i.MOVE_LEFT="RIGHT-ARROW",i.MOVE_RIGHT="LEFT-ARROW"),_.includes([i.MOVE_DOWN,i.MOVE_RIGHT],t)?this.bsDropdown.isOpen?this.$element.find("> ul[wmmenudropdown] li.app-menu-item:first > a").focus():(this._selectFirstItem=!0,this.bsDropdown.show()):t===i.ON_ENTER?this.bsDropdown.toggle(!0):_.includes([i.MOVE_UP,i.MOVE_LEFT],t)&&this.bsDropdown.hide(),e.preventDefault()},e.prototype.hasLinkToCurrentPage=function(e){var t=this;return e.some(function(e){return!!L(e.link,t.route.url)||(e.children?t.hasLinkToCurrentPage(e.children):void 0)})},e.prototype.resetNodes=function(){s.prototype.resetNodes.call(this),(this.autoopen===Ri&&this.hasLinkToCurrentPage(this.nodes)||this.autoopen===Li)&&this.bsDropdown.show()},e.prototype.ngOnInit=function(){s.prototype.ngOnInit.call(this),this.setMenuPosition()},e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("autoclose"===e?this.bsDropdown.autoClose="disabled"!==t:s.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.setMenuPosition=function(){switch(this.menuposition){case Di:x.removeClass(this.nativeElement,"dropup"),this.menualign=Oi,this.menuCaret=Ti;break;case ki:x.removeClass(this.nativeElement,"dropup"),this.menualign=Ai,this.menuCaret=Ti;break;case Ii:x.addClass(this.nativeElement,"dropup"),this.menualign=Ai,this.menuCaret=Si;break;case _i:x.addClass(this.nativeElement,"dropup"),this.menualign=Oi,this.menuCaret=Si;break;case Pi:this.menualign="dropinline-menu"}},e.prototype.onMenuItemSelect=function(e){var t=e.$event,i=e.$item.value;this.invokeEventCallback("select",{$event:t,$item:i})},e.prototype.ngAfterViewInit=function(){s.prototype.ngAfterViewInit.call(this),ue(this.nativeElement.querySelector(".dropdown-toggle"),this)},e.initializeProps=void ge("wm-menu",new Map([["accessroles",y({value:"Everyone"},be)],["animateitems",be],["autoclose",y({value:"always"},be)],["autoopen",y({value:"never"},be)],["caption",be],["class",be],["dataset",y({value:"Menu Item 1, Menu Item 2, Menu Item 3"},Ee)],["hint",y({value:""},be)],["iconclass",be],["iconposition",y({value:"left"},be)],["itemaction",be],["itemchildren",be],["itemclass",be],["itemicon",be],["itemlabel",be],["itemlink",be],["itemtarget",be],["linktarget",y({value:"_self"},be)],["menuclass",be],["menulayout",be],["menuposition",be],["name",be],["orderby",be],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["type",y({value:"menu"},be)],["userrole",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmMenu]",template:'<ng-template #menuTemplate>\n    <button wmButton\n            dropdownToggle\n            aria-haspopup="true"\n            aria-expanded="false"\n\n            class="btn app-button dropdown-toggle {{menuclass}}"\n            hint.bind="hint"\n            shortcutkey.bind="shortcutkey"\n            tabindex.bind="tabindex"\n            caption.bind="caption"\n            iconclass.bind="iconclass"\n            iconposition.bind="iconposition">\n        <span class="pull-right caret fa {{menuCaret}}"></span>\n    </button>\n</ng-template>\n\n<ng-template #innerTemplate>\n    <i class="app-icon {{iconclass}}"></i>\n    <span class="caption" [textContent]="caption"></span>\n    <span class="pull-right caret fa {{menuCaret}}"></span>\n</ng-template>\n\n<ng-container *ngIf="type === \'anchor\'; else menuTemplate">\n    <a wmAnchor\n       dropdownToggle\n\n       href="javascript:void(0);"\n       role="button"\n       aria-haspopup="true"\n       aria-expanded="false"\n\n       hint.bind="hint"\n       class="dropdown-toggle {{menuclass}}"\n       shortcutkey.bind="shortcutkey"\n       tabindex.bind="tabindex"\n       caption.bind="caption"\n       iconclass.bind="iconclass"\n       iconposition.bind="iconposition"\n    >\n        <span class="pull-right caret fa {{menuCaret}}"></span>\n    </a>\n</ng-container>\n\n<ul wmMenuDropdown [items]="nodes" [ngClass]="menulayout" class="icon-position-{{iconposition}}" *dropdownMenu aria-labelledby="dropdownmenu"></ul>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:l.Router},{type:d.BsDropdownDirective,decorators:[{type:h.Self},{type:h.Optional}]},{type:bi,decorators:[{type:h.Optional}]},{type:String,decorators:[{type:h.Attribute,args:["select.event"]}]}]},e.propDecorators={onShow:[{type:h.HostListener,args:["onShown"]}],onHide:[{type:h.HostListener,args:["onHidden"]}],onKeyDown:[{type:h.HostListener,args:["keydown.arrowup",["$event",'"UP-ARROW"']]},{type:h.HostListener,args:["keydown.arrowdown",["$event",'"DOWN-ARROW"']]},{type:h.HostListener,args:["keydown.arrowright",["$event",'"RIGHT-ARROW"']]},{type:h.HostListener,args:["keydown.arrowleft",["$event",'"LEFT-ARROW"']]},{type:h.HostListener,args:["keydown.enter",["$event",'"ENTER"']]}]},e}(Gt),Ni=["itemlabel","itemicon","itemlink","itemaction","itemchildren","userrole"],$i=function(n){function e(e,t){var i=n.call(this,e,t)||this;return i.pageScope=i.viewParent,i.binditemlabel=i.nativeElement.getAttribute("itemlabel.bind"),i.binditemicon=i.nativeElement.getAttribute("itemicon.bind"),i.binditemaction=i.nativeElement.getAttribute("itemaction.bind"),i.binditemlink=i.nativeElement.getAttribute("itemlink.bind"),i.binduserrole=i.nativeElement.getAttribute("userrole.bind"),i.binditemchildren=i.nativeElement.getAttribute("itemchildren.bind"),i}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){_.includes(Ni,e)&&this.menuRef?this.menuRef.itemlabel=t:n.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngAfterViewInit=function(){var i=this;n.prototype.ngAfterViewInit.call(this);var t=this.menuRefQL.changes.subscribe(function(e){e.first&&(i.menuRef=e.first,Ni.forEach(function(e){var t="bind"+e;i[t]&&(i.menuRef[t]=i[t]),i.menuRef[e]=i[e]}),t.unsubscribe())})},e.propDecorators={menuRefQL:[{type:h.ViewChildren,args:[Mi]}]},e}($e),Vi={widgetType:"wm-card",hostClass:"app-card card app-panel"},Bi=function(n){function e(e){var t=n.call(this,e,Vi)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.SHELL),t}return v(e,n),e.prototype.ngAfterViewInit=function(){n.prototype.ngAfterViewInit.call(this),ue(this.cardContainerElRef.nativeElement,this,g.APPLY_STYLES_TYPE.INNER_SHELL)},e.prototype.onPropertyChange=function(e,t,i){"title"===e||"subheading"===e||"iconclass"===e||"iconurl"===e||"actions"===e?this.showHeader=!!(this.title||this.subheading||this.iconclass||this.iconurl||this.actions):n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-card",new Map([["actions",be],["class",be],["iconclass",be],["iconurl",be],["imageheight",y({value:"200px"},be)],["itemaction",be],["itemchildren",be],["itemicon",be],["itemlabel",be],["itemlink",be],["name",be],["picturesource",be],["picturetitle",y({value:""},be)],["show",y({value:!0},Ce)],["subheading",be],["title",be],["userrole",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmCard]",template:'<div class="app-card-header panel-heading" *ngIf="showHeader">\n    <div class="app-card-avatar" *ngIf="iconclass || iconurl">\n        <i class="app-icon" [ngClass]="iconclass" *ngIf="iconclass && !iconurl"></i>\n        <img class="img-circle" [src]="iconurl" *ngIf="iconurl" />\n    </div>\n    <div class="app-card-header-text">\n        <h4 class="card-heading" [textContent]="title"></h4>\n        <h5 class="card-subheading text-muted" [textContent]="subheading"></h5>\n    </div>\n    <div class="panel-actions" *ngIf="actions">\n        \x3c!-- TODO(punith) need to bind autoclose--\x3e\n        <div wmMenu dropdown\n             [autoClose]="autoclose !== \'disabled\'"\n             class="panel-action"\n             type="anchor"\n             iconclass="wi wi-more-vert"\n             menuposition="down,left"\n             hint="Actions"\n             caption=""\n             dataset.bind="actions">\n        </div>\n    </div>\n</div>\n<div class="app-card-image" *ngIf="picturesource"  [ngStyle]="{\'max-height\':imageheight}">\n   <img wmPicture class="card-image" picturesource.bind="picturesource" hint.bind="picturetitle" />\n</div>\n<div #cardContainerWrapper>\n    <ng-content select="[wmCardContent]"></ng-content>\n</div>\n<div>\n    <ng-content select="[wmCardActions]"></ng-content>\n</div>\n<div>\n    <ng-content select="[wmCardFooter]"></ng-content>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={cardContainerElRef:[{type:h.ViewChild,args:["cardContainerWrapper"]}]},e}($i),Wi={widgetType:"wm-card-actions",hostClass:"app-card-actions"},ji=function(i){function e(e){var t=i.call(this,e,Wi)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-card-actions",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmCardActions]"}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),zi={widgetType:"wm-card-content",hostClass:"app-card-content card-body card-block"},Ui=function(t){function e(e){return t.call(this,e,zi)||this}return v(e,t),e.prototype.ngAfterViewInit=function(){t.prototype.ngAfterViewInit.call(this),ue(this.cardContentContainerElRef.nativeElement,this,g.APPLY_STYLES_TYPE.CONTAINER)},e.initializeProps=void ge("wm-card-content",new Map([["class",be],["content",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmCardContent]",template:"<div partial-container-target #cardContentContainer>\n    <ng-content></ng-content>\n</div>",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={cardContentContainerElRef:[{type:h.ViewChild,args:["cardContentContainer"]}]},e}($e),qi={widgetType:"wm-card-footer",hostClass:"app-card-footer text-muted card-footer"},Hi=function(i){function e(e){var t=i.call(this,e,qi)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-card-footer",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmCardFooter]"}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Gi=["Column","Line","Area","Cumulative Line","Bar","Pie","Donut","Bubble"],Yi=["circle","square","diamond","cross","triangle-up","triangle-down"],Ki=["01/01/2001","01/01/2002","01/01/2003"],Qi={Terrestrial:{colors:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],tooltip:{backgroundColor:"#de7d28",textColor:"#FFFFFF"}},Annabelle:{colors:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],tooltip:{backgroundColor:"#2e306f",textColor:"#FFFFFF"}},Azure:{colors:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],tooltip:{backgroundColor:"#3182bd",textColor:"#FFFFFF"}},Retro:{colors:["#0ca7a1","#ffa615","#334957","#acc5c2","#988f90","#8accc9","#515151","#f27861","#36c9fd","#794668","#0f709d","#0d2738","#44be78","#4a1839","#6a393f","#557d8b","#6c331c","#1c1c1c","#861500","#09562a"],tooltip:{backgroundColor:"#80513a",textColor:"#FFFFFF"}},Mellow:{colors:["#f0dcbf","#88c877","#aeb918","#2e2c23","#ddddd2","#dfe956","#4c963b","#5d3801","#e1eec3","#cd8472","#fcfab3","#9a4635","#9295ad","#2e3f12","#565677","#557d8b","#4f4d02","#0c0c1b","#833324","#24120e"],tooltip:{backgroundColor:"#7c9e73",textColor:"#FFFFFF"}},Orient:{colors:["#a80000","#cc6c3c","#f0e400","#000084","#fccc6c","#009c6c","#cc309c","#78cc00","#fc84e4","#48e4fc","#4878d8","#186c0c","#606060","#a8a8a8","#000000","#d7d7d7","#75a06e","#190d0b","#888888","#694b84"],tooltip:{backgroundColor:"#c14242",textColor:"#FFFFFF"}},GrayScale:{colors:["#141414","#353535","#5b5b5b","#848484","#a8a8a8","#c3c3c3","#e0e0e0","#c8c8c8","#a5a5a5","#878787","#656565","#4e4e4e","#303030","#1c1c1c","#4f4f4f","#3b3b3b","#757575","#606060","#868686","#c1c1c1"],tooltip:{backgroundColor:"#575757",textColor:"#FFFFFF"}},Flyer:{colors:["#3f454c","#5a646e","#848778","#cededf","#74c4dd","#0946ed","#380bb1","#000ff0","#f54a23","#1db262","#bca3aa","#ffa500","#a86b32","#63a18c","#56795e","#934343","#b75f5f","#752d2d","#4e1111","#920606"],tooltip:{backgroundColor:"#47637c",textColor:"#FFFFFF"}},Luminosity:{colors:["#FFFFFF","#e4e4e4","#00bcd4","#f0dd2f","#00aabf","#018376","#e91e63","#39e5d4","#ff6d6d","#00ff76","#ff9800","#969696","#ff4200","#e00000","#95cbe5","#5331ff","#fff4a7","#e7a800","#0061e4","#d5e7ff"],tooltip:{backgroundColor:"#47637c",textColor:"#FFFFFF"}}},Xi=["xaxislabel","yaxislabel","xunits","yunits","xnumberformat","xdateformat","ynumberformat","showvalues","showlabels","viewtype","areaviewtype","staggerlabels","reducexticks","offsettop","offsetbottom","offsetright","offsetleft","barspacing","xaxislabeldistance","yaxislabeldistance","theme","labeltype","donutratio","showlabelsoutside","showxdistance","showydistance","shape","nodatamessage","captions","showxaxis","showyaxis","centerlabel","customcolors","showlegend","legendtype","xdomain","ydomain","tooltips","linethickness","highlightpoints","interpolation","labelthreshold"],Zi={small:.3,medium:.5,large:.8},Ji={small:.3,medium:.6,large:.7},en=_.invert(Zi),tn=_.invert(Ji),nn={Thousand:{prefix:"K",divider:1e3},Million:{prefix:"M",divider:1e6},Billion:{prefix:"B",divider:1e9}},an="#preview-chart",on=["Column","Line","Pie","Bar","Donut","Bubble"],sn=["Line","Area","Cumulative Line"],rn=["Cumulative Line","Area"],ln="Europe",cn="Asia",dn="America",pn="Australia",un=function(e){return"Bar"===e},hn=function(e){return"Donut"===e},fn=function(e){return"Bubble"===e},mn=function(e){return"Area"===e},gn=function(e){return"Pie"===e||hn(e)},vn=function(e){return _.includes(on,e)||!_.includes(Gi,e)},yn=function(e){return _.includes(sn,e)},bn=function(e,t){return"value"===t?Zi[e]:"key"===t?en[e]:void 0},wn=function(e,t){return"value"===t?Ji[e]:"key"===t?tn[e]:void 0},Cn=function(e){return function(e,t,i){var n=[],a=[],o=[],s=[],r=[],l=[],c=[],d=[],p=[],u=[];switch(e){case"jsonFormat":n=[{x:"01/01/2001",y:4e6},{x:"01/01/2002",y:1e6},{x:"01/01/2003",y:5e6}],a=[{x:"01/01/2001",y:3e6},{x:"01/01/2002",y:4e6},{x:"01/01/2003",y:7e6}],o=[{x:"01/01/2001",y:2e6},{x:"01/01/2002",y:8e6},{x:"01/01/2003",y:6e6}],u[0]={values:n,key:ln},2<=t&&(u[1]={values:a,key:cn}),3<=t&&(u[2]={values:o,key:dn});break;case"lineChartFormat":n=[{x:1,y:4e6},{x:2,y:1e6},{x:3,y:5e6}],a=[{x:1,y:3e6},{x:2,y:4e6},{x:3,y:7e6}],o=[{x:1,y:2e6},{x:2,y:8e6},{x:3,y:6e6}],u[0]={values:n,key:ln},2<=t&&(u[1]={values:a,key:cn}),3<=t&&(u[2]={values:o,key:dn});break;case"arrayFormat":s=[[1,4e6],[2,1e6],[3,5e6]],r=[[1,3e6],[2,4e6],[3,7e6]],l=[[1,2e6],[2,8e6],[3,6e6]],u[0]={values:s,key:ln},2<=t&&(u[1]={values:r,key:cn}),3<=t&&(u[2]={values:l,key:dn});break;case"bubbleFormat":c=[{x:80.66,y:33739900,size:78,shape:i="random"===i?Yi[Math.floor(Math.random()*Yi.length)]:i},{x:79.84,y:81902300,size:90,shape:i},{x:78.6,y:5523100,size:45,shape:i}],d=[{x:72.73,y:79716200,size:98,shape:i},{x:80.05,y:61801600,size:20,shape:i},{x:72.49,y:73137200,size:34,shape:i}],p=[{x:68.09,y:33739900,size:45,shape:i},{x:81.55,y:7485600,size:78,shape:i},{x:68.6,y:14185e4,size:56,shape:i}],u[0]={values:c,key:ln},2<=t&&(u[1]={values:d,key:cn}),3<=t&&(u[2]={values:p,key:dn});break;case"pieChartFormat":u=[{x:ln,y:1e6},{x:cn,y:2e6},{x:dn,y:3e6},{x:pn,y:4e6}]}return u}("Line"===(t=e.type)?"lineChartFormat":gn(t)?"pieChartFormat":fn(t)?"bubbleFormat":vn(t)?"jsonFormat":"arrayFormat",_.split(e.yaxisdatakey,",").length,e.shape);var t},En=function(e,t){return!("Min"!==e[t+"domain"]||"Column"!==(i=e.type)&&!mn(i));var i},xn=function(e){return!(!_.isFinite(e.min)||!_.isFinite(e.max))},Dn=function(e){var t=Math.floor(e);return 0<Math.abs(e)-t?e-.1:t-1},kn=function(e,t){return isNaN(parseInt(e,10))?t(e,"value"):e},_n=function(e,t){return e=e||"%x",d3.time.format(e)(new Date(t))},In=function(e,t){var i,n,a;return i=d3.format(e)(t),e?(n=nn[e]&&nn[e].divider||0,(a=nn[e]&&nn[e].prefix)&&0!==n&&(i=d3.format(".2f")(t/n)+a)):i=1e3<=t?d3.format(".1s")(t):t,i},Pn=function(e){return"false"!==e&&!1!==e&&("true"===e||!0===e||"hide"!==e)},Sn=function(e,n,a,o){e.tooltip.contentGenerator(function(e){var t,i=e.data.x;return t=In(n.ynumberformat,e.data.y),gn(a.type)&&(o=e.data.x,i=""),'<table><tbody><tr class="value"><b>'+i+'</b></tr><tr><td class="legend-color-guide"><div style="background-color:'+e.color+';"></div></td><td class="key">'+o+'</td><td class="value">'+t+"</td></tr></tbody></table>"})},Tn=function(t,e,i,n,a){var o,s;o=t,(s=n)&&!x.isEmptyObject(s)||(s={}),_.forEach(Xi,function(e){_.isUndefined(s[e])&&(s[e]=o[e])}),n=s;var r,l,c,d,p,u,h,f,m,g=[],v={},y={};switch(t.type){case"Column":u=kn(n.barspacing,bn)||Zi.medium,r=nv.models.multiBarChart().x(function(e){return e.x}).y(function(e){return e.y}).reduceXTicks(n.reducexticks).rotateLabels(0).showControls(!1).stacked("Stacked"===n.viewtype).groupSpacing(u);break;case"Cumulative Line":r=nv.models.cumulativeLineChart().x(function(e){return e[0]}).y(function(e){return e[1]}).showControls(!1).useInteractiveGuideline(n.tooltips).interpolate(n.interpolation);break;case"Line":r=nv.models.lineChart().useInteractiveGuideline(n.tooltips).interpolate(n.interpolation);break;case"Area":r=nv.models.stackedAreaChart().x(function(e){return e[0]}).y(function(e){return e[1]}).clipEdge(!0).showControls(!1).style(n.areaviewtype).useInteractiveGuideline(n.tooltips).interpolate(n.interpolation);break;case"Bar":u=kn(n.barspacing,bn)||Zi.medium,r=nv.models.multiBarHorizontalChart().x(function(e){return e.x}).y(function(e){return e.y}).showControls(!1).stacked("Stacked"===n.viewtype).showValues(n.showvalues).groupSpacing(u);break;case"Pie":case"Donut":d=function(e,t,i){var n={};switch(e){case"hide":n.showlabels=!1;break;case"inside":n.showlabels=!0,n.showlabelsoutside=!1;break;case"outside":n.showlabels=!0,n.showlabelsoutside=!0}return n}(n.showlabels,n.showlabelsoutside),p=kn(n.donutratio,wn)||Ji.medium,r=nv.models.pieChart().x(function(e){return e.x}).y(function(e){return e.y}).showLabels(d.showlabels).labelType(n.labeltype).valueFormat(d3.format("%")).title(n.centerlabel).labelThreshold(n.labelthreshold||.01).labelsOutside(d.showlabelsoutside),hn(t.type)&&r.donut(!0).donutRatio(p),"key-value"===n.labeltype&&r.labelType(function(e){return e.data.x+" "+e.data.y});break;case"Bubble":r=nv.models.scatterChart().x(function(e){return e.x}).y(function(e){return e.y}).showDistX(n.showxdistance).showDistY(n.showydistance)}return e&&(v.min=e.min.x||e.min[0],v.max=e.max.x||e.max[0],xn(v)&&(v.min=Dn(v.min),r.xDomain([v.min,v.max]))),i&&(y.min=i.min.y||i.min[1],y.max=i.max.y||i.max[1],xn(y)&&(y.min=Dn(y.min),r.yDomain([y.min,y.max]))),r.legend.vers(n.legendtype&&n.legendtype.toLowerCase()||"furious"),_.includes(Gi,t.type)||(r=nv.models.multiBarChart().x(function(e){return e.x}).y(function(e){return e.y})),gn(t.type)?("percent"===n.labeltype?r.valueFormat(d3.format("%")):r.valueFormat(function(e){return In(n.ynumberformat,e)}),Sn(r,n,t)):(r.showXAxis(n.showxaxis).showYAxis(n.showyaxis),l=n.xaxislabel||x.prettifyLabels(t.xaxisdatakey)||"x caption",c=n.yaxislabel||x.prettifyLabels(t.yaxisdatakey)||"y caption",t.yaxisdatakey&&1<t.yaxisdatakey.split(",").length&&(m=!0),m||fn(t.type)||Sn(r,n,t,c),l+=n.xunits?"("+n.xunits+")":"",c+=n.yunits?"("+n.yunits+")":"",r.xAxis.axisLabel(l).axisLabelDistance(n.xaxislabeldistance).staggerLabels(n.staggerlabels),n.xdateformat||a&&!fn(t.type)?yn(t.type)?r.xAxis.tickFormat(function(e){return f=a?Ki[e-1]:t.xDataKeyArr[e],_n(n.xdateformat,f)}):r.xAxis.tickFormat(function(e){return _n(n.xdateformat,e)}):n.xnumberformat?r.xAxis.tickFormat(function(e){return In(n.xnumberformat,e)}):yn(t.type)&&r.xAxis.tickFormat(function(e){return t.xDataKeyArr[e]}),r.yAxis.axisLabel(c).axisLabelDistance(n.yaxislabeldistance).staggerLabels(n.staggerlabels).tickFormat(function(e){return In(n.ynumberformat,e)}),un(t.type)&&r.valueFormat(function(e){return In(n.ynumberformat,e)})),_.isString(n.customcolors)&&n.customcolors&&(g=_.split(n.customcolors,",")),_.isArray(n.customcolors)&&(g=n.customcolors),h=Pn(n.showlegend),r.showLegend(h).margin({top:n.offsettop,right:n.offsetright,bottom:n.offsetbottom,left:n.offsetleft}).color(g.length?g:Qi[n.theme].colors),r.tooltip.enabled(n.tooltips),t.message=n.nodatamessage||"No data found",r.noData(t.message),yn(t.type)&&t.highlightpoints&&r.dispatch.on("stateChange",function(){setTimeout(function(){return On(t)},100)}),r},On=function(e,t){var i,n,a,o,s,r=t?null:e.$id;yn(e.type)&&(o=r,s=(s=e.linethickness)||1.5,(o?d3.select("#wmChart"+o+" svg"):d3.select(an+" svg")).selectAll(".nv-line").style({"stroke-width":s}),i=r,n=e.highlightpoints,a=i?d3.select("#wmChart"+i+" svg"):d3.select(an+" svg"),n?a.selectAll(".nv-point").style({"stroke-width":"6px","fill-opacity":".95","stroke-opacity":".95"}):a.selectAll(".nv-point").style({"stroke-width":"0px","fill-opacity":"0"})),e.showlegend&&function(e,t,i){var n,a=Pn(e.showlegend),o=i?"#wmChart"+i:an,s=d3.select(o+" .nv-legendWrap");if(a&&s[0][0]&&"bottom"===t){var r=s[0][0].getBoundingClientRect().height,l=d3.select(o+" .nv-wrap"),c=l&&l.attr("transform")?l.attr("transform").replace(/, /g,","):"",d=/translate\(\s*([^\s,)]+)[ ,]([^\s,)]+)/.exec(c);s.attr("transform","translate(0 , "+(0===(n=$(o+" svg>.nvd3.nv-wrap")[0].getBoundingClientRect().height)&&(n=$(o+" svg")[0].getBoundingClientRect().height-(r+15)),n-r-5)+")"),d&&l.attr("transform","translate("+d[1]+",5)")}}(e,e.showlegend,r)},An={widgetType:"wm-chart",hostClass:"app-chart"},Rn="none",Ln=["aggregation","aggregationcolumn","groupby","orderby"],Fn={Column:"rect.nv-bar",Bar:"g.nv-bar",Area:".nv-stackedarea .nv-point","Cumulative Line":".nv-cumulativeLine .nv-scatterWrap path.nv-point",Line:".nv-lineChart .nv-scatterWrap path.nv-point",Pie:".nv-pieChart .nv-slice path",Donut:".nv-pieChart .nv-slice path",Bubble:".nv-scatterChart .nv-point-paths path"},Mn={fontunit:"font-size",fontsize:"font-size",color:"fill",fontfamily:"font-family",fontweight:"font-weight",fontstyle:"font-style",textdecoration:"text-decoration"},Nn={average:"AVG",count:"COUNT",maximum:"MAX",minimum:"MIN",sum:"SUM"},$n=function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&e},Vn=function(e){var t,i=[],n=[];return _.forEach(_.split(e,","),function(e){t=_.split(e,":"),i.push(t[0]),n.push(t[1])}),{columns:i,orders:n}},Bn=function(e){return e?e.replace(/\./g,"$"):null},Wn=function(e,t){d3.select("#wmChart"+t+" svg").selectAll("text").style(e)},jn=function(a){function e(e,t){var i=a.call(this,e,An)||this;return i.app=t,i.iconclass="",i.nonPrimaryColumns=[],i.xDataKeyArr=[],i.chartData=[],i._processedData=[],i._plotChartProxy=_.debounce(i.plotChartProxy.bind(i),100),i.redraw=i._plotChartProxy.bind(i),ue(i.nativeElement,i,g.APPLY_STYLES_TYPE.CONTAINER,["fontsize","fontunit","color","fontfamily","fontweight","fontstyle","textdecoration"]),i.$id=i.widgetId||Math.random(),x.removeAttr(i.nativeElement,"title"),i.chartReady=!1,i.binddataset=i.nativeElement.getAttribute("dataset.bind"),i.app.subscribe("toggle-variable-state",i.handleLoading.bind(i)),i}return v(e,a),e.prototype.isGroupByEnabled=function(){return!(!this.groupby||this.groupby===Rn)},e.prototype.isValidAxis=function(){return!this.binddataset||this.xaxisdatakey&&this.yaxisdatakey},e.prototype.isAggregationEnabled=function(){return!(!this.isGroupByEnabled()||this.aggregation===Rn||!this.aggregationcolumn)},e.prototype.isDataFilteringEnabled=function(){return this.isAggregationEnabled()||!this.isVisuallyGrouped&&this.orderby},e.prototype.getxAxisVal=function(e,t,i){var n=_.get(e,t);return yn(this.type)&&!x.isNumberType(this.xAxisDataType)?(this.xDataKeyArr.push(n),i):n},e.prototype.getXMinMaxValues=function(e){if(e){var t={};return t.min=_.minBy(e.values,function(e){return e.x||e[0]}),t.max=_.maxBy(e.values,function(e){return e.x||e[0]}),t}},e.prototype.getYMinMaxValues=function(e){var t={},i=[],n=[];if(e)return _.forEach(e,function(e){i.push(_.minBy(e.values,function(e){return e.y||e[1]})),n.push(_.maxBy(e.values,function(e){return e.y||e[1]}))}),t.min=_.minBy(i,function(e){return e.y||e[1]}),t.max=_.maxBy(n,function(e){return e.y||e[1]}),t},e.prototype.getValidData=function(e){return 1===e.length&&e[0]===undefined?[]:e},e.prototype.valueFinder=function(e,t,i,n,a){var o,s=this.getxAxisVal(e,t,n),r=_.get(e,i),l=parseFloat(r)||r,c=parseFloat(e[this.bubblesize])||2,d={};return vn(this.type)?(d.x=s,d.y=l,fn(this.type)&&(d.size=c,d.shape=a||"circle")):(o=this.type,_.includes(rn,o)&&(d=[s,l])),d._dataObj=e,d},e.prototype.setErrMsg=function(e){this.showNoDataMsg&&(this.showContentLoadError=!0,this.invalidConfig=!0,this.errMsg="")},e.prototype.processChartData=function(){var a=this;if(this.sampleData=Cn(this),this.xDataKeyArr=[],!this.binddataset)return this.xDataKeyArr=Ki,this.sampleData;if(!this.chartData||!this.chartData.length)return[];var i,e=[],o=[],t=[],s=this.xaxisdatakey,n=this.yaxisdatakey?this.yaxisdatakey.split(","):[],r=this.chartData;return _.isArray(r)&&(gn(this.type)?(i=n[0],e=_.map(r,function(e,t){if(!x.isEmptyObject(r[t]))return a.valueFinder(r[t],s,i)}),e=this.getValidData(e)):(fn(this.type)&&(o="random"===this.shape?Yi:this.shape),n.forEach(function(i,n){t=_.map(r,function(e,t){if(!x.isEmptyObject(r[t]))return a.valueFinder(r[t],s,i,t,_.isArray(o)&&o[n]||a.shape)}),t=a.getValidData(t),e.push({values:t,key:x.prettifyLabels(i)})}))),e},e.prototype.setChartData=function(e){e&&(this._processedData=e)},e.prototype.getChartData=function(){return this._processedData},e.prototype.getVisuallyGroupedData=function(e,t){var i,n,a=this,o={},s=[],r=[],l=mn(this.type),c=_.first(_.split(this.yaxisdatakey,","));return this.xDataKeyArr=[],e=_.orderBy(e,_.split(this.groupby,",")),this.orderby&&(i=Vn(this.orderby),e=_.orderBy(e,i.columns,i.orders)),e=_.groupBy(e,t),l&&(n=_.max(_.map(e,function(e){return e.length}))),_.forEach(e,function(e,t){s=_.fill(new Array(n),[0,0]),_.forEachRight(e,function(e,t){s[t]=a.valueFinder(e,a.xaxisdatakey,c,t)}),o={key:t,values:s},r.push(o)}),r},e.prototype.getGroupingDetails=function(){var i=this;if(!this.isGroupByEnabled()||this.isAggregationEnabled())return{expression:"",isVisuallyGrouped:!1,visualGroupingColumn:""};var n,a,o=!1,t=[],s=this.groupby&&this.groupby!==Rn?this.groupby.split(","):[],r=this.yaxisdatakey?this.yaxisdatakey.split(","):[];return 1<s.length&&(s.every(function(e,t){return i.xaxisdatakey===e||-1!==$.inArray(e,r)||(o=!0,n=e,a=t,s.splice(a,1),!1)}),n&&t.push(n),s.length&&(t=_.concat(t,s))),this.xaxisdatakey!==this.aggregationcolumn&&t.push(this.xaxisdatakey),_.forEach(r,function(e){e!==i.aggregationcolumn&&t.push(e)}),{expression:t.join(","),isVisuallyGrouped:this.isVisuallyGrouped=o,visualGroupingColumn:n}},e.prototype.getAggregatedData=function(i){var t,n,e,r=this,a=this.datasource,l=this.yaxisdatakey?this.yaxisdatakey.split(","):[],o={},s=[],c=[];a&&(this.isGroupByEnabled()&&(c=_.split(this.groupby,",")),this.orderby&&(t=_.replace(this.orderby,/:/g," "),s=_.uniq(_.concat(s,c,[this.aggregationcolumn])),e=Vn(this.orderby).columns,_.forEach(_.intersection(s,e),function(e){n=Bn(e),t=_.replace(t,e,n)})),this.isAggregationEnabled()&&(o.groupByFields=c,o.aggregations=[{field:this.aggregationcolumn,type:Nn[this.aggregation],alias:Bn(this.aggregationcolumn)}]),a.execute("getAggregatedData",{aggregations:o,sort:t}).then(function(e){var t=[],a=Bn(r.aggregationcolumn),o=Bn(r.xaxisdatakey),s=[];l.forEach(function(e){return s.push(Bn(e))}),_.forEach(e.body.content,function(i){var n={};r.isAggregationEnabled()&&(n[r.aggregationcolumn]=i[a],n[r.aggregationcolumn]=_.get(i,a)||_.get(i,r.aggregationcolumn)),n[r.xaxisdatakey]=_.get(i,o)||_.get(i,r.xaxisdatakey),l.forEach(function(e,t){n[e]=i[s[t]],n[e]=_.get(i,s[t])||_.get(i,e)}),t.push(n)}),r.chartData=t,x.triggerFn(i)},function(){r.chartData=[],r.setErrMsg("MESSAGE_ERROR_FETCH_DATA"),x.triggerFn(i)}))},e.prototype.setLabelsMaxWidth=function(){var e,n,t,a,o,i,s,r,l,c,d,p,u=parseInt(this.fontsize,10)||12,h=un(this.type);(e=$("#wmChart"+this.$id+" svg").find("g.nv-x").find("g.tick").find("text")).each(function(){var e,t,i=$(this);if(i.text()&&"1"===i.css("opacity"))return e=i.parent().attr("transform").split(","),a=parseFloat(e[0].substr(10)),o=parseFloat(e[1]||"0"),!h&&0<a?t=a:0<o&&(t=o),n?(n=t-n,!1):(n=t,!0)}),h?(c=$("#wmChart"+this.$id+" svg>g.nv-wrap>g>g.nv-barsWrap")[0],d=$("#wmChart"+this.$id+" svg>g.nv-wrap>g>g.nv-y")[0],p=$("#wmChart"+this.$id+" svg")[0],i=c?c.getBoundingClientRect().height:0,l=d?p.getBoundingClientRect().width-d.getBoundingClientRect().width:p.getBoundingClientRect().width,t=Math.round(l/u),n<u&&(s=i/u,r=Math.ceil(this.chartData.length/s),d3.select("#wmChart"+this.$id+" svg").select("g.nv-x").selectAll("g.tick").select("text").each(function(e,t){t%r!=0&&d3.select(this).attr("opacity",0)}))):t=Math.round(n/u),t=Math.abs(t),e.each(function(){this.textContent.length>t&&(this.textContent=this.textContent.substr(0,t)+"...")})},e.prototype.getDefaultColumns=function(){var e,t,i,n,a=[],o=this.datasource.execute(x.DataSource.Operation.GET_PROPERTIES_MAP)||[];for(i=0;i<o.length&&a.length<=2;i+=1)e=o[i].type,!o[i].isRelated&&x.isNumberType(e)?a.push(o[i].fieldName):"string"!==e||t||(t=o[i].fieldName);return t&&0<a.length&&!fn(this.type)&&(n=a[0],a[0]=t,a[1]=n),a},e.prototype.attachClickEvent=function(){var i,n=this;d3.select("#wmChart"+this.$id+" svg").selectAll(Fn[this.type]).style("pointer-events","all").on("click",function(e,t){switch(n.type){case"Column":case"Bar":i=e._dataObj;break;case"Pie":case"Donut":i=e.data._dataObj;break;case"Area":case"Cumulative Line":case"Line":i=e[0]._dataObj;break;case"Bubble":i=e.data.point[4]._dataObj}n.selecteditem=i,n.invokeEventCallback("select",{$event:d3.event,selectedChartItem:e,selectedItem:n.selecteditem})})},e.prototype.postPlotProcess=function(e){var t,i,n,a,o=this,s={},r=this.$element;On(this),gn(this.type)?this.showlabelsoutside||(i=(t=d3.select("#wmChart"+this.$id+" svg")).select(".nv-pieLabels").selectAll(".nv-label"),n=t.select(".nv-pie").selectAll(".nv-slice"),a=[],n&&n.length&&(n.each(function(){d3.select(this).attr("transform",function(e){var t,i;a.push(90<(i=90*((t=e).startAngle+t.endAngle)/Math.PI-90)?i-180:i)})}),i.each(function(e,t){var i=d3.select(this);$(i[0][0]).find("text").attr("transform","rotate("+a[t]+")")}))):this.setLabelsMaxWidth(),_.forEach(Mn,function(e,t){s[e]="fontsize"===t||"fontunit"===t?o.fontsize+o.fontunit:o[t]}),Wn(s,this.$id),x.triggerFn(this._resizeFn&&this._resizeFn.clear),this._resizeFn=nv.utils.windowResize(function(){r[0].getBoundingClientRect().height&&(e.update(),On(o),gn(o.type)||o.setLabelsMaxWidth())})},e.prototype.configureChart=function(){var e,t,i,n;if(0<this._processedData.length&&(En(this,"x")&&(e=this.binddataset?this.getXMinMaxValues(this._processedData[0]):{min:{x:1},max:{x:5}}),En(this,"y")&&(t=this.binddataset?this.getYMinMaxValues(this._processedData):{min:{y:1},max:{y:5}})),!gn(this.type)||this.binddataset&&this.scopedataset||(this._processedData=x.getClonedObject(this.scopedataset||this._processedData)),i=Tn(this,e,t,null,!this.binddataset),_.isArray(this._processedData))return(n=this.invokeEventCallback("beforerender",{chartInstance:i}))&&(i=n),this.chart=i,d3.select("#wmChart"+this.$id+" svg").datum(this._processedData).call(this.chart),this.postPlotProcess(i),i},e.prototype.plotChart=function(){var e=this,t=this.$element;this.chartData=this.invokeEventCallback("transform")||this.chartData,this.isVisuallyGrouped&&!gn(this.type)?this._processedData=this.chartData:this._processedData=this.processChartData(),t[0].getBoundingClientRect().height&&(this.clearCanvas&&(t.find("svg").replaceWith("<svg></svg>"),this.clearCanvas=!1),this.isValidAxis()||(this._processedData=[]),nv.addGraph(function(){return e.configureChart()},function(){setTimeout(function(){e.attachClickEvent()},600)}),this.isLoadInProgress=!1)},Object.defineProperty(e.prototype,"isLiveVariable",{get:function(){var e=this.datasource;return e&&"wm.LiveVariable"===e.category},enumerable:!0,configurable:!0}),e.prototype.plotChartProxy=function(){var e=this;this.showContentLoadError=!1,this.invalidConfig=!1,this.isLoadInProgress=!0;var t=this.getGroupingDetails();this.binddataset&&this.isLiveVariable&&(this.filterFields||this.isDataFilteringEnabled())?this.getAggregatedData(function(){return e.plotChart()}):(this.dataset&&this.isLiveVariable&&(this.chartData=this.dataset,this.isGroupByEnabled()&&t.isVisuallyGrouped&&(this.chartData=this.getVisuallyGroupedData(this.chartData,t.visualGroupingColumn))),this.plotChart())},e.prototype.setDefaultAxisOptions=function(){var e=this.getDefaultColumns();this.xaxisdatakey=e[0]||null,this.yaxisdatakey=e[1]||null},e.prototype.getCutomizedOptions=function(e,t){var i,n=_.split(this.groupby,","),a=_.split(this.aggregationcolumn,",");if(!this.binddataset)return t;switch(this.axisoptions||(this.axisoptions=t),e){case"xaxisdatakey":this.isGroupByEnabled()&&(i=n);break;case"yaxisdatakey":this.isAggregationEnabled()?i=a:this.isLiveVariable&&(i=this.numericColumns);break;case"groupby":this.isLiveVariable&&this.nonPrimaryColumns&&this.nonPrimaryColumns.length&&(i=this.nonPrimaryColumns);break;case"aggregationcolumn":this.isLiveVariable&&this.isAggregationEnabled()&&"count"!==this.aggregation&&(i=this.numericColumns);break;case"orderby":this.isLiveVariable&&this.isAggregationEnabled()&&(i=_.uniq(_.concat(n,a)));break;case"bubblesize":this.numericColumns&&this.numericColumns.length&&(i=this.numericColumns)}return i||t||this.axisoptions},e.prototype.setNumericandNonPrimaryColumns=function(){var t,i,n=this,e=this.datasource.execute(x.DataSource.Operation.GET_PROPERTIES_MAP);this.numericColumns=[],this.nonPrimaryColumns=[],this.dataset&&!_.isEmpty(e)&&(t=[]),t&&(_.forEach(Object.keys(t),function(e){i=t[e].type,x.isNumberType(i)&&n.numericColumns.push(e),"true"!==t[e].isRelatedPk&&t[e].isPrimaryKey||n.nonPrimaryColumns.push(e)}),this.numericColumns=this.numericColumns.sort(),this.nonPrimaryColumns=this.nonPrimaryColumns.sort())},e.prototype.handleDataSet=function(e){this.errMsg="",e||this.binddataset||(this.isVisuallyGrouped=!1,this.axisoptions=null),this.chartData=this.isLiveVariable?e||"":e&&""===e.dataValue&&1===_.keys(e).length?"":e,!_.isArray(this.chartData)&&_.isObject(this.chartData)&&(this.chartData=[this.chartData]),e&&e.filterFields&&(this.filterFields=e.filterFields),this.chartData&&this._plotChartProxy()},e.prototype.onPropertyChange=function(e,t,i){switch(a.prototype.onPropertyChange.call(this,e,t,i),e){case"dataset":this.handleDataSet(t);break;case"type":gn(this.type)?(this.offsettop=20,this.offsetright=0,this.offsetbottom=0,this.offsetleft=0):"Pie"!==i&&"Donut"!==i||(this.offsettop=25,this.offsetright=25,this.offsetbottom=55,this.offsetleft=75),i!==t&&(this.clearCanvas=!0),this._plotChartProxy();break;default:this._plotChartProxy()}_.includes(Ln,e)&&this._plotChartProxy()},e.prototype.handleLoading=function(e){var t=this.datasource;t&&t.execute(x.DataSource.Operation.IS_API_AWARE)&&x.isDataSourceEqual(e.variable,t)&&(this.variableInflight=e.active,this.isLoadInProgress=e.active)},e.prototype.onStyleChange=function(e,t,i){var n={};switch(a.prototype.onStyleChange.call(this,e,t,i),e){case"fontsize":case"fontunit":case"color":case"fontfamily":case"fontweight":case"fontstyle":case"textdecoration":n[Mn[e]]="fontsize"===e||"fontunit"===e?this.fontsize+this.fontunit:t,Wn(n,this.$id)}},e.prototype.ngAfterViewInit=function(){a.prototype.ngAfterViewInit.call(this),_.includes(["outside","inside","hide"],this.showlabels)||(this.showlabels=$n(this.showlabels),this.showlabelsoutside=$n(this.showlabelsoutside),this.showlabels=this.showlabels?this.showlabelsoutside?"outside":"inside":"hide"),this.theme||(this.theme=gn(this.type)?"Azure":"Terrestrial"),this.nativeElement.setAttribute("id","wmChart"+this.$id),this.binddataset||this.nativeElement.getAttribute("scopedataset")||this._plotChartProxy()},e.initializeProps=void ge("wm-chart",new Map([["aggregation",y({value:"none"},be)],["aggregationcolumn",be],["areaviewtype",y({value:"stack"},be)],["barspacing",y({value:"medium"},be)],["bubblesize",be],["centerlabel",be],["class",be],["customcolors",be],["dataset",Ee],["datasource",be],["donutratio",y({value:"medium"},be)],["formattype",{value:"",PROP_STRING:be}],["groupby",be],["height",{value:"210px",PROP_STRING:be}],["highlightpoints",Ce],["iconclass",be],["interpolation",y({value:"linear"},be)],["labelthreshold",y({value:.01},we)],["labeltype",y({value:"percent"},be)],["legendtype",y({value:"furious"},be)],["linethickness",be],["loadingdatamsg",y({value:"Loading..."},be)],["name",be],["nodatamessage",y({value:"No Data Available."},be)],["offset",be],["offsetbottom",y({value:55},we)],["offsetleft",y({value:75},we)],["offsetright",y({value:25},we)],["offsettop",y({value:25},we)],["orderby",be],["reducexticks",y({value:!0},Ce)],["shape",y({value:"circle"},be)],["show",y({value:!0},Ce)],["showlabels",y({value:"outside"},be)],["showlabelsoutside",y({value:!0},Ce)],["showlegend",y({value:"top"},be)],["showvalues",y({value:!1},Ce)],["showxaxis",y({value:!0},Ce)],["showxdistance",y({value:!1},Ce)],["showyaxis",y({value:!0},Ce)],["showydistance",y({value:!1},Ce)],["staggerlabels",y({value:!1},Ce)],["subheading",be],["theme",be],["title",be],["tooltips",y({value:!0},Ce)],["type",be],["viewtype",y({value:"Grouped"},be)],["xaxisdatakey",be],["xaxislabel",be],["xaxislabeldistance",y({value:12},we)],["xdateformat",be],["xdomain",y({value:"Default"},be)],["xnumberformat",be],["xunits",be],["yaxisdatakey",be],["yaxislabel",be],["yaxislabeldistance",y({value:12},we)],["ydomain",y({value:"Default"},be)],["ynumberformat",be],["yunits",be]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmChart]",template:'<div class="panel-heading" *ngIf="title">\n    <h3 class="panel-title">\n        <div class="pull-left"><i class="app-icon panel-icon {{iconclass}}" [class.ng-hide]="!iconclass"></i></div>\n        <div class="heading" [innerHTML]="title | trustAs: \'html\'"></div>\n        <div class="description" *ngIf="subheading" [innerHTML]="subheading | trustAs: \'html\'"></div>\n    </h3>\n</div>\n<div class="app-chart-inner" [ngClass]="{\'loading\':isLoadInProgress, \'panel-body\': title}">\n    <svg></svg>\n    <div class="wm-content-info readonly-wrapper" *ngIf="showContentLoadError && showNoDataMsg">\n        <p class="wm-message" [title]="hintMsg" [ngClass]="{\'error\': invalidConfig}" [innerText]="errMsg"></p>\n    </div>\n    <div wmSpinner show.bind="isLoadInProgress" caption.bind="loadingdatamsg"></div>\n</div>',providers:[z(e)],encapsulation:h.ViewEncapsulation.None,styles:[".nvd3 .nv-axis{pointer-events:none;opacity:1}.nvd3 .nv-axis path{fill:none;stroke:#000;stroke-opacity:.75;shape-rendering:crispEdges}.nvd3 .nv-axis path.domain{stroke-opacity:.75}.nvd3 .nv-axis.nv-x path.domain{stroke-opacity:0}.nvd3 .nv-axis line{fill:none;stroke:#e5e5e5;shape-rendering:crispEdges}.nvd3 .nv-axis .zero line,.nvd3 .nv-axis line.zero{stroke-opacity:.75}.nvd3 .nv-axis .nv-axisMaxMin text{font-weight:700}.nvd3 .x .nv-axis .nv-axisMaxMin text,.nvd3 .x2 .nv-axis .nv-axisMaxMin text,.nvd3 .x3 .nv-axis .nv-axisMaxMin text{text-anchor:middle}.nvd3 .nv-axis.nv-disabled{opacity:0}.nvd3 .nv-bars rect{fill-opacity:.75;transition:fill-opacity 250ms linear}.nvd3 .nv-bars rect.hover{fill-opacity:1}.nvd3 .nv-bars .hover rect{fill:#add8e6}.nvd3 .nv-bars text{fill:transparent}.nvd3 .nv-bars .hover text{fill:rgba(0,0,0,1)}.nvd3 .nv-discretebar .nv-groups rect,.nvd3 .nv-multibar .nv-groups rect,.nvd3 .nv-multibarHorizontal .nv-groups rect{stroke-opacity:0;transition:fill-opacity 250ms linear}.nvd3 .nv-candlestickBar .nv-ticks rect:hover,.nvd3 .nv-discretebar .nv-groups rect:hover,.nvd3 .nv-multibar .nv-groups rect:hover,.nvd3 .nv-multibarHorizontal .nv-groups rect:hover{fill-opacity:1}.nvd3 .nv-discretebar .nv-groups text,.nvd3 .nv-multibarHorizontal .nv-groups text{font-weight:700;fill:rgba(0,0,0,1);stroke:transparent}.nvd3 .nv-boxplot circle{fill-opacity:.5}.nvd3 .nv-boxplot circle:hover,.nvd3 .nv-boxplot rect:hover{fill-opacity:1}.nvd3 line.nv-boxplot-median{stroke:#000}.nv-boxplot-tick:hover{stroke-width:2.5px}.nvd3.nv-bullet{font:10px sans-serif}.nvd3.nv-bullet .nv-measure{fill-opacity:.8}.nvd3.nv-bullet .nv-measure:hover{fill-opacity:1}.nvd3.nv-bullet .nv-marker{stroke:#000;stroke-width:2px}.nvd3.nv-bullet .nv-markerTriangle{stroke:#000;fill:#fff;stroke-width:1.5px}.nvd3.nv-bullet .nv-markerLine{stroke:#000;stroke-width:1.5px}.nvd3.nv-bullet .nv-tick line{stroke:#666;stroke-width:.5px}.nvd3.nv-bullet .nv-range.nv-s0{fill:#eee}.nvd3.nv-bullet .nv-range.nv-s1{fill:#ddd}.nvd3.nv-bullet .nv-range.nv-s2{fill:#ccc}.nvd3.nv-bullet .nv-title{font-size:14px;font-weight:700}.nvd3.nv-bullet .nv-subtitle{fill:#999}.nvd3.nv-bullet .nv-range{fill:#bababa;fill-opacity:.4}.nvd3.nv-bullet .nv-range:hover{fill-opacity:.7}.nvd3.nv-candlestickBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect{stroke:#d62728;fill:#d62728}.with-transitions .nv-candlestickBar .nv-ticks .nv-tick{transition:stroke-width 250ms linear,stroke-opacity 250ms linear}.nvd3.nv-candlestickBar .nv-ticks line{stroke:#333}.nv-force-node{stroke:#fff;stroke-width:1.5px}.nv-force-link{stroke:#999;stroke-opacity:.6}.nv-force-node text{stroke-width:0}.nvd3 .nv-check-box .nv-box{fill-opacity:0;stroke-width:2}.nvd3 .nv-check-box .nv-check{fill-opacity:0;stroke-width:4}.nvd3 .nv-series.nv-disabled .nv-check-box .nv-check{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check{opacity:0}.nvd3.nv-linePlusBar .nv-bar rect{fill-opacity:.75}.nvd3.nv-linePlusBar .nv-bar rect:hover{fill-opacity:1}.nvd3 .nv-groups path.nv-line{fill:none}.nvd3 .nv-groups path.nv-area{stroke:none}.nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point{fill-opacity:0;stroke-opacity:0}.nvd3.nv-scatter.nv-single-point .nv-groups .nv-point{fill-opacity:.5!important;stroke-opacity:.5!important}.with-transitions .nvd3 .nv-groups .nv-point{transition:stroke-width 250ms linear,stroke-opacity 250ms linear}.nvd3 .nv-groups .nv-point.hover,.nvd3.nv-scatter .nv-groups .nv-point.hover{stroke-width:7px;fill-opacity:.95!important;stroke-opacity:.95!important}.nvd3 .nv-point-paths path{stroke:#aaa;stroke-opacity:0;fill:#eee;fill-opacity:0}.nvd3 .nv-indexLine{cursor:ew-resize}svg.nvd3-svg{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;width:100%;height:100%}.nvtooltip.with-3d-shadow,.with-3d-shadow .nvtooltip{box-shadow:0 5px 10px rgba(0,0,0,.2);border-radius:5px}.nvd3 text{font:12px Arial,sans-serif}.nvd3 .title{font:bold 14px Arial,sans-serif}.nvd3 .nv-background{fill:#fff;fill-opacity:0}.nvd3.nv-noData{font-size:18px;font-weight:700}.nv-brush .extent{fill-opacity:.125;shape-rendering:crispEdges}.nv-brush .resize path{fill:#eee;stroke:#666}.nvd3 .nv-legend .nv-series{cursor:pointer}.nvd3 .nv-legend .nv-disabled circle{fill-opacity:0}.nvd3 .nv-brush .extent{fill-opacity:0!important}.nvd3 .nv-brushBackground rect{stroke:#000;stroke-width:.4;fill:#fff;fill-opacity:.7}@media print{.nvd3 text{stroke-width:0;fill-opacity:1}}.nvd3.nv-ohlcBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive{stroke:#2ca02c}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative{stroke:#d62728}.nvd3 .background path{fill:none;stroke:#eee;stroke-opacity:.4;shape-rendering:crispEdges}.nvd3 .foreground path{fill:none;stroke-opacity:.7}.nvd3 .nv-parallelCoordinates-brush .extent{fill:#fff;fill-opacity:.6;stroke:gray;shape-rendering:crispEdges}.nvd3 .nv-parallelCoordinates .hover{fill-opacity:1;stroke-width:3px}.nvd3 .missingValuesline line{fill:none;stroke:#000;stroke-width:1;stroke-opacity:1;stroke-dasharray:5,5}.nvd3.nv-pie path{stroke-opacity:0;transition:fill-opacity 250ms linear,stroke-width 250ms linear,stroke-opacity 250ms linear;stroke:#fff;stroke-width:1px;stroke-opacity:1;fill-opacity:.7}.nvd3.nv-pie .nv-pie-title{font-size:24px;fill:rgba(19,196,249,.59)}.nvd3.nv-pie .nv-slice text{stroke:#000;stroke-width:0}.nvd3.nv-pie .hover path{fill-opacity:1}.nvd3.nv-pie .nv-label{pointer-events:none}.nvd3.nv-pie .nv-label rect{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-groups .nv-point.hover{stroke-width:20px;stroke-opacity:.5}.nvd3 .nv-scatter .nv-point.hover{fill-opacity:1}.nv-distx,.nv-disty,.nv-noninteractive{pointer-events:none}.nvd3.nv-sparkline path{fill:none}.nvd3.nv-sparklineplus g.nv-hoverValue{pointer-events:none}.nvd3.nv-sparklineplus .nv-hoverValue line{stroke:#333;stroke-width:1.5px}.nvd3.nv-sparklineplus,.nvd3.nv-sparklineplus g{pointer-events:all}.nvd3 .nv-hoverArea{fill-opacity:0;stroke-opacity:0}.nvd3.nv-sparklineplus .nv-xValue,.nvd3.nv-sparklineplus .nv-yValue{stroke-width:0;font-size:.9em;font-weight:400}.nvd3.nv-sparklineplus .nv-yValue{stroke:#f66}.nvd3.nv-sparklineplus .nv-maxValue{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-sparklineplus .nv-minValue{stroke:#d62728;fill:#d62728}.nvd3.nv-sparklineplus .nv-currentValue{font-weight:700;font-size:1.1em}.nvd3.nv-stackedarea path.nv-area{fill-opacity:.7;stroke-opacity:0;transition:fill-opacity 250ms linear,stroke-opacity 250ms linear}.nvd3.nv-stackedarea path.nv-area.hover{fill-opacity:.9}.nvd3.nv-stackedarea .nv-groups .nv-point{stroke-opacity:0;fill-opacity:0}.nvtooltip{position:absolute;color:rgba(0,0,0,1);padding:1px;border:1px solid rgba(0,0,0,.5);z-index:10000;display:block;font-family:Arial,sans-serif;font-size:13px;text-align:left;pointer-events:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:rgba(255,255,255,.8);border-radius:4px}.nvtooltip.with-transitions,.with-transitions .nvtooltip{transition:opacity 50ms linear .2s}.nvtooltip.x-nvtooltip,.nvtooltip.y-nvtooltip{padding:8px}.nvtooltip h3{margin:0;padding:4px 14px;line-height:18px;font-weight:400;background-color:rgba(247,247,247,.75);color:rgba(0,0,0,1);text-align:center;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.nvtooltip p{margin:0;padding:5px 14px;text-align:center}.nvtooltip span{display:inline-block;margin:2px 0}.nvtooltip table{margin:6px;border-spacing:0}.nvtooltip table td{padding:2px 9px 2px 0;vertical-align:middle}.nvtooltip table td.key{font-weight:400}.nvtooltip table td.key.total{font-weight:700}.nvtooltip table td.value{text-align:right;font-weight:700}.nvtooltip table td.percent{color:#a9a9a9}.nvtooltip table tr.highlight td{padding:1px 9px 1px 0;border-bottom-style:solid;border-bottom-width:1px;border-top-style:solid;border-top-width:1px}.nvtooltip table td.legend-color-guide div{vertical-align:middle;width:12px;height:12px;border:1px solid #999}.nvtooltip .footer{padding:3px;text-align:center}.nvtooltip-pending-removal{pointer-events:none;display:none}.nvd3 .nv-interactiveGuideLine{pointer-events:none}.nvd3 line.nv-guideline{stroke:#ccc}"]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.App}]},e.propDecorators={title:[{type:h.HostBinding,args:["class.panel"]}]},e}($e),zn=new Map([["caption",be],["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["checkedvalue",y({value:!0},be)],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["name",be],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["uncheckedvalue",y({value:!1},be)]]),Un=function(a){function e(e,t,i){var n=a.call(this,e,t,i)||this;return n.inj=e,n.binddatavalue=n.$element.attr("datavalue.bind"),n}return v(e,a),e.prototype.updateBoundVariable=function(e){var t=this.binddatavalue;this.datavaluesource&&this.datavaluesource.execute(x.DataSource.Operation.IS_API_AWARE)||this.datavaluesource&&!this.datavaluesource.twoWayBinding||!t||t.startsWith("Widgets.")||t.startsWith("itemRef.currentItemWidgets")||(t=t.replace(/\[\$i\]/g,"[0]"),_.has(this.context,t.split(".")[0])?_.set(this.context,t,e):_.set(this.viewParent,t,e))},e.prototype.invokeOnChange=function(e,t){t&&this.datavalue!==this.prevDatavalue&&(this.updateBoundVariable(e),this.invokeEventCallback("change",{$event:t,newVal:e,oldVal:this.prevDatavalue})),this.prevDatavalue=e},e.prototype.updatePrevDatavalue=function(e){this.prevDatavalue=e},e}($e),qn=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e._onChange=function(){},e._onTouched=function(){},e}return v(e,n),e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this._formControl=this.inj.get(p.FormControlName,null)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.writeValue=function(e){this.isDestroyed||this._formControl&&(this.datavalue=e,this.onPropertyChange("datavalue",e),this.updatePrevDatavalue(e))},e.prototype.invokeOnChange=function(e,t,i){this._onChange(e),i&&n.prototype.invokeOnChange.call(this,e,t)},e.prototype.invokeOnTouched=function(e){this._onTouched(),e&&this.invokeEventCallback("blur",{$event:e})},e.prototype.invokeOnFocus=function(e){this.invokeEventCallback("focus",{$event:e})},e}(Un),Hn={widgetType:"wm-checkbox",hostClass:"app-checkbox checkbox"},Gn=function(e,t){if(null===e)return t;if(!0===e||"true"===e)return!0;if(!1===e||"false"===e)return!1;var i=parseInt(e,10);return isNaN(i)?e:i},Yn=function(o){function e(e,t,i,n){var a=o.call(this,e,Hn)||this;return a._caption="&nbsp",a._checkedvalue=Gn(t,!0),a._uncheckedvalue=Gn(i,!1),x.toggleClass(a.nativeElement,"app-toggle","toggle"===n),a}return v(e,o),Object.defineProperty(e.prototype,"datavalue",{get:function(){return x.isDefined(this.proxyModel)?this.proxyModel?this._checkedvalue:this._uncheckedvalue:undefined},set:function(e){this.proxyModel=x.isDefined(e)&&""!==e?e===this._checkedvalue:undefined,this.updatePrevDatavalue(this.datavalue)},enumerable:!0,configurable:!0}),e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("caption"===e?x.isDefined(t)&&""!==t?this._caption=t:this._caption="&nbsp;":"checkedvalue"===e?this._checkedvalue=Gn(t,!0):"uncheckedvalue"===e?this._uncheckedvalue=Gn(t,!1):"datavalue"===e?this.datavalue=Gn(t):o.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.handleEvent=function(e,t,i,n){if("change"!==t&&"blur"!==t){var a="tap"===t?this.nativeElement.querySelector("label"):this.checkboxEl.nativeElement;o.prototype.handleEvent.call(this,a,t,i,n)}},e.prototype.handleChange=function(e){this.invokeOnChange(this.datavalue,{type:"change"},this.ngModel.valid)},e.prototype.ngAfterViewInit=function(){o.prototype.ngAfterViewInit.call(this),ue(this.nativeElement.querySelector("label"),this)},e.initializeProps=void ge("wm-checkbox",zn),e.decorators=[{type:h.Component,args:[{selector:"[wmCheckbox]",template:'<label [ngClass]="{\'unchecked\': !proxyModel, \'disabled\': (disabled || readonly), \'required\': (required && _caption)}" role="button">\n    <input type="checkbox" aria-describedby="checkbox"\n           #checkbox\n           [attr.name]="name"\n           focus-target\n           [(ngModel)]="proxyModel"\n           [readonly]="readonly"\n           [required]="required"\n           [disabled]="disabled || readonly"\n           [attr.accesskey]="shortcutkey"\n           [tabindex]="tabindex"\n           (blur)="invokeOnTouched($event)"\n           (ngModelChange)="handleChange($event)">\n    <span class="caption" [innerHtml]="_caption"></span>\n    <img alt="Checkbox Image" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" class="switch"/>\n</label>\n<input type="hidden" class="ng-hide model-holder" [disabled]="disabled" [value]="proxyModel">\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:undefined,decorators:[{type:h.Attribute,args:["checkedvalue"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["uncheckedvalue"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["type"]}]}]},e.propDecorators={ngModel:[{type:h.ViewChild,args:[p.NgModel]}],checkboxEl:[{type:h.ViewChild,args:["checkbox",{read:h.ElementRef}]}]},e}(qn),Kn=function(e){return _.isDate(e)||isNaN(e)||(e=parseInt(e,10)),moment(e).valueOf()||moment((new Date).toDateString()+" "+e).valueOf()},Qn=function(){function e(e){this.datePipe=e}return e.prototype.transform=function(e,t){var i;return"null"===e||""===e?"":x.isDefined(e)&&(i=Kn(e))?"timestamp"===t?i:this.datePipe.transform(i,t):""},e.decorators=[{type:h.Pipe,args:[{name:"toDate"}]}],e.ctorParameters=function(){return[{type:s.DatePipe}]},e}(),Xn=function(){function e(e){this.decimalPipe=e}return e.prototype.transform=function(e,t){if(t&&!String(t).match(/^(\d+)?\.((\d+)(-(\d+))?)?$/)&&(t="1."+t+"-"+t),!_.isNaN(+e))return this.decimalPipe.transform(e,t)},e.decorators=[{type:h.Pipe,args:[{name:"toNumber"}]}],e.ctorParameters=function(){return[{type:s.DecimalPipe}]},e}(),Zn=function(){function e(e){this.decimalPipe=e}return e.prototype.transform=function(e,t,i){var n=(x.CURRENCY_INFO[t]||{}).symbol||t||"",a=new Xn(this.decimalPipe).transform(e,i);return a?n+a:""},e.decorators=[{type:h.Pipe,args:[{name:"toCurrency"}]}],e.ctorParameters=function(){return[{type:s.DecimalPipe}]},e}(),Jn=function(){function e(){}return e.prototype.transform=function(e,t){return _.isUndefined(e)||null===e||""===e?e:(t||"")+e},e.decorators=[{type:h.Pipe,args:[{name:"prefix"}]}],e}(),ea=function(){function e(){}return e.prototype.transform=function(e,t){return _.isUndefined(e)||null===e||""===e?e:e+(t||"")},e.decorators=[{type:h.Pipe,args:[{name:"suffix"}]}],e}(),ta=function(){function e(){}return e.prototype.transform=function(e){var t;return x.isDefined(e)&&(t=Kn(e))?moment(t).fromNow():undefined},e.decorators=[{type:h.Pipe,args:[{name:"timeFromNow"}]}],e}(),ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.decorators=[{type:h.Pipe,args:[{name:"numberToString"}]}],t}(Xn),na=function(){function e(){}return e.prototype.transform=function(e){return Number(e)||undefined},e.decorators=[{type:h.Pipe,args:[{name:"stringToNumber"}]}],e}(),aa=function(){function e(){}return e.prototype.transform=function(e,t,i){return e?_.isObject(t)?_.filter(e,t):_.filter(e,function(e){return _.includes(e[t],i)}):[]},e.decorators=[{type:h.Pipe,args:[{name:"filter"}]}],e}(),oa=function(){function e(){}return e.prototype.transform=function(e,t){for(var i=0;1024<=e;)e/=1024,i++;return e.toFixed(+t)+" "+["bytes","KB","MB","GB","TB","PB"][i]},e.decorators=[{type:h.Pipe,args:[{name:"filesize"}]}],e}(),sa=function(){function e(){}return e.prototype.transform=function(e){return"fa "+({zip:"fa-file-zip-o",pdf:"fa-file-pdf-o",rar:"fa-file-archive-o",txt:"fa-file-text-o",ppt:"fa-file-powerpoint-o",pot:"fa-file-powerpoint-o",pps:"fa-file-powerpoint-o",pptx:"fa-file-powerpoint-o",potx:"fa-file-powerpoint-o",ppsx:"fa-file-powerpoint-o",mpg:"fa-file-movie-o",mp4:"fa-file-movie-o",mov:"fa-file-movie-o",avi:"fa-file-movie-o",mp3:"fa-file-audio-o",docx:"fa-file-word-o",js:"fa-file-code-o",md:"fa-file-code-o",html:"fa-file-code-o",css:"fa-file-code-o",xlsx:"fa-file-excel-o",png:"fa-file-image-o",jpg:"fa-file-image-o",jpeg:"fa-file-image-o",file:"fa-file-o","default":"fa-file-o"}[e]||"fa-file-o")},e.decorators=[{type:h.Pipe,args:[{name:"fileIconClass"}]}],e}(),ra=function(){function e(){}return e.prototype.transform=function(e){return{success:"wi wi-done text-success",error:"wi wi-cancel text-danger"}[e.toLowerCase()]},e.decorators=[{type:h.Pipe,args:[{name:"stateClass"}]}],e}(),la=function(){function e(){}return e.prototype.transform=function(e){return{"audio/aac":".aac","application/x-abiword":".abw","application/vnd.android.package-archive":".apk","video/x-msvideo":".avi","application/vnd.amazon.ebook":".azw","application/octet-stream":".bin","image/bmp":".bmp","application/x-bzip":".bz","application/x-bzip2":".bz2","application/x-csh":".csh","text/css":".css","text/csv":".csv","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","application/vnd.ms-fontobject":".eot","application/epub+zip":".epub","application/ecmascript":".es","image/gif":".gif","text/html":".html","image/x-icon":".ico","text/calendar":".ics","application/java-archive":".jar","image/jpeg":[".jpeg",".jpg"],"application/javascript":".js","application/json":".json","audio/midi":".mid","audio/x-midi":".midi","video/mpeg":".mpeg","application/vnd.apple.installer+xml":"mpkg","application/vnd.oasis.opendocument.presentation":".odp","application/vnd.oasis.opendocument.spreadsheet":".ods","application/vnd.oasis.opendocument.text":".odt","audio/ogg":".oga","video/ogg":".ogv","application/ogg":".ogx","font/otf":".otf","image/png":".png","application/pdf":".pdf","application/vnd.ms-powerpoint":".ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":".pptx","application/x-rar-compressed":".rar","application/rtf":".rtf","application/x-sh":".sh","image/svg+xml":".svg","application/x-shockwave-flash":".swf","application/x-tar":".tar","image/tiff":".tiff","application/typescript":".ts","font/ttf":".ttf","text/plain":".txt","application/vnd.visio":".vsd","audio/wav":".wav","audio/webm":".weba","video/webm":".webm","image/webp":".webp","font/woff":".woff","font/woff2":".woff2","application/xhtml+xml":".xhtml","application/vnd.ms-excel":".xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":".xlsx","application/xml":".xml","application/vnd.mozilla.xul+xml":".xul","application/zip":".zip","video/3gpp":".3gp","audio/3gpp":".3gp","video/3gpp2":".3g2","audio/3gpp2":".3g2","application/x-7z-compressed":".7z"}[e]},e.decorators=[{type:h.Pipe,args:[{name:"fileExtensionFromMime"}]}],e}(),ca=new Map([["class",be],["collapsible",Ce],["compareby",be],["datafield",be],["dataset",y({value:"Option 1, Option 2, Option 3"},Ee)],["datavaluesource",Ee],["datavalue",be],["dateformat",be],["disabled",Ce],["displayexpression",be],["displayfield",be],["displayValue",be],["groupby",be],["itemclass",y({value:""},be)],["layout",y({value:"stacked"},be)],["listclass",y({value:""},be)],["match",be],["name",be],["orderby",be],["readonly",Ce],["required",Ce],["show",y({value:!0},Ce)],["showcount",Ce],["showindevice",y({displayType:"inline-block",value:"all"},be)],["tabindex",y({value:0},we)],["usekeys",Ce]]),da=function(n){function e(e,t){var i=n.call(this,e,t)||this;return i.datasetItems=[],i.acceptsArray=!1,i.dataset$=new u.Subject,i.datavalue$=new u.Subject,i.allowempty=!0,i._debounceDatavalueUpdation=_.debounce(function(e){!x.isDefined(i._modelByKey)||_.isArray(i._modelByKey)&&!i._modelByKey.length?(i.toBeProcessedDatavalue=e,i._modelByValue=undefined):x.isDefined(i.toBeProcessedDatavalue)&&(x.isDefined(i._modelByValue)||(i._modelByValue=!i.multiple&&_.isArray(i.toBeProcessedDatavalue)?i.toBeProcessedDatavalue[0]:i.toBeProcessedDatavalue),i.toBeProcessedDatavalue=undefined),i.initDisplayValues()},150),i.binddisplayexpression=i.nativeElement.getAttribute("displayexpression.bind"),i.binddisplayimagesrc=i.nativeElement.getAttribute("displayimagesrc.bind"),i.binddisplaylabel=i.nativeElement.getAttribute("displaylabel.bind"),i._debouncedInitDatasetItems=x.debounce(function(){i.initDatasetItems(),x.$appDigest()},150),i}return v(e,n),Object.defineProperty(e.prototype,"modelByKey",{get:function(){return this._modelByKey},set:function(e){this.selectByKey(e),this.invokeOnChange(this._modelByValue)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datavalue",{get:function(){return this._modelByValue},set:function(e){this.multiple&&(e=Ft(e)),this._modelByValue=e,this.selectByValue(e),this.datavalue$.next(e),this.invokeOnChange(e,undefined,!0)},enumerable:!0,configurable:!0}),e.prototype.selectByKey=function(t){var i=this;if(this.resetDatasetItems(),this.datasetItems.length){if(this.multiple&&!_.isArray(t)&&(t=[t]),this._modelByKey=t,this.multiple)this._modelByValue=[],t.forEach(function(t){var e=_.find(i.datasetItems,function(e){return _.toString(e.key)===_.toString(t)});e&&(e.selected=!0,i._modelByValue=E(i._modelByValue,[e.value]))});else{this._modelByValue="";var e=_.find(this.datasetItems,function(e){return _.toString(e.key)===_.toString(t)});e&&(e.selected=!0,this._modelByValue=e.value)}this.initDisplayValues()}},e.prototype.selectByValue=function(t){var i=this;if(this.resetDatasetItems(),!(!x.isDefined(t)||""===t||_.isNull(t)||t instanceof Array&&!t.length)||(this._modelByKey=undefined,this.allowempty&&x.isDefined(t)))if(this.acceptsArray&&!_.isArray(t)&&(t=this.allowempty?[t]:Ft(t)),this.datasetItems.length||!x.isDefined(t)){var n=this.datafield===it?"dataObject":"key";if(_.isArray(t))this._modelByKey=[],t.forEach(function(t){var e=_.find(i.datasetItems,function(e){return"dataObject"===n&&i.compareby&&i.compareby.length?x.isEqualWithFields(e[n],t,i.compareby):_.isObject(e.value)?_.isEqual(e.value,t):_.toString(e.value).toLowerCase()===_.toString(t).toLowerCase()});e&&(e.selected=!0,i._modelByKey.push(e.key))});else{this._modelByKey=undefined;var e=_.find(this.datasetItems,function(e){return"dataObject"===n&&i.compareby&&i.compareby.length?x.isEqualWithFields(e[n],t,i.compareby):_.isObject(e.value)?_.isEqual(e.value,t):_.toString(e.value).toLowerCase()===_.toString(t).toLowerCase()});e&&(e.selected=!0,this._modelByKey=e.key)}this._debounceDatavalueUpdation(t)}else this.toBeProcessedDatavalue=t},e.prototype.initDisplayValues=function(){var t=[];this.datasetItems.forEach(function(e){e.selected&&t.push(e.label)}),this.displayValue=this.multiple?t:t[0]},e.prototype.initDatasetItems=function(){if(this.dataset&&!_.isEmpty(this.dataset)){var e=Lt(Mt(this.dataset),this.orderby);if(this.usekeys)this.datasetItems=function(e){var i=[];if(_.isObject(e[0])||_.isObject(e)&&!(e instanceof Array)){var t=Object.keys(e[0]||e);_.forEach(t,function(e,t){i.push({key:e,label:e,value:e,index:t+1})})}return i}(e);else{var t=Nt(this.viewParent,e,this.datafield,{displayField:this.displayfield||this.displaylabel,displayExpr:this.displayexpression,bindDisplayExpr:this.binddisplayexpression||this.binddisplaylabel,bindDisplayImgSrc:this.binddisplayimagesrc,displayImgSrc:this.displayimagesrc});this.datasetItems=E($t(t,this.datafield,this.displayfield||this.displaylabel,x.toBoolean(this.allowempty)))}this.postDatasetItemsInit()}else this.datasetItems=[]},e.prototype.postDatasetItemsInit=function(){if(this.datasetItems.length&&!this._defaultQueryInvoked){var e=x.isDefined(this.toBeProcessedDatavalue)?this.toBeProcessedDatavalue:this.datavalue;this.selectByValue(e)}this.dataset$.next(this.datasetItems)},e.prototype.resetDatasetItems=function(){this.datasetItems.forEach(function(e){return e.selected=!1})},e.prototype.onPropertyChange=function(e,t,i){switch(n.prototype.onPropertyChange.call(this,e,t,i),e){case"dataset":case"datafield":case"displayfield":case"displaylabel":case"displayexpression":case"orderby":case"usekeys":this._debouncedInitDatasetItems()}},e}(qn),pa={widgetType:"wm-checkboxset",hostClass:"app-checkboxset list-group"},ua=function(o){function e(e,t,i,n){var a=o.call(this,e,pa)||this;return a.groupby=t,a.appDefaults=i,a.datePipe=n,a.layout="",ue(a.nativeElement,a),a.multiple=!0,a.handleHeaderClick=x.noop,a}return v(e,o),e.prototype.onCheckboxLabelClick=function(e,t){if($(e.target).is("input")){var i=this.nativeElement.querySelectorAll("input:checked"),n=[];_.forEach(i,function(e){n.push(e.value)}),this.modelByKey=n,this.invokeOnTouched(),this.invokeOnChange(this.datavalue,e||{},!0)}},e.prototype.handleEvent=function(e,t,i,n){"click"===t?this.eventManager.addEventListener(e,t,function(e){if($(e.target).is("input"))return n.$event=e,i()}):_.includes(["change"],t)||o.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.getGroupedData=function(){return this.datasetItems.length?Vt(this,Mt(this.datasetItems),this.groupby,this.match,this.orderby,this.dateformat,this.datePipe,"dataObject",this.appDefaults):[]},e.prototype.datasetSubscription=function(){var e=this,t=this.dataset$.subscribe(function(){e.groupedData=e.getGroupedData()});this.registerDestroyListener(function(){return t.unsubscribe()})},e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("layout"===e?x.switchClass(this.nativeElement,t,i):"groupby"===e||"match"===e?(this.datasetSubscription(),this.groupedData=this.getGroupedData()):o.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.groupby&&(this.datasetSubscription(),this.groupedData=this.getGroupedData()),this.groupby&&this.collapsible&&(this.handleHeaderClick=Ut,this.toggleAllHeaders=zt.bind(undefined,this))},e.initializeProps=void ge("wm-checkboxset",ca),e.decorators=[{type:h.Component,args:[{selector:"[wmCheckboxset]",exportAs:"wmCheckboxset",template:'<ng-template [ngIf]="!groupby" [ngIfElse]="groupedListTemplate">\n    <li [ngClass]="[\'checkbox\', \'app-checkbox\', itemclass]"\n        [class.active]="item.selected"\n        *ngFor="let item of datasetItems; let i = index"\n        (click)="onCheckboxLabelClick($event, item.key)">\n        <label class="app-checkboxset-label" [ngClass]="{\'disabled\':disabled || readonly}" [title]="item.label">\n            <input [name]="\'checkboxset_\' + widgetId" type="checkbox" aria-label="checkbox group"\n                   [tabindex]="tabindex"\n                   [disabled]="disabled || readonly" [attr.data-attr-index]="i"\n                   [value]="item.key" [tabindex]="tabindex" [checked]="item.selected"/>\n            <span class="caption" [textContent]="item.label"></span>\n        </label>\n    </li>\n</ng-template>\n<input [disabled]="disabled || readonly" hidden class="model-holder">\n<div *ngIf="readonly || disabled" class="readonly-wrapper"></div>\n\n\x3c!-- This template will be displayed when groupby is specified. --\x3e\n<ng-template #groupedListTemplate>\n    <li *ngFor="let groupObj of groupedData" class="app-list-item-group">\n        <ul class="item-group">\n            <li class="list-group-header" (click)="handleHeaderClick($event)" [title]="groupObj.key" [ngClass]="{\'collapsible-content\': collapsible}">\n                <h4 class="group-title">{{groupObj.key}}\n                    <div class="header-action">\n                        <i class="app-icon wi action wi-chevron-up" *ngIf="collapsible" title="{{appLocale.LABEL_COLLAPSE}}/{{appLocale.LABEL_EXPAND}}"></i>\n                        <span *ngIf="showcount" class="label label-default" [textContent]="groupObj.data.length"></span>\n                    </div>\n                </h4>\n            </li>\n            <li *ngFor="let item of groupObj.data; let i = index;"\n                [ngClass]="[\'checkbox\', \'app-checkbox\', \'group-list-item\', itemclass]"\n                [class.active]="item.selected"\n                (click)="onCheckboxLabelClick($event, item)">\n                <label class="app-checkboxset-label" [ngClass]="{\'disabled\':disabled || readonly}" [title]="item.label">\n                    <input [name]="\'checkboxset_\' + widgetId" type="checkbox" aria-label="checkbox group"\n                           [tabindex]="tabindex"\n                           [disabled]="disabled || readonly" [attr.data-attr-index]="i"\n                           [value]="item.key" [tabindex]="tabindex" [checked]="item.selected"/>\n                    <span class="caption" [textContent]="item.label"></span>\n                </label>\n            </li>\n        </ul>\n    </li>\n</ng-template>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["groupby"]}]},{type:x.AppDefaults},{type:Qn}]},e}(da),ha=new Map([["allowonlyselect",Ce],["autofocus",Ce],["chipclass",be],["class",be],["compareby",be],["datafield",be],["dataoptions",Ee],["dataset",y({value:"Option 1, Option 2, Option 3"},Ee)],["datasource",Ee],["datavalue",Ee],["datavaluesource",Ee],["disabled",Ce],["displayexpression",be],["displayfield",be],["displayimagesrc",be],["enablereorder",Ce],["inputposition",y({value:"last"},be)],["inputwidth",y({value:"default"},be)],["limit",we],["loadingdatamsg",y({value:"Loading items..."},be)],["matchmode",be],["maxsize",we],["minchars",y({value:1},we)],["name",be],["navsearchbar",y({value:!1},Ce)],["orderby",be],["placeholder",y({value:"Type here.."},be)],["query",be],["readonly",Ce],["searchkey",be],["shortcutkey",be],["show",y({value:!0},Ce)],["showsearchicon",Ce],["tabindex",y({value:0},we)],["type",y({value:"search"},be)],["debouncetime",y({value:250},we)]]),fa=new Map([["casesensitive",y({value:!1},Ce)],["class",be],["datacompletemsg",y({value:"No more data to load"},be)],["datafield",y({value:"All Fields"},be)],["dataoptions",Ee],["dataset",Ee],["datasource",Ee],["datavalue",be],["datavaluesource",Ee],["disabled",Ce],["displayimagesrc",be],["displaylabel",be],["dropup",Ce],["hint",be],["imagewidth",y({value:"16px"},be)],["limit",we],["loadingdatamsg",y({value:"Loading items..."},be)],["matchmode",be],["minchars",we],["name",be],["navsearchbar",y({value:!1},Ce)],["orderby",be],["placeholder",y({value:"Search"},be)],["position",be],["query",be],["readonly",Ce],["required",Ce],["searchkey",be],["searchon",y({value:"typing"},be)],["shortcutkey",be],["show",y({value:!0},Ce)],["showsearchicon",Ce],["tabindex",y({value:0},we)],["type",y({value:"search"},be)],["debouncetime",y({value:250},we)],["width",be]]),ma=function(){function e(){}return e.prototype.filter=function(n){var a,o=n.dataset,s=n.casesensitive,r=n.query;return new Promise(function(e,t){if(n.searchKey){var i=_.split(n.searchKey,",");a=_.filter(n.dataset,function(n){return i.some(function(e){var t=_.get(n,e),i=r;return s||(t=_.toLower(_.toString(t)),i=_.toLower(_.toString(i))),_.includes(t,i)})})}else a=_.isArray(o)&&_.isObject(o[0])?_.filter(o,function(e){return _.includes(_.toLower(_.values(e).join(" ")),_.toLower(r))}):_.filter(o,function(e){return s||(e=_.toLower(e),r=_.toLower(r)),_.includes(e,r)});e({data:a,hasMoreData:!1,isLastPage:!0})})},e}(),ga=function(){function e(){}return e.prototype.filter=function(t){var i=this;return this.filterData(t).then(function(e){return i.onFilterSuccess(t,e)},function(){return i.onFilterFailure()})},e.prototype.filterData=function(n){if(n.dataoptions){var a=n.dataoptions,o=n.datasource.execute(x.DataSource.Operation.GET_REQUEST_PARAMS,n);if(a.relatedField)return new Promise(function(t,i){lt(n.viewParent,a.filterExpr,function(e){o.filterExpr=a.filterExpr=e,a.filterExpr=e,n.datasource.execute(x.DataSource.Operation.GET_RELATED_TABLE_DATA,_.assign({relatedField:a.relatedField},o)).then(t,i)})});if(a.distinctField)return n.datasource.execute(x.DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS,{pagesize:n.limit||n.pagesize,page:n.page,fields:a.distinctField,entityName:a.tableName,filterFields:_.assign(a.filterFields,o.filterFields),filterExpr:x.getClonedObject(a.filterExpr||{})})}return n.datasource.execute(x.DataSource.Operation.SEARCH_RECORDS,n)},e.prototype.isLast=function(e,t,i,n){return t===x.AppConstants.INT_MAX_VALUE?0!==n&&n<i:e===(i<t?Math.ceil(t/i):t<0?0:1)},e.prototype.getTransformedData=function(e,t){var i=e.operation+"Result",n=t[i];if(n){var a={};_.set(a,i,n),t=[a]}else t=[t];return t},e.prototype.onFilterFailure=function(){return[]},e.prototype.isLastPageForDistinctApi=function(e,t,i,n){return 1<t&&!n&&_.isEmpty(e)&&i===x.AppConstants.INT_MAX_VALUE},e.prototype.onFilterSuccess=function(o,s){var r,l,c,d,p=this,u=s.data,e=_.split(o.binddataset,"."),h=_.slice(e,_.indexOf(e,"dataSet")+1).join(".");return new Promise(function(e,t){var i=s.pagination;if(o.datasource.execute(x.DataSource.Operation.IS_PAGEABLE)&&(c=i.number+1,l=p.isLast(c,0<o.limit&&o.limit||i.totalElements,i.size,i.numberOfElements),d=!0,p.isLastPageForDistinctApi(u,c,i.totalElements,l)))e({data:[],isLastPage:l=!0,hasMoreData:1<c,isPaginatedData:d,page:c});else{if(h){var n=h.lastIndexOf("[$i]"),a=h.substr(n+5);_.isArray(u)?r=u.map(function(e){return x.findValueOf(e,a)}):_.isObject(u)&&(r=_.get(u,h)),u=r||u}_.isArray(u)||(u=p.getTransformedData(o.datasource,u)),u.length?e({data:u,isLastPage:l,hasMoreData:1<c,isPaginatedData:d,page:c}):e({data:[],isLastPage:l,hasMoreData:1<c,isPaginatedData:d,page:c})}})},e}(),va=function(){function e(){}return e.prototype.filter=function(t){var i=this,n=t.datasource&&t.datasource.execute(x.DataSource.Operation.IS_UPDATE_REQUIRED,t.hasData);return(!t.isLocalFilter&&(t.dataoptions||t.datasource&&t.datasource.execute(x.DataSource.Operation.IS_API_AWARE)&&t.searchKey&&n)?e.remoteDataProvider.filter(t):e.localDataProvider.filter(t)).then(function(e){return i.updateDataset=t.datasource&&!t.datasource.execute(x.DataSource.Operation.SUPPORTS_CRUD)&&n,i.hasMoreData=e.hasMoreData,i.isLastPage=e.isLastPage,i.page=e.page,i.isPaginatedData=e.isPaginatedData,e})},e.remoteDataProvider=new ga,e.localDataProvider=new ma,e}(),ya={widgetType:"wm-search",hostClass:"input-group"},ba=function(s){function e(e,t,i){var n=s.call(this,e,ya)||this;n.binddatavalue=t,n.binddataset=i,n.query="",n.page=1,n.allowempty=!1,x.addClass(n.nativeElement,"app-search",!0),n.typeaheadDataSource=u.Observable.create(function(e){if(n.listenQuery){if(n.isMobileAutoComplete()&&!n.$element.hasClass("full-screen"))return void n.renderMobileAutoComplete();n._defaultQueryInvoked=!1,n._loadingItems=!0,e.next(n.query)}n.lastSelectedIndex&&(n.typeahead._container=undefined)}).pipe(r.mergeMap(function(e){return n.getDataSourceAsObservable(e)})),n.dataProvider=new va;var a=n.datavalue$.subscribe(function(e){var t=_.isArray(e)?e[0]:e;if(null===t||""===t)return n._modelByValue="",n.query=n.queryModel="",void(n._lastResult=undefined);n._unsubscribeDv||(n._defaultQueryInvoked=!1,_.isObject(e)||n.prevDatavalue===e||(n._modelByKey=undefined,n.query=n.queryModel=""),n.updateByDatavalue(e))});n.registerDestroyListener(function(){return a.unsubscribe()});var o=n.dataset$.subscribe(function(){n.startIndex=n.datasetItems.length,n.updateByDataset(n.datavalue||n.toBeProcessedDatavalue)});return n.registerDestroyListener(function(){return o.unsubscribe()}),n}return v(e,s),Object.defineProperty(e.prototype,"datasource",{get:function(){return this._datasource},set:function(e){this._datasource=e;var t=this.datavalue||this.toBeProcessedDatavalue;this.updateByDatavalue(t)},enumerable:!0,configurable:!0}),e.prototype.clearSearch=function(e,t){this.query="",this.onInputChange(e),this.dataProvider.isLastPage=!1,this.listenQuery=!1,t&&(this.listenQuery=!0,this._unsubscribeDv=!1,this.loadMoreData()),this.invokeEventCallback("clearsearch")},e.prototype.closeSearch=function(){this._loadingItems=!1,this.page=1,this.insertAtIndex(this.elIndex),this.elIndex=undefined,this.parentEl=undefined,this.$element.removeClass("full-screen"),this._domUpdated&&(this._domUpdated=!1),this.listenQuery=!1,this._unsubscribeDv=!0,this.typeahead.hide()},e.prototype.renderMobileAutoComplete=function(){x.isDefined(this.elIndex)||(this.parentEl=this.$element.parent(),this.elIndex=this.parentEl.children().index(this.$element)),this.$element.hasClass("full-screen")||(this._domUpdated=!0,this.$element.appendTo('div[data-role="pageContainer"]'),this.$element.addClass("full-screen"),"inline"===this.position&&this.$element.addClass(this.position)),this.$element.hasClass("full-screen")&&this.$element.find(".app-search-input").focus()},e.prototype.getDataSourceAsObservable=function(e){return this._lastQuery===e&&!_.get(this.dataoptions,"filterFields")&&x.isDefined(this._lastResult)?(this._loadingItems=!1,u.of(this._lastResult)):(this._lastQuery=this.query,u.from(this.getDataSource(e)))},e.prototype.handleEvent=function(e,t,i,n){_.includes(["blur","focus","select","submit","change"],t)||s.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.highlight=function(e,t){if(this.typeaheadContainer)return e.value=e.item.label.toString(),this.typeaheadContainer.highlight(e,t)},e.prototype.insertAtIndex=function(e){0===e?this.parentEl.prepend(this.$element):this.parentEl.children().eq(e).length?this.$element.insertBefore(this.parentEl.children().eq(e)):this.$element.insertAfter(this.parentEl.children().eq(e-1))},e.prototype.isMobileAutoComplete=function(){return"autocomplete"===this.type&&x.isMobile()},e.prototype.loadMoreData=function(e){this.dataProvider.isLastPage||(this.page=e?this.page+1:this.page,this.isScrolled=!0,this._loadingItems=!0,e&&(this._lastQuery=undefined),this.typeahead.onInput({target:{value:_.trim(this.query)||"0"}}))},e.prototype.onFocusOut=function(){var e=this;this._unsubscribeDv=!1,this._loadingItems=!1,this.page=1,!this._domUpdated&&this._isOpen&&(this.listenQuery=!1,setTimeout(function(){e.typeahead._typeahead.isShown&&e.typeahead.hide()},200)),this._isOpen=!1,this._domUpdated&&this.typeahead&&this.typeahead._container&&(this.typeahead._container.isFocused=!0)},e.prototype.onInputChange=function(e){this.result=[],this.page=1,this.listenQuery=this.isUpdateOnKeyPress(),this._modelByValue=undefined,""===this.query?(this.queryModel="",this._modelByValue="",this.invokeOnChange(this._modelByValue,{},!0),e&&9!==e.which&&this.invokeEventCallback("submit",{$event:e})):this.invokeEventCallback("change",{$event:e,newVal:this._modelByValue||this.query,oldVal:this.prevDatavalue}),this.showClosebtn=""!==this.query},e.prototype.handleEnterEvent=function(e){this.typeahead._container||this.onSelect(e)},e.prototype.onSelect=function(e){if(!this.isUpdateOnKeyPress())return this.listenQuery=!0,void this.typeahead.onInput({target:{value:this.query}});this.typeaheadContainer&&this.liElements.length?this.typeaheadContainer.selectActiveMatch():(this.queryModel=this.query,this.invokeEventCallback("submit",{$event:e}))},e.prototype.onBeforeservicecall=function(e){this.invokeEventCallback("beforeservicecall",{inputData:e})},e.prototype.onDropdownOpen=function(){var e=this;if(_.debounce(function(){e._isOpen=!0,e.typeaheadContainer=e.typeahead._container||e.typeahead._typeahead.instance,e.typeaheadContainer.liElements=e.liElements,e.typeaheadContainer.ulElement=e.ulElement,x.adjustContainerPosition($("typeahead-container"),e.nativeElement,e.typeahead._typeahead,$("typeahead-container .dropdown-menu"))})(),this.isMobileAutoComplete()){var t=this.dropdownEl.closest("typeahead-container");t.insertAfter(this.$element.find("input:first"));var i=this.$element.closest(".app-content").height();t.css({position:"relative",top:0,height:i+"px"}),this.showClosebtn=this.query&&""!==this.query,this.dataProvider.isLastPage||this.triggerSearch()}},e.prototype.selectNext=function(){var e=this.typeaheadContainer.matches;if(e){var t=e.indexOf(this.typeaheadContainer.active);!this._loadingItems&&!this.dataProvider.isLastPage&&t+1>e.length-1&&(this.lastSelectedIndex=t,this.loadMoreData(!0))}},e.prototype.setLastActiveMatchAsSelected=function(){this.lastSelectedIndex&&(this.typeaheadContainer._active=this.typeaheadContainer.matches[this.lastSelectedIndex],this.typeaheadContainer.nextActiveMatch(),this.lastSelectedIndex=undefined)},e.prototype.triggerSearch=function(){if(!this.dataProvider.isLastPage&&this.$element.hasClass("full-screen")){var e=this.dropdownEl,t=e.find("li").last();t.length&&e.length&&e.height()+e.position().top>t.height()+t.position().top&&this.loadMoreData(!0)}},e.prototype.isUpdateOnKeyPress=function(){return"typing"===this.searchon},e.prototype.debounceDefaultQuery=function(e){var t=this;this._defaultQueryInvoked=!0,this.getDataSource(e,!0).then(function(e){e.length?(t.queryModel=e,t._lastQuery=t.query=t.queryModel[0].label||"",t._modelByValue=t.queryModel[0].value,t._modelByKey=t.queryModel[0].key):(t._modelByValue=undefined,t.queryModel=undefined,t.query="")})},e.prototype.updateByDatavalue=function(e){this.updateByDataset(e),this.updateByDataSource(e)},e.prototype.updateByDataSource=function(e){if(x.isDefined(e)&&!_.isObject(e)&&this.datasource&&!x.isDefined(this._modelByKey)&&this.datafield!==it){if(x.isDefined(this.queryModel)&&!_.isEmpty(this.queryModel))return void this.updateDatavalueFromQueryModel();!this._defaultQueryInvoked&&this.datasource.execute(x.DataSource.Operation.SUPPORTS_CRUD)&&this.debounceDefaultQuery(e)}},e.prototype.updateDatavalueFromQueryModel=function(){this._modelByValue=_.isArray(this.queryModel)?this.queryModel[0].value:this.queryModel,this._modelByKey=_.isArray(this.queryModel)?this.queryModel[0].key:this.queryModel,this.toBeProcessedDatavalue=undefined},e.prototype.updateByDataset=function(t){if(!this._defaultQueryInvoked||!this.searchkey){var e=_.find(this.datasetItems,function(e){return _.isObject(e.value)?_.isEqual(e.value,t):_.toString(e.value).toLowerCase()===_.toString(t).toLowerCase()});if(e)this.queryModel=[e];else{if(this.datafield!==it||!_.isObject(t))return this.queryModel=undefined,void(this.query="");this.queryModel=this.getTransformedData(Ft(t))}this.updateDatavalueFromQueryModel(),this._lastQuery=this.query=this.queryModel.length?this.queryModel[0].label:""}},e.prototype.getDataSource=function(t,e,i){var n=this;if(e&&this.datafield===it)return this._loadingItems=!1,Promise.resolve([]);var a={dataset:this.dataset?Mt(this.dataset):undefined,binddataset:this.binddataset,datasource:this.datasource,datafield:this.datafield,hasData:this.dataset&&this.dataset.length,query:t,isLocalFilter:!this.searchkey,searchKey:e?this.datafield:this.searchkey,matchMode:e?"startignorecase":this.matchmode,casesensitive:this.casesensitive,isformfield:this.isformfield,orderby:this.orderby,limit:this.limit,pagesize:this.pagesize,page:this.page,onBeforeservicecall:this.onBeforeservicecall.bind(this)};return this.dataoptions&&(a.dataoptions=this.dataoptions,a.viewParent=this.viewParent),this._loadingItems=!0,this.dataProvider.filter(a).then(function(e){e=e.data||e,x.isDefined(n.dataset)&&n.dataset.length||!n.dataProvider.updateDataset||(n.dataset=e),n.dataProvider.hasMoreData?n.formattedDataset=n.formattedDataset.concat(e):n.formattedDataset=e,20<n.formattedDataset.length&&!x.isDefined(n.limit)&&(n.typeahead.typeaheadOptionsLimit=n.formattedDataset.length),n._isOpen&&n.isMobileAutoComplete()&&!n.dataProvider.isLastPage&&n.triggerSearch();var t=n.getTransformedData(n.formattedDataset,i);return n.result=_.map(t,"value"),t},function(e){return n._loadingItems=!1,[]}).then(function(e){return n.isScrolled&&(_.debounce(function(){n.setLastActiveMatchAsSelected()},30)(),n.isScrolled=!1),e.length||(n._modelByValue=undefined,n.queryModel=t),n._unsubscribeDv&&(e=[]),n._loadingItems=!1,n._lastResult=e})},e.prototype.getTransformedData=function(e,t,i){x.isDefined(t)&&t++;var n=Nt(this.viewParent,e,this.datafield,{displayField:this.displaylabel||this.displayfield,displayExpr:i?"":this.displayexpression,bindDisplayExpr:i?"":this.binddisplaylabel,bindDisplayImgSrc:this.binddisplayimagesrc,displayImgSrc:this.displayimagesrc},t);return $t(n,this.datafield,this.displayfield||this.displaylabel,x.toBoolean(this.allowempty))},e.prototype.onScroll=function(e,t){var i=e.scrollHeight,n=e.clientHeight;!this._loadingItems&&!this.dataProvider.isLastPage&&e.scrollTop+n>=i&&this.loadMoreData(!0)},e.prototype.ngOnInit=function(){s.prototype.ngOnInit.call(this),x.isDefined(this.minchars)||("autocomplete"===this.type?this.minchars=0:this.minchars=1),this.listenQuery=this.isUpdateOnKeyPress(),this.showsearchicon=x.isDefined(this.showsearchicon)?this.showsearchicon:"search"===this.type},e.prototype.ngAfterViewInit=function(){s.prototype.ngAfterViewInit.call(this),ue(this.nativeElement,this)},e.prototype.typeaheadOnSelect=function(e,t){var i=e.item;(this.queryModel=i).selected=!0,this.query=i.label,t=t||this.$typeaheadEvent,this._modelByKey=i.key,this._modelByValue=i.value,this.invokeOnTouched(),this.invokeOnChange(this.datavalue,t||{}),this.$element.hasClass("full-screen")&&this.closeSearch(),this.invokeEventCallback("select",{$event:t,selectedValue:this.datavalue}),this.invokeEventCallback("submit",{$event:t}),this.updatePrevDatavalue(this.datavalue)},e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("displaylabel"===e&&this.dataoptions&&null===this.binddisplaylabel&&(this.query=_.get(this._modelByValue,t)||this._modelByValue),s.prototype.onPropertyChange.call(this,e,t,i))},e.initializeProps=void ge("wm-search",fa),e.decorators=[{type:h.Component,args:[{selector:"[wmSearch]",template:'<ng-template #customItemTemplate let-model="item" let-index="index" let-query="query" let-match="match">\n    <a>\n        <img *ngIf="model.imgSrc" [src]="model.imgSrc" alt="Search" [style.width]="imagewidth">\n        <span [title]="model.label" [innerHtml]="highlight(match, query) || model.label"></span>\n    </a>\n</ng-template>\n\n<ng-template #customListTemplate let-matches="matches" let-itemTemplate="itemTemplate" let-query="query">\n    <ul #ulElement class="app-search dropdown-menu" scrollable>\n        <li #liElements *ngFor="let match of matches" [ngClass]="{active: typeaheadContainer && typeaheadContainer.isActive(match)}"\n            (mouseenter)="typeaheadContainer.selectActive(match);"\n            (click)="typeaheadContainer.selectMatch(match, $event); $typeaheadEvent = $event;">\n            \x3c!-- itemTemplate comes from the <input> --\x3e\n            <ng-container *ngIf="!match.isHeader()" [ngTemplateOutlet]="itemTemplate"\n                          [ngTemplateOutletContext]="{item: match.item, index: i, match: match, query: query}">\n            </ng-container>\n        </li>\n        <div class="status" [hidden]="_loadingItems || !(datacompletemsg && dataProvider.isLastPage)">\n            <span [textContent]="datacompletemsg"></span>\n        </div>\n        <div class="status" [hidden]="!_loadingItems">\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span [textContent]="loadingdatamsg"></span>\n        </div>\n    </ul>\n</ng-template>\n\n\x3c!--This template is for search inside mobile navbar.--\x3e\n<ng-container *ngIf="navsearchbar; else searchTemplate">\n    <input [title]="query || \'\'" type="text" class="app-textbox form-control list-of-objs app-search-input" [placeholder]="placeholder || \'\'"\n           focus-target\n           container="body"\n           [disabled]="disabled"\n           autocomplete="off"\n           [(ngModel)]="query"\n           [readonly]="readonly"\n           [disabled]="disabled"\n           [typeahead]="typeaheadDataSource"\n           [typeaheadWaitMs]="debouncetime"\n           [typeaheadItemTemplate]="customItemTemplate"\n           [optionsListTemplate]="customListTemplate"\n           (input)="onInputChange($event)"\n           (keydown)="listenQuery = true"\n           (keydown.enter)="$typeaheadEvent = $event;"\n           (keydown.arrowdown)="selectNext($event)"\n           (blur)="invokeOnTouched($event)"\n           (focus)="_unsubscribeDv = false; listenQuery = true; invokeOnFocus($event);"\n           (focusout)="onFocusOut()"\n           [typeaheadMinLength]="minchars"\n           [typeaheadOptionsLimit]="limit"\n           (typeaheadLoading)="_loadingItems"\n           (typeaheadOnSelect)="typeaheadOnSelect($event)"\n           typeaheadOptionField="label"\n           [typeaheadAsync]="true"\n           [typeaheadScrollable]="true"\n           [typeaheadOptionsInScrollableView]="optionslimitinscrollableview"\n           [dropup]="dropup"\n           [tabindex]="tabindex"\n           [attr.name]="name"/>\n    <i class="btn-close wi wi-cancel" [hidden]="!showClosebtn" (click)="clearSearch($event);"></i>\n</ng-container>\n\x3c!--This template is for both web and fullscreen mode in mobile.--\x3e\n<ng-template #searchTemplate>\n    <span class="wi wi-arrow-left form-control-feedback back-btn" aria-hidden="true" (click)="closeSearch()"></span>\n    <span class="sr-only">Back button</span>\n    <input [title]="query || \'\'" type="text" class="app-textbox form-control list-of-objs app-search-input" [placeholder]="placeholder || \'\'"\n           focus-target\n           container="body"\n           [disabled]="disabled"\n           autocomplete="off"\n           [(ngModel)]="query"\n           [readonly]="readonly"\n           [typeahead]="typeaheadDataSource"\n           [typeaheadWaitMs]="debouncetime"\n           [typeaheadItemTemplate]="customItemTemplate"\n           [optionsListTemplate]="customListTemplate"\n           (input)="onInputChange($event)"\n           (keydown)="listenQuery = true"\n           (keydown.enter)="$typeaheadEvent = $event;handleEnterEvent($event)"\n           (keydown.arrowdown)="selectNext($event)"\n           (blur)="invokeOnTouched($event)"\n           (focus)="_unsubscribeDv = false; listenQuery = true; invokeOnFocus($event)"\n           (focusout)="onFocusOut()"\n           [typeaheadMinLength]="minchars"\n           [typeaheadOptionsLimit]="limit"\n           (typeaheadLoading)="_loadingItems"\n           (typeaheadOnSelect)="typeaheadOnSelect($event)"\n           typeaheadOptionField="label"\n           [typeaheadAsync]="true"\n           [typeaheadScrollable]="true"\n           [typeaheadOptionsInScrollableView]="optionslimitinscrollableview"\n           [tabindex]="tabindex"\n           [dropup]="dropup"\n           [attr.name]="name">\n    <input class="model-holder" ng-model="proxyModel" ng-required="required" tabindex="-1">\n    <span *ngIf="_loadingItems" aria-hidden="true" class="fa fa-circle-o-notch fa-spin form-control-feedback"></span>\n    <span class="wi wi-close form-control-feedback clear-btn" [hidden]="!showClosebtn" (click)="clearSearch($event, true)"></span>\n    <span class="sr-only">Clear button</span>\n    <span *ngIf="showsearchicon" class="input-group-addon" aria-label="search icon" [ngClass]="{\'disabled\': disabled}">\n        <form>\n            <button title="Search" [disabled]="disabled" class="app-search-button wi wi-search" type="submit"\n                    (click)="onSelect($event)"></button>\n        </form>\n    </span>\n</ng-template>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:undefined,decorators:[{type:h.Attribute,args:["datavalue.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]}]},e.propDecorators={typeahead:[{type:h.ViewChild,args:[d.TypeaheadDirective]}],ulElement:[{type:h.ViewChild,args:["ulElement"]}],liElements:[{type:h.ViewChildren,args:["liElements"]}]},e}(da),wa={widgetType:"wm-chips",hostClass:"app-chips nav nav-pills list-inline"},Ca=function(d){function e(e,t,i,n,a,o,s){var r=d.call(this,e,wa)||this;r.bindDisplayField=t,r.bindDisplayExpr=i,r.bindDisplayImgSrc=n,r.bindDataField=a,r.bindDataSet=o,r.bindChipclass=s,r.chipsList=[],r.maxSizeReached="Max size reached",r._unsubscribeDv=!1,ue(r.nativeElement,r),x.isDefined(r.showsearchicon)||(r.showsearchicon=!1),r.multiple=!0,r.nextItemIndex=0,r._debounceUpdateQueryModel=x.debounce(function(e){r.updateQueryModel(e).then(function(){r.bindChipclass&&_.forEach(r.chipsList,function(e,t){r.registerChipItemClass(e,t)})})},150);var l=r.dataset$.subscribe(function(){r.searchComponent.dataset=r.dataset,r.nextItemIndex=r.datasetItems.length,r._debounceUpdateQueryModel(r.datavalue||r.toBeProcessedDatavalue)});r.registerDestroyListener(function(){return l.unsubscribe()});var c=r.datavalue$.subscribe(function(e){r._unsubscribeDv||(r.chipsList=[],r._debounceUpdateQueryModel(e))});return r.registerDestroyListener(function(){return c.unsubscribe()}),r}return v(e,d),Object.defineProperty(e.prototype,"datasource",{get:function(){return this._datasource},set:function(e){this._datasource=e,this.searchComponent.datasource=e,this._debounceUpdateQueryModel(this.datavalue||this.toBeProcessedDatavalue)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var i=this;d.prototype.ngOnInit.call(this),this.searchComponent.multiple=!0,this.searchComponent.binddisplayimagesrc=this.bindDisplayImgSrc,this.searchComponent.displayimagesrc=this.displayimagesrc,this.searchComponent.binddisplaylabel=this.bindDisplayExpr,this.searchComponent.displaylabel=this.displayfield,this.searchComponent.datafield=this.bindDataField||this.datafield,this.searchComponent.binddataset=this.bindDataSet,this.searchComponent.dataset=this.dataset,this.searchComponent.searchkey=this.searchkey,this.searchComponent.limit=this.limit,this.searchComponent.debouncetime=this.debouncetime,this.searchComponent.matchmode=this.matchmode,this.getTransformedData=function(e,t){return i.searchComponent.getTransformedData([e],i.nextItemIndex++,t)}},e.prototype.ngAfterViewInit=function(){d.prototype.ngAfterViewInit.call(this),this.enablereorder&&this.configureDnD()},e.prototype.registerChipItemClass=function(e,i){var n=this;if(this.bindChipclass){var t=this.widgetId+"_chipItemClass_"+i;x.$unwatch(t),this.registerDestroyListener(x.$watch(this.bindChipclass,this.viewParent,{item:e,$index:i},function(e,t){n.applyItemClass(te(e,t),i)},t))}},e.prototype.applyItemClass=function(e,t){var i=this.nativeElement.querySelectorAll(".chip-item").item(t);$(i).removeClass(e.toRemove).addClass(e.toAdd)},e.prototype.removeDuplicates=function(){this.chipsList=$t(this.chipsList,this.datafield,this.displayfield||this.displaylabel)},e.prototype.updateQueryModel=function(r){var l=this,e=[];if(!r)return this.chipsList=[],Promise.resolve();var t=_.clone(r),c=this.chipsList;this.chipsList=[],this.maxsize&&t.length>this.maxsize&&(this._modelByValue=t=_.slice(t,0,this.maxsize),r=t);var d=[];return t.forEach(function(t,e){var i=_.find(l.datasetItems,function(e){return _.isObject(e.value)?_.isEqual(e.value,t):_.toString(e.value)===_.toString(t)});if(i)l.chipsList.push(i);else if(l.datafield!==it)d.push(t);else if(l.datafield===it){var n=void 0,a=!1;if(_.isObject(t)){var o=c.find(function(e){return _.isEqual(e.value,t)});o&&(a=o.iscustom)}else a=!0,(n=l.createCustomDataModel(t))&&r.splice(e,1,n);n=n||t;var s=l.getTransformedData(n,a)[0];a&&(s.iscustom=a),l.chipsList.push(s)}}),d.length&&e.push(this.getDefaultModel(d,this.nextItemIndex).then(function(e){l.chipsList=l.chipsList.concat(e||[]),t.forEach(function(t,e){if(!_.find(l.chipsList,function(e){return e.value.toString()===t.toString()})){if(l.allowonlyselect){var i=r.indexOf(t);return void(-1<i&&r.splice(i,1))}var n=l.getTransformedData(t,!0)[0];n.iscustom=!0,l.chipsList.push(n)}})})),this.resetSearchModel(!0),Promise.all(e).then(function(){l._modelByValue=r,l.removeDuplicates(),l.updateMaxSize(),x.$appDigest()})},e.prototype.resetSearchModel=function(e){this._unsubscribeDv=!0,this.searchComponent.clearSearch(undefined,!this.minchars&&!e),this._unsubscribeDv=!1},e.prototype.onSelect=function(e){this.searchComponent.liElements.length||this.addItem(e)},e.prototype.addItem=function(e,t){var i,n,a=t;if(a&&x.isDefined(a.datavalue)&&""!==a.queryModel){if(!a.query||!_.trim(a.query))return;n=a.queryModel}else{if(this.allowonlyselect)return;var o=void 0;if(this.datafield===it&&!_.isObject(this.searchComponent.query)&&_.trim(this.searchComponent.query)&&!(o=this.createCustomDataModel(this.searchComponent.query)))return void this.resetSearchModel();var s=o||_.trim(this.searchComponent.query);if(s)(n=this.getTransformedData(s,!0)[0]).iscustom=!0}x.isDefined(n)&&""!==n&&(i=this.invokeEventCallback("beforeadd",{$event:e,newItem:n}),x.isDefined(i)&&!x.toBoolean(i)||(this.isDuplicate(n)?this.resetSearchModel():(this.registerChipItemClass(n,this.chipsList.length),this.chipsList.push(n),this.datavalue?this._modelByValue=E(this._modelByValue,[n.value]):this._modelByValue=[n.value],this._unsubscribeDv=!0,this.invokeOnTouched(),this.invokeOnChange(this._modelByValue,e||{},!0),this.invokeEventCallback("add",{$event:e,$item:n}),this.updateMaxSize(),this.resetSearchModel(),!e||"Enter"!==e.key&&13!==e.keyCode||this.stopEvent(e))))},e.prototype.createCustomDataModel=function(e){var t=this.displayfield||(this.datafield!==it?this.datafield:undefined);if(t){var i={};return i[t]=e,i}},e.prototype.isDuplicate=function(e){return this.datafield===it?-1<_.findIndex(this.chipsList,{value:e.value}):-1<_.findIndex(this.chipsList,{key:e.key})},e.prototype.updateMaxSize=function(){this.saturate=0<this.maxsize&&this.chipsList.length===this.maxsize},e.prototype.getDefaultModel=function(e,t){return this.nextItemIndex++,this.searchComponent.getDataSource(e,!0,t).then(function(t){return _.filter(e,function(e){_.find(t,{value:e})})})},e.prototype.handleChipClick=function(e,t){this.readonly||(e.currentTarget.focus(),this.invokeEventCallback("chipclick",{$event:e,$item:t}))},e.prototype.handleChipFocus=function(e,t){this.readonly||(t.active=!0,this.invokeEventCallback("chipselect",{$event:e,$item:t}))},e.prototype.stopEvent=function(e){e.stopPropagation(),e.preventDefault()},e.prototype.onTextDelete=function(e){x.isAppleProduct&&this.onInputClear(e)},e.prototype.onInputClear=function(e){this.chipsList&&this.chipsList.length&&!this.searchComponent.query&&(this.$element.find("li.chip-item > a.app-chip:last").focus(),this.stopEvent(e))},e.prototype.onBackspace=function(e,t,i){this.readonly||this.removeItem(e,t,i,!0)},e.prototype.onDelete=function(e,t,i){this.readonly||this.removeItem(e,t,i)},e.prototype.onArrowLeft=function(e,t){this.readonly||(this.searchComponent.query||x.isDefined(t)||x.isDefined(e)?0<t?this.$element.find("li.chip-item > a.app-chip").get(t-1).focus():this.focusSearchBox():this.$element.find("li.chip-item > a.app-chip:last").focus())},e.prototype.onArrowRight=function(e,t){this.readonly||(this.searchComponent.query||x.isDefined(t)||x.isDefined(e)?t<this.chipsList.length-1?this.$element.find("li.chip-item > a.app-chip").get(t+1).focus():this.focusSearchBox():this.$element.find("li.chip-item > a.app-chip:first").focus())},e.prototype.focusSearchBox=function(){this.$element.find(".app-chip-input > input.app-textbox").focus()},e.prototype.removeItem=function(e,t,i,n){var a=this;e.stopPropagation();var o=_.isArray(i)?i:[i],s=_.max(o),r=_.reduce(o,function(e,t){return e.push(a.chipsList[t]),e},[]),l=this.invokeEventCallback("beforeremove",{$event:e,$item:1===r.length?r[0]:r});if(!x.isDefined(l)||x.toBoolean(l)){var c=_.clone(this.datavalue);setTimeout(function(){var e=a.chipsList.length,t=a.$element.find("li.chip-item > a.app-chip");e&&n?e-1<s?t.get(e-1).focus():(a.chipsList[s].active=!0,t.get(s).focus()):a.focusSearchBox()}),_.pullAt(this.chipsList,o).forEach(function(t){a._modelByValue=_.filter(a._modelByValue,function(e){return!(_.isObject(e)?_.isEqual(e,t.value):_.toString(e)===_.toString(t.value))})}),this._unsubscribeDv=!1,this.invokeOnChange(this._modelByValue,e,!0),this.invokeEventCallback("change",{$event:e,newVal:this.datavalue,oldVal:c}),this.updateMaxSize(),this.invokeEventCallback("remove",{$event:e,$item:1===r.length?r[0]:r})}},e.prototype.swapElementsInArray=function(e,t,i){var n=_.pullAt(e,i)[0];e.splice(t,0,n)},e.prototype.resetReorder=function(){this.$element.removeData("oldIndex")},e.prototype.onBeforeservicecall=function(e){this.invokeEventCallback("beforeservicecall",{inputData:e})},e.prototype.handleEvent=function(e,t,i,n){"remove"!==t&&"beforeremove"!==t&&"chipselect"!==t&&"chipclick"!==t&&"add"!==t&&"reorder"!==t&&"change"!==t&&d.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.configureDnD=function(){qt(this.$element,{items:"> li:not(.app-chip-search)",placeholder:"chip-placeholder"},this.onReorderStart.bind(this),this.update.bind(this))},e.prototype.onReorderStart=function(e,t){var i=t.helper;i.width(i.width()+1),this.$element.data("oldIndex",t.item.index()-("first"===this.inputposition?1:0))},e.prototype.update=function(e,t){var i,n,a;if(n=t.item.index()-("first"===this.inputposition?1:0),i={oldIndex:a=this.$element.data("oldIndex"),newIndex:n=this.chipsList.length===n?n-1:n,item:this.chipsList[a]},n!==a){i.item=this.chipsList[a];var o=this.invokeEventCallback("beforereorder",{$event:e,$data:this.chipsList,$changedItem:i});x.isDefined(o)&&!1===x.toBoolean(o)?this.resetReorder():(this.swapElementsInArray(this.chipsList,n,a),this.swapElementsInArray(this._modelByValue,n,a),i.item=this.chipsList[n],this.chipsList=E(this.chipsList),this.resetReorder(),this.invokeEventCallback("reorder",{$event:e,$data:this.chipsList,$changedItem:i}))}else this.resetReorder()},e.prototype.onPropertyChange=function(e,t,i){var n=this;if("tabindex"!==e){if("dataoptions"===e&&(this.searchComponent.dataoptions=t),"datafield"===e&&(this.searchComponent.datafield=this.datafield),"displayfield"===e&&(this.searchComponent.displaylabel=this.displayfield),"displayexpression"===e&&(this.searchComponent.binddisplaylabel=this.binddisplayexpression?this.binddisplayexpression:this.displayexpression),"displayimagesrc"===e&&(this.searchComponent.binddisplayimagesrc=this.binddisplayimagesrc?this.binddisplayimagesrc:this.displayimagesrc),"limit"===e&&(this.searchComponent.limit=this.limit),"enablereorder"===e&&(this.$element.hasClass("ui-sortable")?this.$element.sortable("option","disabled",!t):t&&this.configureDnD()),"readonly"===e&&(t?this.$element.addClass("readonly"):this.$element.removeClass("readonly")),"inputposition"===e){var a=this.$element.find("li.app-chip-search");"first"===t?this.$element.prepend(a):this.$element.append(a)}"autofocus"===e&&t&&setTimeout(function(){var e=n.$element.find(".app-chip-input > input.app-textbox");e&&e.length&&n.focusSearchBox()}),d.prototype.onPropertyChange.call(this,e,t,i)}},e.initializeProps=void ge("wm-chips",ha),e.decorators=[{type:h.Component,args:[{selector:"[wmChips]",template:'<li class="chip-item" role="option" *ngFor="let item of chipsList; let $index = index;"\n    [ngClass]="{\'active\': item.active, \'disabled\': disabled}">\n    <a class="app-chip" href="javascript:void(0);" tabindex="-1"\n       (click)="handleChipClick($event, item)"\n       (keydown.delete)="onDelete($event, item, $index)"\n       (keydown.backspace)="onBackspace($event, item, $index)"\n       (keydown.arrowleft)="onArrowLeft(item, $index)"\n       (keydown.arrowright)="onArrowRight(item, $index)"\n       (focus)="handleChipFocus($event, item)"\n       (blur)="readonly ? 0 : item.active = false"\n       [ngClass]="{\'chip-duplicate bg-danger\': item.isDuplicate, \'chip-picture\': item.imgSrc}">\n        <img data-identifier="img" alt="Chip Image" class="button-image-icon" [src]="item.imgSrc" *ngIf="item.imgSrc"/>\n        <span class="app-chip-title" [textContent]="item.label" [title]="item.label"></span>\n        <button type="button" tabindex="-1" arial-label="Clear Button" class="btn btn-transparent" (click)="removeItem($event, item, $index);" *ngIf="!readonly">\n            <i class="app-icon wi wi-close"></i>\n        </button>\n    </a>\n</li>\n<li class="app-chip-search" [ngClass]="{\'full-width\': inputwidth === \'full\'}">\n    <div #search wmSearch class="app-chip-input"\n         name="app-chip-search"\n         submit.event="addItem($event, widget)"\n         beforeservicecall.event="onBeforeservicecall(inputData)"\n         disabled.bind="disabled || readonly || saturate"\n         datafield.bind="datafield"\n         allowonlyselect.bind="allowonlyselect"\n         searchkey.bind="searchkey"\n         orderby.bind="orderby"\n         placeholder.bind="saturate ? maxSizeReached : placeholder"\n         showsearchicon.bind="showsearchicon"\n         tabindex.bind="tabindex"\n         minchars.bind="minchars"\n         debouncetime.bind="debouncetime"\n         matchmode.bind="matchmode"\n         (keydown.enter)="onSelect($event)"\n         (keydown.delete)="onTextDelete($event)"\n         (keydown.backspace)="onInputClear($event)"\n         (keydown.arrowleft)="onArrowLeft()"\n         (keydown.arrowright)="onArrowRight()">\n    </div>\n</li>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:undefined,decorators:[{type:h.Attribute,args:["displayfield.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["displayexpression.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["displayimagesrc.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["datafield.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["chipclass.bind"]}]}]},e.propDecorators={searchComponent:[{type:h.ViewChild,args:[ba]}]},e}(da),Ea={widgetType:"wm-form-group",hostClass:"form-group app-composite-widget clearfix"},xa={left:"caption-left",right:"caption-right",top:"caption-top"},Da=function(n){function e(e){var t=n.call(this,e,Ea)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){"captionposition"===e?x.switchClass(this.nativeElement,xa[t],xa[i]):"required"===e?(this.required=t,this.assignRequiredToSubComponents()):n.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.assignRequiredToSubComponents=function(){var e=this;this.required&&this.componentRefs&&setTimeout(function(){e.componentRefs.forEach(function(e){return e.widget.required=!0})},50)},e.prototype.ngAfterViewInit=function(){n.prototype.ngAfterViewInit.call(this),x.addForIdAttributes(this.nativeElement),this.assignRequiredToSubComponents()},e.initializeProps=void ge("wm-form-group",new Map([["captionposition",be],["name",be],["required",Ce],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"div[wmComposite]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={componentRefs:[{type:h.ContentChildren,args:[k,{descendants:!0}]}]},e}($e),ka={widgetType:"wm-confirmdialog"},_a=function(a){function e(e,t,i,n){null!==i&&i!==undefined||(i=!1),null!==n&&n!==undefined||(n=!0);return a.call(this,e,ka,{"class":"app-dialog modal-dialog app-confirm-dialog "+(t||""),backdrop:"static",keyboard:!x.toBoolean(i)})||this}return v(e,a),e.prototype.getTemplateRef=function(){return this.dialogTemplate},e.prototype.onOk=function(e){this.invokeEventCallback("ok",{$event:e})},e.prototype.onCancel=function(e){this.invokeEventCallback("cancel",{$event:e})},e.prototype.ngOnInit=function(){a.prototype.ngOnInit.call(this),this.register(this.viewParent)},e.initializeProps=void ge("wm-confirmdialog",new Map([["animation",be],["canceltext",y({value:"CANCEL"},be)],["class",be],["closable",{value:!0,PROP_BOOLEAN:Ce}],["iconclass",{value:"wi wi-done",PROP_STRING:be}],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["message",y({value:"I am confirm box!"},be)],["modal",y({value:!1},Ce)],["name",be],["oktext",y({value:"OK"},be)],["tabindex",y({value:0},we)],["title",y({value:"Confirm"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmConfirmDialog]",template:'<ng-template #dialogTemplate>\n    <div wmDialogHeader [closable]="closable"\n         [iconclass]="iconclass"\n         [iconurl]="iconurl"\n         [iconwidth]="iconwidth"\n         [iconheight]="iconheight"\n         [iconmargin]="iconmargin"\n         [heading]="title"></div>\n    <div wmDialogBody>\n        <p class="app-dialog-message {{messageclass}}" [attr.aria-describedby]="message">{{message}}</p>\n    </div>\n    <div wmDialogFooter>\n        <button wmButton class="btn-default btn-secondary cancel-action" caption.bind="canceltext" aria-label="Cancel button" (click)="onCancel($event)"></button>\n        <button wmButton class="btn-primary ok-action" caption.bind="oktext" aria-label="Submit button" (click)="onOk($event)"></button>\n    </div>\n</ng-template>\n',providers:[z(e),U(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["class"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["modal"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["closable"]}]}]},e.propDecorators={dialogTemplate:[{type:h.ViewChild,args:["dialogTemplate"]}]},e}(qe),Ia="app-container",Pa={widgetType:"wm-container",hostClass:Ia},Sa=function(i){function e(e){var t=i.call(this,e,Pa)||this;return x.addClass(t.nativeElement,Ia),ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-container",new Map([["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["content",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmContainer]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Ta={widgetType:"wm-content",hostClass:"app-content clearfix"},Oa=function(i){function e(e){var t=i.call(this,e,Ta)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-content",new Map([["name",be],["class",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmContent]",template:'<div class="row app-content-row clearfix">\n    <ng-content></ng-content>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Aa=new Map([["class",be],["currency",y({value:"USD"},be)],["datavalue",be],["disabled",Ce],["hint",be],["maxvalue",we],["minvalue",we],["name",be],["placeholder",y({value:"Enter value"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["step",y({value:1},we)],["tabindex",y({value:0},we)]]),Ra=function(a){function e(e,t){var i=a.call(this,e,t)||this;i.ngModelOptions={updateOn:""};var n=i.nativeElement.getAttribute("updateon")||"blur";return n="default"===n?"change":n,i.ngModelOptions.updateOn=n,i}return v(e,a),e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("class"===e?this.inputEl.nativeElement&&x.switchClass(this.inputEl.nativeElement,t,i):"datavalue"===e?this.updatePrevDatavalue(t):a.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.handleChange=function(e){this.invokeOnChange(this.datavalue,{type:"change"},this.ngModel.valid)},e.prototype.handleEvent=function(e,t,i,n){"change"!==t&&"blur"!==t&&a.prototype.handleEvent.call(this,this.inputEl.nativeElement,t,i,n)},e.prototype.handleBlur=function(e){this.invokeOnTouched(e)},e.prototype.flushViewChanges=function(e){this.ngModel.update.next(e),x.$appDigest()},e.prototype.ngAfterViewInit=function(){a.prototype.ngAfterViewInit.call(this),this["class"]&&x.addClass(this.inputEl.nativeElement,this["class"]),ue(this.inputEl.nativeElement,this)},e}(qn),La=function(o){function e(e,t,i,n){var a=o.call(this,e,t)||this;return a.decimalPipe=n,a.isDefaultQuery=!0,a.selectedLocale=i.getSelectedLocale(),a.DECIMAL=s.getLocaleNumberSymbol(a.localefilter||a.selectedLocale,s.NumberSymbol.Decimal),a.GROUP=s.getLocaleNumberSymbol(a.localefilter||a.selectedLocale,s.NumberSymbol.Group),a.numberfilter="1.0-16",a.resetValidations(),a}return v(e,o),Object.defineProperty(e.prototype,"datavalue",{get:function(){return this.proxyModel},set:function(e){if(_.includes([null,undefined,""],e)){var t=this.inputEl.nativeElement;return this.displayValue=t.value=this.proxyModel=null,this.resetValidations(),void this._onChange()}this.isDefaultQuery&&(e=this.transformNumber(e));var i=this.parseNumber(e.toString());this.isValid(i)?(this.proxyModel=i,this.updateDisplayText(),this.handleChange(i)):(this.displayValue=e.toString(),this.proxyModel=null,this.handleChange(null))},enumerable:!0,configurable:!0}),e.prototype.resetValidations=function(){this.isInvalidNumber=!1,this.numberNotInRange=!1},e.prototype.isValid=function(e){return _.isNaN(e)||!_.isFinite(e)?!(this.isInvalidNumber=!0):e!==this.getValueInRange(e)?this.numberNotInRange=!0:(this.resetValidations(),!0)},e.prototype.getValueInRange=function(e){return!_.isNaN(this.minvalue)&&e<this.minvalue?this.minvalue:!_.isNaN(this.maxvalue)&&e>this.maxvalue?this.maxvalue:e},e.prototype.transformNumber=function(e){return this.decimalPipe.transform(e,this.numberfilter,this.localefilter||this.selectedLocale)},e.prototype.resetCursorPosition=function(e){var t=this.inputEl.nativeElement,i=t.value.length-e;i=i<0?0:i,t.setSelectionRange(i,i)},e.prototype.parseNumber=function(e){var t=e.split(this.DECIMAL);if(!t.length)return null;if(2<t.length)return NaN;if(""===t[1])return NaN;var i=Number(t[0].split(this.GROUP).join("")),n=Number("0."+(t[1]||0));return Number.isNaN(i)||Number.isNaN(n)?NaN:0<=i?i+n:i-n},e.prototype.updateDisplayText=function(){var e=this.inputEl.nativeElement,t=e.selectionStart,i=e.value;this.displayValue=e.value=this.transformNumber(this.proxyModel),"default"!==this.updateon||this.isDefaultQuery||this.resetCursorPosition(i.length-t)},e.prototype.countDecimals=function(e){return e%1!=0?e.toString().split(".")[1].length:0},e.prototype.onArrowPress=function(e,t){if(e.preventDefault(),!this.readonly&&0!==this.step){var i,n=this.proxyModel;if(this.numberNotInRange){var a=this.parseNumber(this.inputEl.nativeElement.value);_.isNaN(a)||(i=this.getValueInRange(a),n=a,this.resetValidations())}else _.isUndefined(n)||_.isNull(n)?(n=i=this.getValueInRange(this.minvalue||0),this.resetValidations()):i=this.getValueInRange(n+("UP"===t?this.step:-this.step));if("UP"===t&&n<=i||"DOWN"===t&&i<=n){var o=Math.max(this.countDecimals(n),this.countDecimals(this.step));this.proxyModel=_.round(i,o),this.updateDisplayText(),this.handleChange(this.proxyModel)}}},e.prototype.validate=function(e){return this.isInvalidNumber?{invalidNumber:{valid:!1}}:this.numberNotInRange?{numberNotInRange:{valid:!1}}:null},e.prototype.validateInputEntry=function(e){if(this.isDefaultQuery=!1,!e.ctrlKey&&!_.includes(["Backspace","ArrowRight","ArrowLeft","Tab","Enter"],e.key)){var t=new RegExp("^[\\d\\s-,.e+"+this.GROUP+this.DECIMAL+"]$","i"),i=e.target.value;return!!t.test(e.key)&&((!_.includes(i,this.DECIMAL)||e.key!==this.DECIMAL)&&((!_.intersection(_.toArray(i),["e","E"]).length||!_.includes("eE",e.key))&&((!_.includes(i,"+")&&!_.includes(i,"-")||"+"!==e.key&&"-"!==e.key)&&void 0)))}},e.prototype.onEnter=function(e){this.datavalue=e.target.value},e}(Ra),Fa={widgetType:"wm-currency",hostClass:"input-group app-currency"},Ma=function(n){function e(e,t,i){return n.call(this,e,Fa,t,i)||this}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){"currency"===e?this.currencySymbol=x.CURRENCY_INFO[this.currency||"USD"].symbol:n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-currency",Aa),e.decorators=[{type:h.Component,args:[{selector:"[wmCurrency]",template:'<span class="input-group-addon" [textContent]="currencySymbol"></span>\n<input class="form-control app-textbox app-currency-input"\n       #input\n       role="input"\n       type="text"\n       focus-target\n       [autofocus]="autofocus"\n       [readonly]="readonly"\n       [disabled]="disabled"\n       [required]="required"\n       [pattern]="regexp"\n       [attr.name]="name"\n       [attr.aria-label]="name"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [ngModel]="displayValue"\n       [ngModelOptions]="ngModelOptions"\n\n       (blur)="handleBlur($event)"\n       (ngModelChange)="datavalue=$event"\n       (keypress)="validateInputEntry($event)"\n       (keydown.enter)="onEnter($event)"\n       (keydown.ArrowUp)="onArrowPress($event, \'UP\')"\n       (keydown.ArrowDown)="onArrowPress($event, \'DOWN\')">',providers:[j(e),W(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.AbstractI18nService},{type:s.DecimalPipe}]},e.propDecorators={ngModel:[{type:h.ViewChild,args:[p.NgModel]}],inputEl:[{type:h.ViewChild,args:["input",{read:h.ElementRef}]}]},e}(La),Na=new Map([["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["datepattern",be],["disabled",Ce],["excludedays",be],["excludedates",be],["hint",be],["maxdate",be],["mindate",be],["name",be],["outputformat",y({value:"yyyy-MM-dd"},be)],["placeholder",y({value:"Select Date"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["showdropdownon",y({value:"default"},be)],["showbuttonbar",y({value:!0},Ce)],["showindevice",y({displayType:"inline-block",value:"all"},be)],["showweeks",y({value:!1},Ce)],["tabindex",y({value:0},we)]]),$a="CURRENT_DATE",Va=["January","February","March","April","May","June","July","August","September","October","November","December"],Ba="default",Wa=function(a){function e(e,t){var i=a.call(this,e,t)||this;return i.useDatapicker=!0,i._dateOptions=new d.BsDatepickerConfig,i.datePipe=i.inj.get(Qn),i}return v(e,a),e.prototype.isDropDownDisplayEnabledOnInput=function(e){return e===Ba},e.prototype.showValidation=function(e,t,i,n){if(i)return alert(n),$(e.target).val(t)},e.prototype.resetDisplayInput=function(){$(this.nativeElement).find(".display-input").val("")},e.prototype.validate=function(){return this.invalidDateTimeFormat?{invalidDateTimeFormat:{valid:!1}}:!_.isUndefined(this.dateNotInRange)&&this.dateNotInRange?{dateNotInRange:{valid:!1}}:!_.isUndefined(this.timeNotInRange)&&this.timeNotInRange?{timeNotInRange:{valid:!1}}:null},e.prototype.formatValidation=function(e,t,i){var n=this.datepattern||this.timepattern,a=x.getFormattedDate(this.datePipe,e,n);if(t=t.trim())if("timestamp"===n){if(!_.isNaN(t)&&_.parseInt(t)!==a)return this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,undefined,!1),!1}else if(i&&(t=x.getFormattedDate(this.datePipe,t,n)),t!==a)return this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,undefined,!1),!1;return!0},e.prototype.minDateMaxDateValidationOnInput=function(e,t,i,n){var a=this;if(e){e=moment(e).startOf("day").toDate();var o=moment(x.getDateObj(this.mindate)).startOf("day").toDate(),s=moment(x.getDateObj(this.maxdate)).startOf("day").toDate();if(this.mindate&&e<o){var r=this.appLocale.LABEL_MINDATE_VALIDATION_MESSAGE+" "+this.mindate+".";return this.dateNotInRange=!0,this.invokeOnChange(this.datavalue,undefined,!1),this.showValidation(t,i,n,r)}if(this.maxdate&&s<e){r=this.appLocale.LABEL_MAXDATE_VALIDATION_MESSAGE+" "+this.maxdate+".";return this.dateNotInRange=!0,this.invokeOnChange(this.datavalue,undefined,!1),this.showValidation(t,i,n,r)}if(this.excludedates){if(-1<(x.isString(this.excludedates)?_.split(this.excludedates,","):this.excludedates).map(function(e){return x.getFormattedDate(a.datePipe,e,a.datepattern)}).indexOf(x.getFormattedDate(this.datePipe,e,this.datepattern)))return this.dateNotInRange=!0,void this.invokeOnChange(this.datavalue,undefined,!1)}if(this.excludedays)if(-1<_.split(this.excludedays,",").indexOf(e.getDay().toString()))return this.dateNotInRange=!0,void this.invokeOnChange(this.datavalue,undefined,!1)}n||(this.dateNotInRange=!1,this.invokeOnChange(this.datavalue,undefined,!1))},e.prototype.hightlightToday=function(){var t=(new Date).getDate().toString();_.filter($("span:contains("+t+")").not(".is-other-month"),function(e){$(e).text()===t&&$(e).addClass("current-date text-info")})},e.prototype.isOtheryear=function(e){return 0===e.getMonth()&&11===this.activeDate.getMonth()||11===e.getMonth()&&0===this.activeDate.getMonth()},e.prototype.setActiveDateFocus=function(i,e){var n=this,t=this.activeDate.getMonth();e||(i.getMonth()<t?this.isOtheryear(i)?this.goToOtherMonthOryear("next","days"):this.goToOtherMonthOryear("previous","days"):i.getMonth()>t&&(this.isOtheryear(i)?this.goToOtherMonthOryear("previous","days"):this.goToOtherMonthOryear("next","days"))),setTimeout(function(){i.getMonth()===(new Date).getMonth()&&i.getFullYear()===(new Date).getFullYear()&&n.hightlightToday();var t=i.getDate().toString();_.filter($("span:contains("+t+")").not(".is-other-month"),function(e){$(e).text()===t&&($(e).focus(),n.activeDate=i)})})},e.prototype.goToOtherMonthOryear=function(e,t){var i=$(".bs-datepicker-head ."+e);i.attr("disabled")||(i.trigger("click"),"days"===t?this.loadDays():"month"===t?this.loadMonths():"year"===t&&this.loadYears())},e.prototype.addDatepickerMouseEvents=function(){var t=this,e=$(".bs-datepicker-head");e.find(".previous").click(function(e){e.originalEvent&&t.setFocusForDate(-1)}),e.find(".next").click(function(e){e.originalEvent&&t.setFocusForDate(1)}),e.find(".current").click(function(e){e.originalEvent&&t.setFocusForCurrentMonthOryear()}),$(".bs-datepicker-body").click(function(e){e.stopPropagation(),e.originalEvent&&t.setFocusForMonthOrDay()})},e.prototype.setFocusForMonthOrDay=function(){var e=$(".bs-datepicker-head .current").first().text(),t=$(".bs-datepicker-body");if(0<t.find("table.months").length){_.parseInt(e)!==this.activeDate.getFullYear()&&this.loadMonths();var i=new Date(_.parseInt(e),this.activeDate.getMonth(),this.activeDate.getDate());this.setActiveMonthFocus(i,!0)}else if(0<t.find("table.days").length){var n=Va.indexOf(e);n!==this.activeDate.getMonth()&&this.loadDays();i=new Date(this.activeDate.getFullYear(),n,1);this.setActiveDateFocus(i,!0)}},e.prototype.setFocusForCurrentMonthOryear=function(){var e=$(".bs-datepicker-body");0<e.find("table.months").length?(this.loadMonths(),this.setActiveMonthFocus(this.activeDate,!0)):0<e.find("table.years").length&&(this.loadYears(),this.setActiveYearFocus(this.activeDate,!0))},e.prototype.setFocusForDate=function(e){var t=$(".bs-datepicker-body");if(0<t.find("table.months").length){this.loadMonths();var i=new Date(this.activeDate.getFullYear()+e,0,this.activeDate.getDate());this.setActiveMonthFocus(i,!0)}else if(0<t.find("table.years").length){this.loadYears();var n=t.find("table.years span").first().text();i=new Date(_.parseInt(n),this.activeDate.getMonth(),this.activeDate.getDate());this.setActiveYearFocus(i,!0)}else if(0<t.find("table.days").length){this.loadDays();i=new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+e,1);this.setActiveDateFocus(i,!0)}},e.prototype.addDatepickerKeyboardEvents=function(e,n){var a=this;this.keyEventPluginInstance=e.keyEventPlugin.constructor,this.elementScope=e;var t=document.querySelector("."+e.dateContainerCls);x.setAttr(t,"tabindex","0"),t.onkeydown=function(e){var t=a.keyEventPluginInstance.getEventFullKey(e);if("shift.tab"===t||"escape"===t||"tab"===t&&!n){a.elementScope.hideDatepickerDropdown();var i=a.elementScope.nativeElement.querySelector(".display-input");setTimeout(function(){return i.focus()})}"tab"===t&&n&&(a.bsDatePickerDirective.hide(),a.elementScope.toggleTimePicker(!0))},this.loadDays(),this.setActiveDateFocus(this.activeDate)},e.prototype.loadDays=function(){var e=this;setTimeout(function(){$(".bs-datepicker-body").attr("tabindex","0"),$("[bsdatepickerdaydecorator]").not(".is-other-month").attr("tabindex","0"),e.addKeyBoardEventsForDays(),e.addDatepickerMouseEvents()})},e.prototype.addKeyBoardEventsForDays=function(){var a=this,e=$(".bs-datepicker-body");0<e.length&&e[0].addEventListener("mouseenter",function(e){e.stopPropagation()},!0),e.keydown(function(e){var t,i=a.keyEventPluginInstance.getEventFullKey(e);if("arrowdown"===i)e.preventDefault(),t=moment(a.activeDate).add(7,"days").toDate(),a.setActiveDateFocus(t);else if("arrowup"===i)e.preventDefault(),t=moment(a.activeDate).add(-7,"days").toDate(),a.setActiveDateFocus(t);else if("arrowleft"===i)t=moment(a.activeDate).add(-1,"days").toDate(),a.setActiveDateFocus(t);else if("arrowright"===i)t=moment(a.activeDate).add(1,"days").toDate(),a.setActiveDateFocus(t);else if("control.arrowup"===i)$(".bs-datepicker-head .current").first().click(),a.loadMonths(),a.setActiveMonthFocus(a.activeDate);else if("enter"===i){if($(document.activeElement).hasClass("disabled"))return;$(document.activeElement).click(),a.elementScope.hideDatepickerDropdown();var n=a.elementScope.nativeElement.querySelector(".display-input");setTimeout(function(){return n.focus()})}})},e.prototype.loadMonths=function(){var t=this;setTimeout(function(){var e=$(".bs-datepicker-body");e.attr("tabindex","0"),e.find("table.months span").attr("tabindex","0"),t.addKeyBoardEventsForMonths(),t.addDatepickerMouseEvents()})},e.prototype.addKeyBoardEventsForMonths=function(){var a=this;$(".bs-datepicker-body").keydown(function(e){var t,i=a.keyEventPluginInstance.getEventFullKey(e);if("arrowdown"===i)e.preventDefault(),t=moment(a.activeDate).add(3,"month").toDate(),a.setActiveMonthFocus(t);else if("arrowup"===i)e.preventDefault(),t=moment(a.activeDate).add(-3,"month").toDate(),a.setActiveMonthFocus(t);else if("arrowleft"===i)t=moment(a.activeDate).add(-1,"month").toDate(),a.setActiveMonthFocus(t);else if("arrowright"===i)t=moment(a.activeDate).add(1,"month").toDate(),a.setActiveMonthFocus(t);else if("control.arrowup"===i)$(".bs-datepicker-head .current").first().click(),a.loadYears(),a.setActiveYearFocus(a.activeDate);else if("control.arrowdown"===i||"enter"===i){if($(document.activeElement).parent().hasClass("disabled"))return;$(document.activeElement).click(),a.loadDays();var n=new Date(a.activeDate.getFullYear(),a.activeDate.getMonth(),1);a.setActiveDateFocus(n)}})},e.prototype.loadYears=function(){var t=this;setTimeout(function(){var e=$(".bs-datepicker-body");e.attr("tabindex","0"),e.find("table.years span").attr("tabindex","0"),t.addKeyBoardEventsForYears(),t.addDatepickerMouseEvents()})},e.prototype.setActiveMonthFocus=function(e,t){var i=this,n=Va[e.getMonth()];t||(e.getFullYear()<this.activeDate.getFullYear()?this.goToOtherMonthOryear("previous","month"):e.getFullYear()>this.activeDate.getFullYear()&&this.goToOtherMonthOryear("next","month")),setTimeout(function(){$(".bs-datepicker-body table.months span:contains("+n+")").focus(),i.activeDate=e})},e.prototype.addKeyBoardEventsForYears=function(){var n=this;$(".bs-datepicker-body").keydown(function(e){var t,i=n.keyEventPluginInstance.getEventFullKey(e);if("arrowdown"===i)e.preventDefault(),t=moment(n.activeDate).add(4,"year").toDate(),n.setActiveYearFocus(t);else if("arrowup"===i)e.preventDefault(),t=moment(n.activeDate).add(-4,"year").toDate(),n.setActiveYearFocus(t);else if("arrowleft"===i)t=moment(n.activeDate).add(-1,"year").toDate(),n.setActiveYearFocus(t);else if("arrowright"===i)t=moment(n.activeDate).add(1,"year").toDate(),n.setActiveYearFocus(t);else if("control.arrowdown"===i||"enter"===i){if($(document.activeElement).parent().hasClass("disabled"))return;$(document.activeElement).click(),n.loadMonths(),n.setActiveMonthFocus(n.activeDate)}})},e.prototype.setActiveYearFocus=function(e,t){var i=this,n=e.getFullYear(),a=$(".bs-datepicker-body table.years span"),o=a.first().text(),s=a.last().text();t||(e.getFullYear()<_.parseInt(o)?this.goToOtherMonthOryear("previous","year"):e.getFullYear()>_.parseInt(s)&&this.goToOtherMonthOryear("next","year")),setTimeout(function(){$(".bs-datepicker-body table.years span:contains("+n+")").focus(),i.activeDate=e})},e.prototype.focusTimePickerPopover=function(e){this.keyEventPluginInstance=e.keyEventPlugin.constructor,this.elementScope=e,this.elementScope.ngZone.runOutsideAngular(function(){setTimeout(function(){$("timepicker .form-group:first > input.form-control").focus()})})},e.prototype.bindTimePickerKeyboardEvents=function(){var t=this;setTimeout(function(){var e=$("body").find("> bs-dropdown-container timepicker");e.attr("tabindex",0),t.addEventsOnTimePicker(e)})},e.prototype.isValidDate=function(e){return e&&e instanceof Date&&!isNaN(e.getTime())},e.prototype.timeFormatValidation=function(){var e=$(this.nativeElement).find("input").val(),t=x.getNativeDateObject(e);this.formatValidation(t,e)&&(this.invalidDateTimeFormat=!1,this.invokeOnChange(this.datavalue,undefined,!1))},e.prototype.addEventsOnTimePicker=function(e){var l=this;e.on("keydown",function(e){var t,i,n=$(e.target),a=n.parent(),o=l.elementScope,s=l.keyEventPluginInstance.getEventFullKey(e);if("escape"===s&&o.hideTimepickerDropdown(),n.hasClass("bs-timepicker-field")){if(a.is(":first-child")?"shift.tab"!==s&&"enter"!==s&&"escape"!==s||(o.setIsTimeOpen(!1),l.focus(),i=t=!0):a.is(":last-child")||a.next().next().find("button.disabled").length?"tab"!==s&&"escape"!==s&&"enter"!==s||(o.setIsTimeOpen(!1),l.focus(),i=t=!0):"enter"!==s&&"escape"!==s||(o.setIsTimeOpen(!1),l.focus(),i=t=!0),t&&e.stopPropagation(),i&&e.preventDefault(),o.mintime&&o.maxtime&&!l.isValidDate(o.bsTimeValue)&&("arrowdown"===s?o.bsTimeValue=o.maxTime:"arrowup"===s&&(o.bsTimeValue=o.minTime)),"tab"===s){l.invalidDateTimeFormat=!1,l.invokeOnChange(l.datavalue,undefined,!1);var r=l.datepattern||l.timepattern;x.getFormattedDate(o.datePipe,o.bsTimeValue,r)===o.displayValue&&$(l.nativeElement).find(".display-input").val(o.displayValue)}"arrowdown"!==s&&"arrowup"!==s||l.timeFormatValidation()}else n.hasClass("btn-default")&&("tab"!==s&&"escape"!==s||(o.setIsTimeOpen(!1),l.focus()))}),e.find("a").on("click",function(e){var t=l.elementScope,i=$(e.target);t.mintime&&t.maxtime&&!l.isValidDate(t.bsTimeValue)&&(i.find("span").hasClass("bs-chevron-down")?t.bsTimeValue=t.maxTime:i.find("span").hasClass("bs-chevron-up")&&(t.bsTimeValue=t.minTime)),l.timeFormatValidation()})},e.prototype.updateFormat=function(e){"datepattern"===e?(this._dateOptions.dateInputFormat=this.datepattern,this.showseconds=_.includes(this.datepattern,"s"),this.ismeridian=_.includes(this.datepattern,"h")):"timepattern"===e&&(this.showseconds=_.includes(this.timepattern,"s"),this.ismeridian=_.includes(this.timepattern,"h"))},e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&(this.useDatapicker&&"datepattern"===e?this.updateFormat(e):"showweeks"===e?this._dateOptions.showWeekNumbers=t:"mindate"===e?(this._dateOptions.minDate=t===$a?this.mindate=new Date:x.getDateObj(t),this.minDateMaxDateValidationOnInput(this.datavalue)):"maxdate"===e?(this._dateOptions.maxDate=t===$a?this.maxdate=new Date:x.getDateObj(t),this.minDateMaxDateValidationOnInput(this.datavalue)):"excludedates"===e||"excludedays"===e?this.minDateMaxDateValidationOnInput(this.datavalue):a.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.ngAfterViewInit=function(){var n=this;a.prototype.ngAfterViewInit.call(this),this.bsDatePickerDirective&&(this.dateOnShowSubscription=this.bsDatePickerDirective.onShown.subscribe(function(e){e.daysCalendar.subscribe(function(e){var i;n.excludedates&&(i=(i=x.isString(n.excludedates)?_.split(n.excludedates,","):n.excludedates).map(function(e){return moment(e)})),e[0].weeks.forEach(function(e){e.days.forEach(function(e){if(!e.isDisabled&&n.excludedays&&(e.isDisabled=_.includes(n.excludedays,e.dayIndex)),!e.isDisabled&&i){var t=moment(e.date);e.isDisabled=i.some(function(e){return t.isSame(e,"day")})}})})})}))},e.prototype.ngOnDestroy=function(){this.dateOnShowSubscription&&this.dateOnShowSubscription.unsubscribe(),a.prototype.ngOnDestroy.call(this)},e.propDecorators={bsDropdown:[{type:h.ViewChild,args:[d.BsDropdownDirective]}]},e}(qn),ja={widgetType:"wm-date",hostClass:"app-date input-group"},za=function(o){function e(e,t,i,n){var a=o.call(this,e,ja)||this;return a.cdRef=t,a.appDefaults=i,a.isCurrentDate=!1,a.isEnterPressedOnDateInput=!1,ue(a.nativeElement,a),a.keyEventPlugin=n[1],a.dateContainerCls="app-date-"+a.widgetId,a._dateOptions.containerClass="app-date "+a.dateContainerCls,a._dateOptions.showWeekNumbers=!1,a.datepattern=a.appDefaults.dateFormat||x.getDisplayDateTimeFormat(x.FormWidgetType.DATE),a.updateFormat("datepattern"),a}return v(e,o),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.bsDataValue?this.bsDataValue.valueOf():undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return x.getFormattedDate(this.datePipe,this.bsDataValue,this._dateOptions.dateInputFormat)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datavalue",{get:function(){return x.getFormattedDate(this.datePipe,this.bsDataValue,this.outputformat)||""},set:function(e){"CURRENT_DATE"===e?(this.isCurrentDate=!0,this.setTimeInterval(),this.bsDataValue=new Date):(this.bsDataValue=e?x.getDateObj(e):undefined,this.clearTimeInterval()),this.invokeOnChange(this.datavalue,undefined,!0),this.cdRef.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.onDisplayDateChange=function(e,t){if(this.isEnterPressedOnDateInput)this.isEnterPressedOnDateInput=!1;else{var i=x.getDateObj(e.target.value);this.formatValidation(i,e.target.value,t)&&(t&&this.minDateMaxDateValidationOnInput(i,e,this.displayValue,t)||this.setDataValue(i))}},e.prototype.setDataValue=function(e){this.invalidDateTimeFormat=!1,this.minDateMaxDateValidationOnInput(e),x.getFormattedDate(this.datePipe,e,this._dateOptions.dateInputFormat)===this.displayValue&&$(this.nativeElement).find(".app-dateinput").val(this.displayValue),this.bsDataValue=e||undefined,this.invokeOnChange(this.datavalue,{},!0)},e.prototype.onDatePickerOpen=function(){this.isOpen=!0,this.bsDataValue?this.activeDate=this.bsDataValue:this.activeDate=new Date,this.bsDataValue||this.hightlightToday(),this.addDatepickerKeyboardEvents(this,!1),x.adjustContainerPosition($("bs-datepicker-container"),this.nativeElement,this.bsDatePickerDirective._datepicker)},e.prototype.onInputBlur=function(e){$(e.relatedTarget).hasClass("current-date")||(this.invokeOnTouched(),this.invokeEventCallback("blur",{$event:e}))},e.prototype.hideDatepickerDropdown=function(){this.invokeOnTouched(),this.isOpen=!1,this.isEnterPressedOnDateInput=!1,this.deregisterEventListener&&this.deregisterEventListener()},e.prototype.handleEvent=function(e,t,i,n){_.includes(["blur","focus","change","click"],t)||o.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.toggleDpDropdown=function(e){"click"===e.type&&this.invokeEventCallback("click",{$event:e}),e.target&&$(e.target).is("input")&&!this.isDropDownDisplayEnabledOnInput(this.showdropdownon)?e.stopPropagation():(this.bsDatePickerDirective.toggle(),this.addBodyClickListener(this.bsDatePickerDirective.isOpen))},e.prototype.addBodyClickListener=function(e){var t=this;if(e){var i=document.querySelector("body");setTimeout(function(){var e=i.querySelector("."+t.dateContainerCls);t.deregisterEventListener=x.addEventListenerOnElement(i,e,t.nativeElement,"click",t.isDropDownDisplayEnabledOnInput(t.showdropdownon),function(){t.isOpen=!1},0,!0)},350)}},e.prototype.onDisplayKeydown=function(e){if(this.isDropDownDisplayEnabledOnInput(this.showdropdownon)){e.stopPropagation();var t=x.getDateObj(e.target.value),i=this.keyEventPlugin.constructor.getEventFullKey(e);if("enter"===i||"arrowdown"===i){e.preventDefault();var n=x.getFormattedDate(this.datePipe,t,this._dateOptions.dateInputFormat),a=e.target.value.trim();a&&"timestamp"===this.datepattern?_.isNaN(a)||_.parseInt(a)===n||(this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,e,!1)):a&&a!==n?(this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,e,!1)):(this.invalidDateTimeFormat=!1,this.isEnterPressedOnDateInput=!0,this.bsDatePickerDirective.bsValue=t),this.toggleDpDropdown(e)}else this.hideDatepickerDropdown()}else this.hideDatepickerDropdown()},e.prototype.setTimeInterval=function(){var e=this;this.timeinterval||(this.timeinterval=setInterval(function(){e.bsDataValue=new Date},6e4))},e.prototype.clearTimeInterval=function(){this.timeinterval&&(clearInterval(this.timeinterval),this.timeinterval=null)},e.prototype.onDateChange=function(e){var t=this.nativeElement.querySelector(".display-input");this.isOpen&&setTimeout(function(){return t.focus()}),this.setDataValue(e)},e.initializeProps=(x.isMobileApp()&&Na.set("datepattern",y({value:"yyyy-MM-dd"},be)),void ge("wm-date",Na)),e.decorators=[{type:h.Component,args:[{selector:"[wmDate]",template:'<ng-container *ngIf="useDatapicker; then dataPickerTemplate else nativeDateTemplate"></ng-container>\n<ng-template #dataPickerTemplate>\n    <input class="form-control app-textbox app-dateinput display-input" aria-label="Select date"\n           focus-target\n           type="text"\n           [name]="name"\n           [tabindex]="tabindex"\n           [value]="displayValue"\n           (click)="toggleDpDropdown($event)"\n           (focus)="invokeOnFocus($event)"\n           (blur)="onInputBlur($event)"\n           [disabled]="disabled || readonly"\n           [autofocus]="autofocus"\n           [required]="required"\n           [attr.placeholder]="placeholder"\n           [attr.accesskey]="shortcutkey"\n           (change)="onDisplayDateChange($event)"\n           (keydown)="onDisplayKeydown($event)">\n    <div style="width: 0;display: inline-block;" aria-label="datepicker dropdownmenu" aria-controls="date">\n        <input class="model-holder"\n               container="body"\n               [bsConfig]="_dateOptions"\n               [isOpen]="isOpen"\n               #datepicker="bsDatepicker"\n               bsDatepicker\n               [isDisabled]="disabled || readonly"\n               [bsValue]="bsDataValue"\n               (onShown)="onDatePickerOpen()"\n               (onHidden)="hideDatepickerDropdown()"\n               (bsValueChange)="onDateChange($event)">\n    </div>\n    <span class="input-group-btn">\n            <button type="button" class="btn btn-default btn-time" [tabindex]="tabindex" [disabled]="disabled || readonly"\n                    aria-label="Select date" aria-haspopup="true" aria-expanded="false"\n                    (click)="toggleDpDropdown($event)">\n                <i aria-hidden="true" class="app-icon wi wi-calendar"></i>\n            </button>\n    </span>\n</ng-template>\n<ng-template #nativeDateTemplate>\n    <input type="date" class="form-control app-textbox app-dateinput"\n           role="input"\n           step="any"\n           [value]="displayValue"\n           [required]="required"\n           [disabled]="disabled || readonly"\n           (change)="onDisplayDateChange($event, true)"\n           (focus)="invokeOnFocus($event)"\n           (blur)="invokeOnTouched($event)">\n</ng-template>\n',providers:[j(e),W(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ChangeDetectorRef},{type:x.AppDefaults},{type:undefined,decorators:[{type:h.Inject,args:[c.EVENT_MANAGER_PLUGINS]}]}]},e.propDecorators={bsDatePickerDirective:[{type:h.ViewChild,args:[d.BsDatepickerDirective]}]},e}(Wa),Ua=new Map([["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["datepattern",be],["disabled",Ce],["excludedays",be],["excludedates",be],["hint",be],["hourstep",y({value:1},we)],["maxdate",be],["mindate",be],["minutestep",y({value:15},we)],["name",be],["outputformat",y({value:"timestamp"},be)],["placeholder",y({value:"Select date time"},be)],["readonly",Ce],["required",Ce],["secondsstep",y({value:1},we)],["shortcutkey",be],["show",y({value:!0},Ce)],["showdropdownon",y({value:"default"},be)],["showbuttonbar",Ce],["showindevice",y({displayType:"inline-block",value:"all"},be)],["showweeks",Ce],["tabindex",y({value:0},we)],["timestamp",be]]),qa={widgetType:"wm-datetime",hostClass:"app-datetime input-group"},Ha="CURRENT_DATE",Ga=function(s){function e(e,t,i,n,a){var o=s.call(this,e,qa)||this;return o.ngZone=t,o.cdRef=i,o.appDefaults=n,o.isEnterPressedOnDateInput=!1,o.isTimeOpen=!1,o.isDateOpen=!1,o.isCurrentDate=!1,o._debouncedOnChange=_.debounce(o.invokeOnChange,10),o.registerDestroyListener(function(){return o.clearTimeInterval()}),ue(o.nativeElement,o),o.keyEventPlugin=a[1],o.dateContainerCls="app-date-"+o.widgetId,o._dateOptions.containerClass="app-date "+o.dateContainerCls,o._dateOptions.showWeekNumbers=!1,o.datepattern=o.appDefaults.dateTimeFormat||x.getDisplayDateTimeFormat(x.FormWidgetType.DATETIME),o.updateFormat("datepattern"),o}return v(e,s),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.proxyModel?this.proxyModel.valueOf():undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return x.getFormattedDate(this.datePipe,this.proxyModel,this._dateOptions.dateInputFormat)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datavalue",{get:function(){return this.isCurrentDate&&!this.proxyModel?Ha:x.getFormattedDate(this.datePipe,this.proxyModel,this.outputformat)},set:function(e){e===Ha?(this.isCurrentDate=!0,this.setTimeInterval()):(this.proxyModel=e?x.getDateObj(e):undefined,this.clearTimeInterval(),this.isCurrentDate=!1),this.bsTimeValue=this.bsDateValue=this.proxyModel,this.cdRef.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.setTimeInterval=function(){var t=this;this.timeinterval||(this.timeinterval=setInterval(function(){var e=new Date;t.onModelUpdate(e)},1e3))},e.prototype.clearTimeInterval=function(){this.timeinterval&&(clearInterval(this.timeinterval),this.timeinterval=null)},e.prototype.toggleTimePicker=function(e,t){this.isTimeOpen=e,t&&"click"===t.type&&this.invokeEventCallback("click",{$event:t}),this.addTimepickerClickListener(this.isTimeOpen)},e.prototype.addTimepickerClickListener=function(e){var t=this;if(e){var i=document.querySelector("body");setTimeout(function(){var e=$(i).find(">bs-dropdown-container .dropdown-menu").get(0);t.deregisterTimepickeEventListener=x.addEventListenerOnElement(i,e,t.nativeElement,"click",t.isDropDownDisplayEnabledOnInput(t.showdropdownon),function(){t.toggleTimePicker(!1)},0,!0)},350)}},e.prototype.setIsTimeOpen=function(e){this.isTimeOpen=e},e.prototype.hideTimepickerDropdown=function(){this.invokeOnTouched(),this.toggleTimePicker(!1),this.deregisterTimepickeEventListener&&this.deregisterTimepickeEventListener()},e.prototype.onTimepickerOpen=function(){var e=document.querySelectorAll("timepicker");_.forEach(e,function(e){x.addClass(e.parentElement,"app-datetime",!0)}),this.bsDatePickerDirective.hide(),this.focusTimePickerPopover(this),this.bindTimePickerKeyboardEvents(),x.adjustContainerPosition($("bs-dropdown-container"),this.nativeElement,this.bsDropdown._dropdown,$("bs-dropdown-container .dropdown-menu"))},e.prototype.onDatePickerOpen=function(){this.isDateOpen=!this.isDateOpen,this.toggleTimePicker(!1),this.bsDateValue?this.activeDate=this.bsDateValue:this.activeDate=new Date,this.bsDateValue||this.hightlightToday(),this.addDatepickerKeyboardEvents(this,!0),x.adjustContainerPosition($("bs-datepicker-container"),this.nativeElement,this.bsDatePickerDirective._datepicker)},e.prototype.onModelUpdate=function(e,t){if("date"===t&&(this.invalidDateTimeFormat=!1,x.getFormattedDate(this.datePipe,e,this._dateOptions.dateInputFormat)===this.displayValue&&$(this.nativeElement).find(".display-input").val(this.displayValue)),this.minDateMaxDateValidationOnInput(e),!e)return this.bsDateValue&&this.bsTimePicker&&(""===this.bsTimePicker.hours||""===this.bsTimePicker.minutes||""===this.bsTimePicker.seconds)?this.bsDateValue=this.bsTimeValue=this.proxyModel=moment(this.bsDateValue).startOf("day").toDate():this.bsDateValue=this.bsTimeValue=this.proxyModel=undefined,void this._debouncedOnChange(this.datavalue,{},!0);"date"===t&&this.isDateOpen&&this.toggleTimePicker(!0),this.proxyModel=e,this.proxyModel&&(this.bsDateValue=this.bsTimeValue=this.proxyModel),this._debouncedOnChange(this.datavalue,{},!0),this.cdRef.detectChanges()},e.prototype.preventTpClose=function(e){e.stopImmediatePropagation()},e.prototype.toggleDpDropdown=function(e){"click"===e.type&&this.invokeEventCallback("click",{$event:e}),e.target&&$(e.target).is("input")&&!this.isDropDownDisplayEnabledOnInput(this.showdropdownon)?e.stopPropagation():(this.bsDatePickerDirective.toggle(),this.addBodyClickListener(this.bsDatePickerDirective.isOpen))},e.prototype.addBodyClickListener=function(e){var t=this;if(e){var i=document.querySelector("body");setTimeout(function(){var e=i.querySelector("."+t.dateContainerCls);t.deregisterDatepickerEventListener=x.addEventListenerOnElement(i,e,t.nativeElement,"click",t.isDropDownDisplayEnabledOnInput(t.showdropdownon),function(){t.bsDatePickerDirective.hide()},0,!0)},350)}},e.prototype.hideDatepickerDropdown=function(){this.isDateOpen=!1,this.invokeOnTouched(),this.bsDatePickerDirective.hide(),this.isEnterPressedOnDateInput=!1,this.deregisterDatepickerEventListener&&this.deregisterDatepickerEventListener()},e.prototype.onDateChange=function(e,t){if(this.isEnterPressedOnDateInput)this.isEnterPressedOnDateInput=!1;else{var i=e.target.value.trim();i=i?x.getNativeDateObject(i):undefined,this.formatValidation(i,e.target.value,t)&&(t&&this.minDateMaxDateValidationOnInput(i,e,this.displayValue,t)||(this.invalidDateTimeFormat=!1,this.onModelUpdate(i)))}},e.prototype.onDisplayKeydown=function(e){if(this.isDropDownDisplayEnabledOnInput(this.showdropdownon)){e.stopPropagation();var t=e.target.value.trim();t=t?x.getNativeDateObject(t):undefined;var i=this.keyEventPlugin.constructor.getEventFullKey(e);if("enter"===i||"arrowdown"===i){e.preventDefault();var n=x.getFormattedDate(this.datePipe,t,this._dateOptions.dateInputFormat),a=e.target.value.trim();a&&"timestamp"===this.datepattern?_.isNaN(a)||_.parseInt(a)===n||(this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,e,!1)):a&&a!==n?(this.invalidDateTimeFormat=!0,this.invokeOnChange(this.datavalue,e,!1)):(this.invalidDateTimeFormat=!1,this.isEnterPressedOnDateInput=!0,this.bsDatePickerDirective.bsValue=t),this.toggleDpDropdown(e)}else this.hideDatepickerDropdown(),this.hideTimepickerDropdown()}else this.hideDatepickerDropdown(),this.hideTimepickerDropdown()},e.prototype.isValid=function(e){if(!e){var t=$(this.nativeElement).find("input").val(),i=x.getNativeDateObject(t);if(!this.formatValidation(i,t))return}},e.prototype.handleEvent=function(e,t,i,n){_.includes(["blur","focus","change","click"],t)||s.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.onInputBlur=function(e){$(e.relatedTarget).hasClass("current-date")||(this.invokeOnTouched(),this.invokeEventCallback("blur",{$event:e}))},e.initializeProps=(x.isMobileApp()&&Ua.set("datepattern",y({value:"yyyy-MM-ddTHH:mm:ss"},be)),void ge("wm-datetime",Ua)),e.decorators=[{type:h.Component,args:[{selector:"[wmDateTime]",template:'<ng-container *ngIf="useDatapicker; then dataPickerTemplate else nativeDateTemplate"></ng-container>\n\n<ng-template #dataPickerTemplate>\n    <div dropdown [isOpen]="isTimeOpen" autoClose="false" [container]="\'body\'" (onShown)="onTimepickerOpen()"\n         style="display: inherit;">\n        <input class="form-control app-textbox display-input" aria-label="Set the date and time"\n               focus-target\n               [name]="name"\n               [tabindex]="tabindex"\n               type="text"\n               [value]="displayValue"\n               (click)="toggleDpDropdown($event)"\n               (focus)="invokeOnFocus($event)"\n               (blur)="onInputBlur($event)"\n               (change)="onDateChange($event)"\n               [autofocus]="autofocus"\n               [disabled]="disabled || readonly || isCurrentDate"\n               [required]="required"\n               [attr.placeholder]="placeholder"\n               [attr.accesskey]="shortcutkey"\n               (keydown)="onDisplayKeydown($event)">\n        <div style="width: 0;display: inline-block;" aria-label="datepicker dropdownmenu" aria-controls="date">\n            <input class="model-holder"\n                   focus-target\n                   [container]="\'body\'"\n                   [bsConfig]="_dateOptions"\n                   [isOpen]="isDateOpen"\n                   (onShown)="onDatePickerOpen()"\n                   (onHidden)="hideDatepickerDropdown()"\n                   #datepicker=bsDatepicker\n                   bsDatepicker\n                   [isDisabled]="disabled || readonly || isCurrentDate"\n                   [bsValue]="bsDateValue"\n                   (bsValueChange)="onModelUpdate($event, \'date\')">\n        </div>\n        <span class="input-group-btn">\n            <button type="button" class="btn btn-default btn-date"\n                    [tabindex]="tabindex" [disabled]="disabled || readonly || isCurrentDate" aria-label="Select date" aria-haspopup="true"\n                    aria-expanded="false" (click)="toggleDpDropdown($event)">\n                <i aria-hidden="true" class="app-icon wi wi-calendar"></i>\n            </button>\n            <button type="button" class="btn btn-default btn-time"\n                    [tabindex]="tabindex" [disabled]="disabled || readonly || isCurrentDate" aria-label="Select time" aria-haspopup="true"\n                    aria-expanded="false" (click)="toggleTimePicker(!isTimeOpen, $event)">\n                <i aria-hidden="true" class="app-icon wi wi-access-time"></i>\n            </button>\n        </span>\n        <div *dropdownMenu class="dropdown-menu" aria-label="timepicker dropdown" aria-controls="time"\n             (click)="preventTpClose($event)">\n            <timepicker class="model-holder"\n                        [showMeridian]="ismeridian"\n                        [readonlyInput]="disabled || readonly || isCurrentDate"\n                        [(ngModel)]="bsTimeValue"\n                        [min]="minTime"\n                        [max]="maxTime"\n                        [hourStep]="hourstep"\n                        [minuteStep]="minutestep"\n                        [secondsStep]="secondsstep"\n                        [mousewheel]="true"\n                        [arrowkeys]="true"\n                        (isValid)="isValid($event)"\n                        [showSeconds]="showseconds" (ngModelChange)="onModelUpdate($event, \'time\')"></timepicker>\n        </div>\n    </div>\n</ng-template>\n<ng-template #nativeDateTemplate>\n    <input type="datetime-local" class="form-control app-textbox"\n           role="input"\n           step="any"\n           [value]="displayValue"\n           [required]="required"\n           [disabled]="disabled || readonly || isCurrentDate"\n           (change)="onDateChange($event, true)">\n</ng-template>\n',providers:[j(e),W(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.NgZone},{type:h.ChangeDetectorRef},{type:x.AppDefaults},{type:undefined,decorators:[{type:h.Inject,args:[c.EVENT_MANAGER_PLUGINS]}]}]},e.propDecorators={bsDatePickerDirective:[{type:h.ViewChild,args:[d.BsDatepickerDirective]}],bsTimePicker:[{type:h.ViewChild,args:[d.TimepickerComponent]}]},e}(Wa),Ya=new Map([["autocomplete",y({value:!1},Ce)],["captionalign",y({value:"left"},be)],["captionposition",y({value:"left"},be)],["captionsize",be],["captionwidth",y({value:"xs-12 sm-3 md-3 lg-3"},be)],["class",be],["collapsible",Ce],["dataset",Ee],["datasource",be],["expanded",y({value:!0},Ce)],["formdatasource",be],["name",be],["show",y({value:!0},Ce)],["showindevice",y({displayType:"inline-block",value:"all"},be)],["subheading",be],["tabindex",y({value:0},we)],["title",be]]),Ka="default",Qa="label",Xa="quickedit",Za="inline",Ja="form",eo="dialog",to=function(e,t,i){_.forEach(e,function(e){e.isGroup&&(e.field===i?e.columns.push(t):to(e.columns,t,i))})},io=function(e,t,i){i?to(e,t,i):e.push(t)},no=function(e){return"true"===e||"false"!==e&&(/^\d+$/.test(e)?+e:e)},ao=function(e,t,i){return i?i===x.FormWidgetType.NUMBER||i===x.FormWidgetType.SLIDER||i===x.FormWidgetType.CURRENCY?isNaN(Number(e))?null:Number(e):i===x.FormWidgetType.CHECKBOX||i===x.FormWidgetType.TOGGLE?no(e):e:x.isNumberType(t)?isNaN(Number(e))?null:Number(e):t===x.DataType.BOOLEAN?no(e):e},oo={integer:["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],big_integer:["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],"short":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"float":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],big_decimal:["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],number:["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"double":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],"long":["number","text","select","checkboxset","radioset","rating","slider","currency","autocomplete","chips"],"byte":["number","text","select","checkboxset","radioset","slider","currency","autocomplete","chips"],string:["text","number","textarea","password","richtext","select","checkboxset","radioset","date","time","timestamp","switch","currency","autocomplete","chips","colorpicker"],character:["text","number","textarea","password","richtext","select","checkboxset","radioset","switch","currency","autocomplete","chips"],text:["text","number","textarea","password","richtext","select","checkboxset","radioset","date","time","timestamp","switch","currency","autocomplete","chips","colorpicker"],date:["date","text","number","select","checkboxset","radioset","autocomplete","chips"],time:["time","text","number","select","checkboxset","radioset","autocomplete","chips"],timestamp:["timestamp","text","number","select","checkboxset","radioset","autocomplete","chips"],datetime:["datetime","text","select","checkboxset","radioset","autocomplete","chips"],"boolean":["checkbox","radioset","toggle","select"],list:["select","radioset","checkboxset","switch","autocomplete","chips"],clob:["text","textarea","richtext"],blob:["upload"],file:["upload"],custom:["text","number","textarea","password","checkbox","toggle","slider","richtext","currency","switch","select","checkboxset","radioset","date","time","timestamp","rating","datetime","autocomplete","chips","colorpicker"]},so=function(e,t,i){return i?i===x.FormWidgetType.NUMBER||i===x.FormWidgetType.SLIDER||i===x.FormWidgetType.CURRENCY?isNaN(Number(e))?null:Number(e):i===x.FormWidgetType.CHECKBOX||i===x.FormWidgetType.TOGGLE?no(e):e:x.isNumberType(t)?isNaN(Number(e))?null:Number(e):t===x.DataType.BOOLEAN?no(e):e},ro={widgetType:"wm-message",hostClass:"alert app-message"},lo=function(n){function e(e){var t=n.call(this,e,ro)||this;return t.messageClass="",t.messageIconClass="",t.type="",ue(t.nativeElement,t),t}return v(e,n),e.prototype.showMessage=function(e,t){e&&(this.caption=e),t&&this.setWidgetProperty("type",t),this.setWidgetProperty("show",!0)},e.prototype.hideMessage=function(){this.setWidgetProperty("show",!1)},e.prototype.dismiss=function(e){this.hideMessage(),this.invokeEventCallback("close",{$event:e})},e.prototype.onMessageTypeChange=function(e){var t,i;switch(e){case"success":t="alert-success",i="wi wi-done";break;case"error":t="alert-danger",i="wi wi-cancel";break;case"warn":case"warning":t="alert-warning",i="wi wi-bell";break;case"info":t="alert-info",i="wi wi-info";break;case"loading":t="alert-info alert-loading",i="fa fa-spinner fa-spin"}x.switchClass(this.nativeElement,t,this.messageClass),this.messageClass=t,this.messageIconClass=i},e.prototype.onPropertyChange=function(e,t,i){"type"===e?this.onMessageTypeChange(t):n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-message",new Map([["caption",y({value:"Message"},be)],["class",be],["hideclose",y({value:!1},Ce)],["name",be],["show",y({value:!0},Ce)],["type",y({value:"success"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmMessage]",template:'<i [title]="type + \'Alert\'" class="icon {{type}} {{messageIconClass}}"></i>\n<span [innerHtml]="caption | trustAs: \'html\'"></span>\n<button title="Close" type="button" class="btn-transparent close" [hidden]="hideclose" (click)="dismiss($event)" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n</button>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),co={widgetType:"wm-pagination",hostClass:"app-datanavigator clearfix"},po={Pager:{small:"pager-sm",large:"pager-lg"},Basic:{small:"pagination-sm",large:"pagination-lg"},Classic:{small:"pagination-sm",large:"pagination-lg"}},uo=function(a){function e(e,t){var n=a.call(this,e,co)||this;return n.parent=t,n.resultEmitter=new h.EventEmitter,n.maxResultsEmitter=new h.EventEmitter,n.dn={currentPage:1},n.pageCount=0,n.isDisableNext=!0,n.isDisablePrevious=!0,n.isDisableFirst=!0,n.isDisableLast=!0,n._debouncedApplyDataset=x.debounce(function(){return n.widget.dataset=n.dataset},Te),n._debouncedPageChanged=x.debounce(function(e){var t=e&&e.page;if(t!==n.dn.currentPage){var i=n.parent||n;n.dn.currentPage=t,i.invokeEventCallback("paginationchange",{$event:undefined,$index:n.dn.currentPage}),n.goToPage()}},Te),ue(n.nativeElement,n),n}return v(e,a),e.prototype.setResult=function(e){this.result=e,this.resultEmitter.emit(this.result)},e.prototype.updateNavSize=function(){var e=po[this.navcontrols];e&&this.navigationsize?this.navigationClass=e[this.navigationsize]:this.navigationClass=""},e.prototype.resetPageNavigation=function(){this.pageCount=0,this.dn.currentPage=1,this.dataSize=0},e.prototype.calculatePagingValues=function(){this.pageCount=this.dataSize>this.maxResults?Math.ceil(this.dataSize/this.maxResults):this.dataSize<0?0:1,this.dn.currentPage=this.dn.currentPage||1},e.prototype.setDefaultPagingValues=function(e,t,i){e||t?(this.maxResults=t||this.maxResults,this.dataSize=x.isDefined(e)?e:this.dataSize,this.dn.currentPage=i||this.dn.currentPage,this.calculatePagingValues()):(this.pageCount=1,this.dn.currentPage=1,this.maxResults=e,this.dataSize=e),this.maxResultsEmitter.emit(this.maxResults)},e.prototype.checkDataSize=function(e,t,i){-1===e||e===x.AppConstants.INT_MAX_VALUE?(this.prevshowrecordcount=this.showrecordcount,this.isDisableLast=!0,this.isDisableCount=!0,this.showrecordcount=!1,t<i&&(this.isDisableNext=!0)):(this.isDisableCount=!1,this.showrecordcount=this.prevshowrecordcount||this.showrecordcount)},e.prototype.disableNavigation=function(){var e=1===this.dn.currentPage,t=this.dn.currentPage===this.pageCount;this.isDisableFirst=this.isDisablePrevious=e,this.isDisableNext=this.isDisableLast=t,this.isDisableCurrent=e&&t},e.prototype.isDataSourceHasPaging=function(){return this.datasource&&this.datasource.execute(x.DataSource.Operation.IS_PAGEABLE)},e.prototype.setNonPageableData=function(e){var t,i,n,a;t=_.isArray(e)?e.length:_.isEmpty(e)?0:1,i=this.options&&this.options.maxResults||t,n=this.datasource&&this.datasource.execute(x.DataSource.Operation.IS_API_AWARE)?1:this.dn.currentPage||1,this.setDefaultPagingValues(t,i,n),this.disableNavigation(),a=(this.dn.currentPage-1)*this.maxResults,this.setResult(_.isArray(e)?e.slice(a,a+this.maxResults):e)},e.prototype.setPagingValues=function(e){var t,i,n,a={};this.__fullData=e,this.binddataset?(a=(this.datasource||{})._options||{},e?this.isDataSourceHasPaging()?(this.pagination=this.datasource.execute(x.DataSource.Operation.GET_PAGING_OPTIONS)||{},this.filterFields=a.filterFields||{},this.sortOptions=a.orderBy||(_.isArray(this.pagination.sort)?F(this.pagination.sort):""),t=this.pagination.totalElements,i=this.pagination.size,n=0<this.pagination.numberOfElements?(x.isDefined(this.pagination.number)&&(this.dn.currentPage=this.pagination.number+1),this.dn.currentPage||1):1,this.setDefaultPagingValues(t,i,n),this.disableNavigation(),this.checkDataSize(t,this.pagination.numberOfElements,this.pagination.size),this.setResult(e)):_.isString(e)||this.setNonPageableData(e):(this.setResult(e),this.resetPageNavigation())):e&&!_.isString(e)&&this.setNonPageableData(e)},e.prototype.isFirstPage=function(){return 1===this.dn.currentPage||!this.dn.currentPage},e.prototype.isLastPage=function(){return this.dn.currentPage===this.pageCount},e.prototype.goToLastPage=function(e,t,i){this.isLastPage()?e&&this.goToPage(t,i):(this.dn.currentPage=this.pageCount,this.goToPage(t,i))},e.prototype.goToFirstPage=function(e,t,i){this.isFirstPage()?e&&this.goToPage(t,i):(this.dn.currentPage=1,this.goToPage(t,i))},e.prototype.goToPage=function(e,t){this.firstRow=(this.dn.currentPage-1)*this.maxResults,this.getPageData(e,t)},e.prototype.onPageDataReady=function(e,t,i){this.disableNavigation(),this.invokeSetRecord(e,t),x.triggerFn(i)},e.prototype.getPageData=function(t,i){var e,n,a=this;this.isDataSourceHasPaging()?this.datasource.execute(x.DataSource.Operation.LIST_RECORDS,{page:this.dn.currentPage,filterFields:this.filterFields,orderBy:this.sortOptions,matchMode:"anywhereignorecase"}).then(function(e){a.onPageDataReady(t,e&&e.data,i),x.$appDigest()},function(e){}):(n=(this.dn.currentPage-1)*this.maxResults,e=_.isArray(this.__fullData)?this.__fullData.slice(n,n+this.maxResults):this.__fullData,this.setResult(e),this.onPageDataReady(t,e,i))},e.prototype.invokeSetRecord=function(e,t){var i={currentPage:this.dn.currentPage,size:this.maxResults,totalElements:this.dataSize,totalPages:this.pageCount};this.parent?this.parent.invokeEventCallback("setrecord",{$event:e,$data:t,$index:this.dn.currentPage,pageInfo:i,data:t}):this.invokeEventCallback("setrecord",{$event:e,$data:t,$index:this.dn.currentPage,pageInfo:i,data:t})},e.prototype.validateCurrentPage=function(e,t){return!e||!(isNaN(this.dn.currentPage)||this.dn.currentPage<=0||this.pageCount&&(this.dn.currentPage>this.pageCount||_.isNull(this.dn.currentPage)))||($(e.target).closest("a").addClass("ng-invalid"),!1)},e.prototype.onModelChange=function(e){this.validateCurrentPage(e)&&this.goToPage(e)},e.prototype.onKeyDown=function(e){var t=$(e.target).closest("a");return"KeyE"===e.code?(t.addClass("ng-invalid"),!1):(t.removeClass("ng-invalid"),!0)},e.prototype.pageChanged=function(e){this._debouncedPageChanged(e)},e.prototype.navigatePage=function(e,t,i,n){switch(this.invokeEventCallback("paginationchange",{$event:undefined,$index:this.dn.currentPage}),this.dn.currentPage=+this.dn.currentPage,e){case"first":return void this.goToFirstPage(i,t,n);case"prev":if(this.isFirstPage()||!this.validateCurrentPage(t,n))return;this.dn.currentPage-=1;break;case"next":if(this.isLastPage()||!this.validateCurrentPage(t,n))return;this.dn.currentPage+=1;break;case"last":return void this.goToLastPage(i,t,n)}this.goToPage(t,n)},e.prototype.setBindDataSet=function(e,t,i,n,a){var o,s=this,r=e.split(".");if("Variables"!==r[0]&&"Widgets"!==r[0]||(o=r[0]+"."+r[1]+".pagination"),!a&&n)return this.dataset=n,void this._debouncedApplyDataset();this.binddataset=e,setTimeout(function(){s.registerDestroyListener(x.$watch(e,t,{},function(e){s.dataset=e,s._debouncedApplyDataset()})),o&&s.registerDestroyListener(x.$watch(o,t,{},function(){return s._debouncedApplyDataset()}))}),this.datasource=i},e.prototype.setDataSource=function(e){this.datasource=e},e.prototype.onPropertyChange=function(e,t,i){if("dataset"===e){var n=void 0;n=this.parent&&this.parent.onDataNavigatorDataSetChange?this.parent.onDataNavigatorDataSetChange(t):t,this.setPagingValues(n)}else"navigation"===e?("Advanced"===t&&(this.navigation="Classic"),this.updateNavSize(),this.navcontrols=t):"navigationsize"===e?this.updateNavSize():"navigationalign"===e?x.switchClass(this.nativeElement,"text-"+t,"text-"+i):"maxResults"===e?this.setPagingValues(this.dataset):a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngAfterViewInit=function(){this.nativeElement.onclick=function(e){e.stopPropagation()}},e.initializeProps=void ge("wm-pagination",new Map([["boundarylinks",y({value:!1},Ce)],["class",be],["dataset",Ee],["directionlinks",y({value:!0},Ce)],["forceellipses",y({value:!0},Ce)],["maxResults",we],["maxsize",y({value:5},we)],["name",be],["navigation",y({value:"Basic"},be)],["navigationalign",y({value:"left"},be)],["navigationsize",be],["show",y({value:!0},Ce)],["showrecordcount",Ce],["tabindex",y({value:0},we)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmPagination]",template:'\n<ul class="pagination advanced {{navigationClass}}" *ngIf="navcontrols === \'Classic\'">\n    <li [ngClass]="{\'disabled\':isDisableFirst}">\n        <a [title]="appLocale.LABEL_FIRST" name="first" href="javascript:void(0);" aria-label="First"\n           (click)="navigatePage(\'first\', $event)">\n            <span aria-hidden="true"><i class="wi wi-first-page"></i></span>\n            <span class="sr-only">{{appLocale.LABEL_FIRST}}</span>\n        </a>\n    </li>\n    <li [ngClass]="{\'disabled\':isDisablePrevious}">\n        <a [title]="appLocale.LABEL_PREVIOUS" name="prev" href="javascript:void(0);" aria-label="Previous"\n           (click)="navigatePage(\'prev\', $event)">\n            <span aria-hidden="true"><i class="wi wi-chevron-left"></i></span>\n            <span class="sr-only">{{appLocale.LABEL_PREVIOUS}}</span>\n        </a>\n    </li>\n    <li class="pagecount disabled">\n        <a><input type="number" [disabled]="isDisableCurrent" [(ngModel)]="dn.currentPage"\n                  (keydown)="onKeyDown($event)" (change)="onModelChange($event)" class="form-control"/></a>\n    </li>\n    <li class="disabled">\n        <a [hidden]="isDisableCount"> / {{pageCount}}</a>\n    </li>\n    <li [ngClass]="{\'disabled\':isDisableNext}">\n        <a [title]="appLocale.LABEL_NEXT" name="next" href="javascript:void(0);" aria-label="Next"\n           (click)="navigatePage(\'next\', $event)">\n            <span aria-hidden="true"><i class="wi wi-chevron-right"></i></span>\n            <span class="sr-only">{{appLocale.LABEL_NEXT}}</span>\n        </a>\n    </li>\n    <li [ngClass]="{\'disabled\':isDisableLast}">\n        <a [title]="appLocale.LABEL_LAST" name="last" href="javascript:void(0);" aria-label="Last"\n           (click)="navigatePage(\'last\', $event)">\n            <span aria-hidden="true"><i class="wi wi-last-page"></i></span>\n            <span class="sr-only">{{appLocale.LABEL_LAST}}</span>\n        </a>\n    </li>\n    <li *ngIf="showrecordcount" class="totalcount disabled">\n        <a>{{appLocale.LABEL_TOTAL_RECORDS}}: {{dataSize}}</a>\n    </li>\n</ul>\n<ul class="pager {{navigationClass}}" *ngIf="navcontrols === \'Pager\'">\n    <li class="previous" [ngClass]="{\'disabled\':isDisablePrevious}">\n        <a href="javascript:void(0);" (click)="navigatePage(\'prev\', $event)" aria-label="Previous">\n            <span aria-hidden="true"><i class="wi wi-chevron-left"></i></span>\n            {{appLocale.LABEL_PREVIOUS}}\n            <span class="sr-only">{{appLocale.LABEL_PREVIOUS}}</span>\n        </a>\n    </li>\n    <li class="next" [ngClass]="{\'disabled\':isDisableNext}">\n        <a href="javascript:void(0);" (click)="navigatePage(\'next\', $event)" aria-label="Next">\n            {{appLocale.LABEL_NEXT}}\n            <span aria-hidden="true"><i class="wi wi-chevron-right"></i></span>\n            <span class="sr-only">{{appLocale.LABEL_NEXT}}</span>\n        </a>\n    </li>\n</ul>\n\n<pagination class="pagination basic" [ngClass]="navigationClass" *ngIf="navcontrols === \'Basic\'"\n            [itemsPerPage]="maxResults" [totalItems]="dataSize"\n            [ngModel]="dn.currentPage" (pageChanged)="pageChanged($event)"\n            [boundaryLinks]="boundarylinks" [maxSize]="maxsize"\n            [directionLinks]="directionlinks" previousText="." nextText="." firstText="." lastText="."></pagination>\n\n<ul *ngIf="navcontrols === \'Basic\' && showrecordcount" class="pagination">\n    <li class="totalcount disabled basiccount"><a>{{appLocale.LABEL_TOTAL_RECORDS}}: {{dataSize}}</a></li>\n</ul>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:undefined,decorators:[{type:h.SkipSelf},{type:h.Inject,args:[k]}]}]},e.propDecorators={resultEmitter:[{type:h.Output}],maxResultsEmitter:[{type:h.Output}]},e}($e),ho=function(){function e(e,t,i){this.inj=e,this.app=i,this.destroy=new u.Subject,this.destroy$=this.destroy.asObservable(),this.itemClass="",this._currentItemWidgets={},this.isActive=!1,this.disableItem=!1,this.nativeElement=t.nativeElement,this.listComponent=e.view.component,this.context=e.view.context,this.itemClassWatcher(this.listComponent),this.disableItemWatcher(this.listComponent),$(this.nativeElement).data("listItemContext",this)}return e.prototype.onFocus=function(){this.listComponent.lastSelectedItem=this},Object.defineProperty(e.prototype,"$index",{get:function(){return this.context.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$even",{get:function(){return this.context.even},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$odd",{get:function(){return this.context.odd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$first",{get:function(){return this.context.first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$last",{get:function(){return this.context.last},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItemWidgets",{get:function(){var e=Array.from(this.nativeElement.querySelectorAll("[widget-id]"));return Object.assign(this._currentItemWidgets,e.reduce(function(e,t){return e[t.widget.name]=t.widget,e},{}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wmListItem",{set:function(e){this.item=e},enumerable:!0,configurable:!0}),e.prototype.registerWatch=function(e,t){this.destroy$.subscribe(x.$watch(e,this.listComponent.viewParent,this,t))},e.prototype.itemClassWatcher=function(e){var t=this;e.binditemclass?this.registerWatch(e.binditemclass,function(e){return t.itemClass=e||""}):this.itemClass=e.itemclass},e.prototype.disableItemWatcher=function(e){var t=this;e.binddisableitem?this.registerWatch(e.binddisableitem,function(e){return t.disableItem=e||!1}):this.disableItem=e.disableitem||!1},e.prototype.triggerWMEvent=function(e){x.$invokeWatchers(!0);var t=this.listComponent.multiselect?_.last(this.listComponent.selecteditem):this.listComponent.selecteditem;this.app.notify("wm-event",{eventName:e,widgetName:this.listComponent.name,row:t})},e.prototype.setUpCUDHandlers=function(){var t=this,e=this.nativeElement.querySelector(".edit-list-item"),i=this.nativeElement.querySelector(".delete-list-item");e&&e.addEventListener("click",function(e){t.triggerWMEvent("update")}),i&&i.addEventListener("click",function(e){t.triggerWMEvent("delete")})},e.prototype.ngOnInit=function(){var t=this;this.listComponent.mouseEnterCB&&this.nativeElement.addEventListener("mouseenter",function(e){t.listComponent.invokeEventCallback("mouseenter",{widget:t,$event:e})}),this.listComponent.mouseLeaveCB&&this.nativeElement.addEventListener("mouseleave",function(e){t.listComponent.invokeEventCallback("mouseleave",{widget:t,$event:e})})},e.prototype.ngAfterViewInit=function(){this.setUpCUDHandlers()},e.decorators=[{type:h.Directive,args:[{selector:"[wmListItem]",exportAs:"listItemRef"}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ElementRef},{type:x.App}]},e.propDecorators={isActive:[{type:h.HostBinding,args:["class.active"]}],disableItem:[{type:h.HostBinding,args:["class.disable-item"]}],onFocus:[{type:h.HostListener,args:["focus"]}],wmListItem:[{type:h.Input}]},e}(),fo=function(i){function e(e){var t=i.call(this)||this;return t.list=e,t.$el=$(t.list.getNativeElement()).find("ul.app-livelist-container:first"),t.leftChildrenCount=t.$el.find(">.app-list-item-left-action-panel > button:visible").length,t.rightChildrenCount=t.$el.find(">.app-list-item-right-action-panel > button:visible").length,(t.leftChildrenCount||t.rightChildrenCount)&&(t.init(t.$el),t.$btnSubscription=t.list.btnComponents.changes.subscribe(function(e){return t.actionItems=e})),t}return v(e,i),e.prototype.createActionPanel=function(e,t){return t.css({width:e.outerWidth()+"px",height:e.outerHeight()+"px",marginBottom:-1*e.outerHeight()+"px","float":"left",padding:0}),t.insertBefore(e)},e.prototype.computeTotalChildrenWidth=function(e){return _.reduce(e.children(),function(e,t){return e+$(t).outerWidth()},0)},e.prototype.computeTransitionProportions=function(e){var i=this.computeTotalChildrenWidth(e),n="right"===this.position,a=0;return _.map(e.children(),function(e){var t=(i-a)/i;return a+=$(e).outerWidth(),n?t:a/i})},e.prototype.resetElement=function(e){e&&e.css({transform:"none",transition:"none"})},e.prototype.resetState=function(){this.resetElement(this.li),this.resetElement(this.actionPanel),this.actionPanel&&(this.actionPanel=null)},e.prototype.getChildActionElement=function(e){if(e.children().length)return"left"===this.position?e.children().first():e.children().last()},e.prototype.initActionPanel=function(e){this.actionPanel=this.createActionPanel(this.li,e),this.actionPanel.css({backgroundColor:this.getChildActionElement(this.actionPanel).css("background-color")}),this.limit=this.computeTotalChildrenWidth(this.actionPanel),this.transitionProportions=this.computeTransitionProportions(this.actionPanel)},e.prototype.bounds=function(e,t){var i=$(e.target).closest("li"),n={strictUpper:!0,strictLower:!0,lower:0,center:0,upper:0};if(!i.hasClass("app-list-item"))return n;if(this.li&&this.li[0]===i[0])"left"===this.position?n={strictUpper:!1,lower:-this.limit,center:this.limit}:"right"===this.position&&(n={center:-this.limit,upper:this.limit,strictLower:!1});else{var a=0<t?".app-list-item-left-action-panel":".app-list-item-right-action-panel",o=this.$el.find(">"+a);if(!o.length&&this.list.groupby&&(a="li > ul.list-group >"+a,o=this.$el.find(">"+a)),!o.length||!o.find("button:visible").length)return n;this.resetState(),this.li=i,this.position=o.attr("position"),this.initActionPanel(o),n=0<t?{strictUpper:!1,lower:0,center:0,upper:this.limit}:{strictLower:!1,lower:-this.limit,center:0,upper:0}}return n},e.prototype.context=function(){var n=this;return{computeActionTransition:function(e,t){var i=0<t?1:-1;return i*t>n.limit?t-i*n.limit+n.transitionProportions[e]*i*n.limit:n.transitionProportions[e]*t}}},e.prototype.animation=function(){var e=this;return[{target:function(){return e.li},css:{transform:"translate3d(${{$D + $d}}px, 0, 0)"}},{target:function(){return e.actionPanel&&e.actionPanel.children()},css:{transform:"translate3d(${{computeActionTransition($i, $D + $d)}}px, 0, 0)"}}]},e.prototype.invokeFullSwipeEvt=function(e){var t,i,n;n="left"===this.position?(i=this.actionItems.filter(function(e){return"left"===e.getAttr("swipe-position")&&e.$element.is(":visible")}),0):(i=this.actionItems.filter(function(e){return"right"===e.getAttr("swipe-position")&&e.$element.is(":visible")})).length-1,(t=i[n])&&t.hasEventCallback("tap")&&t.invokeEventCallback("tap",{$event:e}),this.resetState(),this.li=null},e.prototype.onAnimation=function(e,t){if(this.list.triggerListItemSelection(this.li,e),this.actionPanel&&"true"===this.actionPanel.attr("enablefullswipe")){var i=0<t?1:-1,n=this.getChildActionElement(this.actionPanel);if(n){var a="right"===this.position?this.rightChildrenCount-1:0;50<this.transitionProportions[a]*i*t*100/(this.li.outerWidth()-this.limit+n.width())&&this.invokeFullSwipeEvt(e)}}},e.prototype.onLower=function(){"left"===this.position&&(this.resetState(),this.li=null)},e.prototype.onUpper=function(){"right"===this.position&&(this.resetState(),this.li=null)},e.prototype.threshold=function(){return 10},e}(o.SwipeAnimation),mo={widgetType:"wm-list",hostClass:"app-livelist app-panel"},go=function(m){function e(e,t,i,n,a,o,s,r,l,c,d,p){var u=this,h=x.noop,f=new Promise(function(e){return h=e});return(u=m.call(this,e,mo,f)||this).propsInitPromise=f,u.promiseResolverFn=h,ue(u.nativeElement,u,g.APPLY_STYLES_TYPE.SHELL),u.cdRef=t,u.ngZone=o,u.datePipe=i,u.binditemclass=s,u.binddisableitem=r,u.binddataset=l,u.mouseEnterCB=d,u.mouseLeaveCB=p,u.binddatasource=c,u.app=n,u.appDefaults=a,u.variableInflight=!1,u.noDataFound=!l,u.app.subscribe("toggle-variable-state",u.handleLoading.bind(u)),u}return v(e,m),Object.defineProperty(e.prototype,"selecteditem",{get:function(){return this.multiselect?x.getClonedObject(this._items):_.isEmpty(this._items)?{}:x.getClonedObject(this._items[0])},set:function(e){var t=this;this._items.length=0,this.deselectListItems(),_.isArray(e)?e.forEach(function(e){return t.selectItem(e)}):this.selectItem(e),x.$appDigest()},enumerable:!0,configurable:!0}),e.prototype.getWidgets=function(t,e){var i,n=[];if(t)return x.isDefined(e)?(e=+e||0,(i=_.get(this.listItems.toArray(),e))?[_.get(i.currentItemWidgets,t)]:void 0):(_.forEach(this.listItems.toArray(),function(e){(i=_.get(e.currentItemWidgets,t))&&n.push(i)}),n)},e.prototype.getItem=function(e){return this.getListItemByIndex(e)},e.prototype.getIndex=function(e){return this.getListItemIndex(e)},e.prototype.handleLoading=function(e){var t=this,i=this.datasource;i&&i.execute(x.DataSource.Operation.IS_API_AWARE)&&x.isDataSourceEqual(e.variable,i)&&this.ngZone.run(function(){t.variableInflight=e.active})},e.prototype.resetNavigation=function(){this.showNavigation=!1,this.navControls=undefined,this.infScroll=!1,this.onDemandLoad=!1},e.prototype.enableBasicNavigation=function(){this.navControls=H.BASIC,this.showNavigation=!0},e.prototype.enableInlineNavigation=function(){this.navControls=H.INLINE},e.prototype.enableClassicNavigation=function(){this.navControls=H.CLASSIC,this.showNavigation=!0},e.prototype.enablePagerNavigation=function(){this.navControls=H.PAGER,this.showNavigation=!0},e.prototype.setNavigationTypeNone=function(){this.navControls=H.NONE,this.showNavigation=!1},e.prototype.enableInfiniteScroll=function(){this.infScroll=!0},e.prototype.enableOnDemandLoad=function(){this.onDemandLoad=!0,this.showNavigation=!0},e.prototype.setListClass=function(){var i="";this.itemsperrow?isNaN(parseInt(this.itemsperrow,10))?(_.split(this.itemsperrow," ").forEach(function(e){var t=_.split(e,"-");e=t[0]+"-"+12/parseInt(t[1],10),i+=" col-"+e}),this.itemsPerRowClass=i.trim()):this.itemsPerRowClass="col-xs-"+12/parseInt(this.itemsperrow,10):this.itemsPerRowClass="col-xs-12"},e.prototype.onNavigationTypeChange=function(e){switch(this.resetNavigation(),e){case H.BASIC:this.enableBasicNavigation();break;case H.INLINE:this.enableInlineNavigation();break;case H.ADVANCED:case H.CLASSIC:this.enableClassicNavigation();break;case H.PAGER:this.enablePagerNavigation();break;case H.NONE:this.setNavigationTypeNone();break;case H.SCROLL:this.enableInfiniteScroll();break;case H.ONDEMAND:this.enableOnDemandLoad()}},e.prototype.fetchNextDatasetOnScroll=function(){this.dataNavigator.navigatePage("next")},e.prototype.setIscrollHandlers=function(n){var a=this,o=0,s=_.get(n.iscroll,"wrapper"),r=n.iscroll;n.iscroll.on("scrollEnd",function(){var e=s.clientHeight,t=s.scrollHeight,i=Math.abs(n.iscroll.y);o<i&&.9*t<i+e&&(a.debouncedFetchNextDatasetOnScroll(),r.indicatorRefresh&&r.indicatorRefresh()),o=i})},e.prototype.bindIScrollEvt=function(){var t=this,i=this.$element.closest('[wmsmoothscroll="true"]');if(_.get(i[0],"iscroll"))this.setIscrollHandlers(i[0]);else{var n=this.app.subscribe("iscroll-update",function(e){!_.isEmpty(e)&&e.isSameNode(i[0])&&(t.setIscrollHandlers(i[0]),n())});this.app.notify("no-iscroll",i[0])}},e.prototype.bindScrollEvt=function(){var e,t,i=this,n=this.$element.find("> ul"),a=n.children().first(),o=this,s=0;a.length&&((t=(e=a.scrollParent(!1))[0]===document?document.body:e[0]).scrollHeight>t.clientHeight?(e.each(function(e,t){s=t===document?t.body.scrollTop||$(window).scrollTop():t.scrollTop}).off("scroll.scroll_evt").on("scroll.scroll_evt",function(e){var t,i,n,a=e.target;t=(a=a===document?a.scrollingElement||document.body:a).clientHeight,i=a.scrollHeight,n=a===document.body?$(window).scrollTop():a.scrollTop,s<n&&.9*i<n+t&&($(this).off("scroll.scroll_evt"),o.debouncedFetchNextDatasetOnScroll()),s=n}),n.off("wheel.scroll_evt")):n.on("wheel.scroll_evt",function(e){0<e.originalEvent.deltaY&&(n.off("wheel.scroll_evt"),i.debouncedFetchNextDatasetOnScroll())}))},e.prototype.updateFieldDefs=function(e){this.infScroll||this.onDemandLoad?(x.isDefined(this.fieldDefs)&&!this.dataNavigator.isFirstPage()||(this.fieldDefs=[]),this.fieldDefs=E(this.fieldDefs,e)):this.fieldDefs=e,this.orderby&&(this.fieldDefs=Lt(this.fieldDefs,this.orderby)),this.groupby&&(this.groupedData=Vt(this,this.fieldDefs,this.groupby,this.match,this.orderby,this.dateformat,this.datePipe,undefined,this.appDefaults)),this.fieldDefs.length||(this.noDataFound=!0,this.selecteditem=undefined),x.$appDigest(),this.listItems.setDirty()},e.prototype.onDataChange=function(e){_.isEmpty(e)?this.updateFieldDefs([]):(this.noDataFound=!1,this.isDataChanged=!0,this.datasource&&this.datasource.execute(x.DataSource.Operation.IS_API_AWARE)&&(e=_.cloneDeep(e)),x.isObject(e)&&!_.isArray(e)&&(e=_.isEmpty(e)?[]:[e]),_.isString(e)&&(e=e.split(",")),_.isArray(e)&&(e.length&&this.invokeEventCallback("beforedatarender",{$data:e}),this.updateFieldDefs(e)))},e.prototype.setupDataSource=function(){var t=this,e=this.dataNavigator;e.options={maxResults:this.pagesize||5},this.dataNavigatorWatched=!0,this.navigatorResultWatch&&this.navigatorResultWatch.unsubscribe(),this.navigatorResultWatch=e.resultEmitter.subscribe(function(e){t.onDataChange(e)},!0),this.navigatorMaxResultWatch&&this.navigatorMaxResultWatch.unsubscribe(),this.navigatorMaxResultWatch=e.maxResultsEmitter.subscribe(function(e){t.pagesize=e}),e.maxResults=this.pagesize||5,this.removePropertyBinding("dataset"),this.dataNavigator.setBindDataSet(this.binddataset,this.viewParent,this.datasource,this.dataset,this.binddatasource)},e.prototype.onDataSetChange=function(e){this.dataNavigatorWatched?this.navigation&&this.navigation!==H.NONE&&this.dataNavigator.setDataSource(this.datasource):this.navigation&&this.navigation!==H.NONE?this.setupDataSource():this.onDataChange(e)},e.prototype.deselectListItems=function(){this.listItems.forEach(function(e){return e.isActive=!1})},e.prototype.clearSelectedItems=function(){this.deselectListItems(),this._items.length=0,x.$appDigest()},e.prototype.getListItemByModel=function(i){var n=this;return this.listItems.find(function(e){var t=e.item;if(n.groupby&&!_.has(i,"_groupIndex")&&delete(t=_.clone(t))._groupIndex,_.isEqual(t,i))return!0})||null},e.prototype.updateSelectedItemsWidgets=function(){var t=this;this.multiselect&&(this.selectedItemWidgets.length=0),this.listItems.forEach(function(e){e.isActive&&(t.multiselect?t.selectedItemWidgets.push(e.currentItemWidgets):t.selectedItemWidgets=e.currentItemWidgets)})},e.prototype.toggleListItemSelection=function(e){if(e&&!e.disableItem){var t=e.item;this.groupby&&_.has(t,"_groupIndex")&&delete(t=_.clone(t))._groupIndex,e.isActive?(this._items=_.pullAllWith(this._items,[t],_.isEqual),e.isActive=!1):(this.multiselect||this.clearSelectedItems(),this._items.push(t),this.invokeEventCallback("select",{widget:e,$data:t}),e.isActive=!0),this.updateSelectedItemsWidgets()}},e.prototype.onListRender=function(e){var i=this;this.isDataChanged&&this.invokeEventCallback("render",{$data:this.fieldDefs});var t=_.isArray(this.selecteditem)?this.selecteditem:[this.selecteditem];if(this.firstSelectedItem=this.lastSelectedItem=null,!e.length||!this.selectfirstitem||this._items.length&&this.multiselect)this.deselectListItems(),t.forEach(function(e){var t=i.getListItemByModel(e);t&&(t.isActive=!0,(i.lastSelectedItem=t).nativeElement.focus())});else{var n=e.first;n.disableItem||!this.isDataChanged||(this.infScroll||this.onDemandLoad)&&this._items.length||(this.clearSelectedItems(),this.firstSelectedItem=this.lastSelectedItem=n,this.selectItem(0))}this.fieldDefs.length&&this.infScroll&&(x.isMobileApp()?this.bindIScrollEvt():this.bindScrollEvt()),this.isDataChanged=!1},e.prototype.triggerListItemSelection=function(e,t){if(e&&e[0]){var i=e.data("listItemContext");i.listComponent===this&&this.onItemClick(t,i)}},e.prototype.setupHandlers=function(){var i=this;this.listItems.changes.subscribe(function(e){i.onListRender(e),i.cdRef.detectChanges()}),this.nativeElement.querySelector("ul.app-livelist-container").addEventListener("click",function(e){for(var t=$(e.target).closest(".app-list-item");t.get(0)&&t.closest("ul.app-livelist-container").get(0)!==e.currentTarget;)t=t.parent().closest(".app-list-item");i.triggerListItemSelection(t,e)},!0)},e.prototype.onReorderStart=function(e,t){t.placeholder.height(t.item.height()),this.$ulEle.data("oldIndex",t.item.index())},e.prototype.onUpdate=function(e,t){var i=this.fieldDefs,n=t.item.index(),a=this.$ulEle.data("oldIndex"),o=_.min([n,a]),s=_.max([n,a]),r=_.pullAt(i,a)[0];this.reorderProps.minIndex=_.min([o,this.reorderProps.minIndex]),this.reorderProps.maxIndex=_.max([s,this.reorderProps.maxIndex]),i.splice(n,0,r),this.cdRef.markForCheck(),this.cdRef.detectChanges();var l={oldIndex:a,newIndex:n,item:i[n]};this.invokeEventCallback("reorder",{$event:e,$data:i,$changedItem:l}),this.$ulEle.removeData("oldIndex")},e.prototype.configureDnD=function(){var e=$(this.nativeElement);this.$ulEle=e.find(".app-livelist-container"),qt(this.$ulEle,{appendTo:"body"},this.onReorderStart.bind(this),this.onUpdate.bind(this)),this.$ulEle.droppable({accept:".app-list-item"})},e.prototype.checkSelectionLimit=function(e){return!this.selectionlimit||e<this.selectionlimit},e.prototype.getListItemByIndex=function(e){return this.listItems.toArray()[e]},e.prototype.getListItemIndex=function(e){return this.listItems.toArray().indexOf(e)},e.prototype.execute=function(e,t){return![x.DataSource.Operation.IS_API_AWARE,x.DataSource.Operation.IS_PAGEABLE,x.DataSource.Operation.SUPPORTS_SERVER_FILTER].includes(e)&&this.datasource.execute(e,t)},e.prototype.handleKeyDown=function(e,t){e.stopPropagation();var i=this.listItems,n=this.getListItemIndex(this.lastSelectedItem);if(this.multiselect){var a=this.getListItemIndex(this.firstSelectedItem),o=_.isArray(this.selecteditem)?this.selecteditem.length:_.isObject(this.selecteditem)?1:0;"selectPrev"===t?0<n&&(n<=a&&this.checkSelectionLimit(o)?(this.lastSelectedItem=this.getListItemByIndex(n-1),this.toggleListItemSelection(this.lastSelectedItem)):a<n?(this.toggleListItemSelection(this.getListItemByIndex(n)),this.lastSelectedItem=this.getListItemByIndex(n-1)):this.invokeEventCallback("selectionlimitexceed",{$event:e})):"selectNext"===t&&n<i.length-1&&(a<=n&&this.checkSelectionLimit(o)?(this.lastSelectedItem=this.getListItemByIndex(n+1),this.toggleListItemSelection(this.lastSelectedItem)):n<a?(this.toggleListItemSelection(this.getListItemByIndex(n)),this.lastSelectedItem=this.getListItemByIndex(n+1)):this.invokeEventCallback("selectionlimitexceed",{$event:e}))}if("focusPrev"===t)n=n<=0?0:n-1,this.lastSelectedItem=this.getListItemByIndex(n),this.lastSelectedItem.nativeElement.focus();else if("focusNext"===t)n=n<i.length-1?n+1:i.length-1,this.lastSelectedItem=this.getListItemByIndex(n),this.lastSelectedItem.nativeElement.focus();else if("select"===t){if(-1===n||!$(e.target).closest(this.lastSelectedItem.nativeElement)){var s=$(e.target).closest("li.app-list-item");n=s.closest("ul.app-livelist-container").find("li.app-list-item").index(s)}this.onItemClick(e,this.getListItemByIndex(n))}},e.prototype.onPropertyChange=function(e,t,i){var n=this;if("dataset"===e){if(!t&&this.binddatasource&&!this.datasource)return;this.onDataSetChange(t)}else if("datasource"===e)this.dataset&&this.onDataSetChange(this.dataset);else if("navigation"===e){if("Advanced"===t)return void(this.navigation="Classic");x.switchClass(this.nativeElement,t,i),this.onNavigationTypeChange(t),this.dataNavigator&&(this.dataNavigator.navigationClass=this.paginationclass)}else if("itemsperrow"===e)this.setListClass();else{if("tabindex"===e)return;"pulltorefresh"===e&&t?(this.app.notify("pullToRefresh:enable"),this.subscribeToPullToRefresh()):"paginationclass"===e?this.dataNavigator&&setTimeout(function(){return n.dataNavigator.navigationClass=t}):m.prototype.onPropertyChange.call(this,e,t,i)}},e.prototype.onItemClick=function(e,t){var i,n=this;if(!t.disableItem){if(this.firstSelectedItem=this.firstSelectedItem||t,i=_.isArray(this.selecteditem)?this.selecteditem.length:_.isObject(this.selecteditem)?1:0,this.multiselect&&x.isMobileApp())this.checkSelectionLimit(i)||t.isActive?this.toggleListItemSelection(t):this.invokeEventCallback("selectionlimitexceed",{$event:e});else if((e.ctrlKey||e.metaKey)&&this.multiselect)this.checkSelectionLimit(i)||t.isActive?(this.firstSelectedItem=this.lastSelectedItem=t,this.toggleListItemSelection(t)):this.invokeEventCallback("selectionlimitexceed",{$event:e});else if(e.shiftKey&&this.multiselect){var a=t.context.index,o=this.firstSelectedItem.context.index;o<a&&(o=[a,a=o][0]),this.checkSelectionLimit(o-a)?(this.clearSelectedItems(),this.listItems.forEach(function(e){var t=e.context.index;a<=t&&t<=o&&n.toggleListItemSelection(e)}),this.lastSelectedItem=t):this.invokeEventCallback("selectionlimitexceed",{$event:e})}else(!t.isActive||1<i)&&(this.clearSelectedItems(),this.toggleListItemSelection(t),this.firstSelectedItem=this.lastSelectedItem=t);x.$appDigest()}},e.prototype.clear=function(){this.updateFieldDefs([])},e.prototype.getItemRefByIndexOrModel=function(e){return x.isNumber(e)?this.getListItemByIndex(e):this.getListItemByModel(e)},e.prototype.deselectItem=function(e){var t=this.getItemRefByIndexOrModel(e);t&&t.isActive&&this.toggleListItemSelection(t)},e.prototype.selectItem=function(e){var t=this.getItemRefByIndexOrModel(e);t&&(t.isActive||this.toggleListItemSelection(t),t.nativeElement.focus())},e.prototype.beforePaginationChange=function(e,t){this.invokeEventCallback("paginationchange",{$event:e,$index:t})},e.prototype.handleEvent=function(e,n,t,i){var a=this;_.includes(["click","tap","dblclick","doubletap"],n)&&this.eventManager.addEventListener(this.nativeElement,{tap:"click",doubletap:"dblclick"}[n]||n,function(e){var t=$(e.target).closest(".app-list-item");if(t.length){var i=t.data("listItemContext");i.disableItem||a.invokeEventCallback(n,{widget:i,$event:e,item:i.item})}})},e.prototype.subscribeToPullToRefresh=function(){var e=this;this.cancelSubscription=this.app.subscribe("pulltorefresh",function(){e.datasource&&e.datasource.listRecords&&e.datasource.listRecords()})},e.prototype.ngOnInit=function(){m.prototype.ngOnInit.call(this),this.handleHeaderClick=x.noop,this._items=[],this.fieldDefs=[],this.debouncedFetchNextDatasetOnScroll=_.debounce(this.fetchNextDatasetOnScroll,Te),this.reorderProps={minIndex:null,maxIndex:null}},e.prototype.ngAfterViewInit=function(){var e=this;this.promiseResolverFn(),this.propsInitPromise.then(function(){m.prototype.ngAfterViewInit.call(e),e.selectedItemWidgets=e.multiselect?[]:{},e.enablereorder&&!e.groupby&&e.configureDnD(),e.groupby&&e.collapsible&&(e.handleHeaderClick=Ut,e.toggleAllHeaders=zt.bind(undefined,e)),e.setListClass()}),this.setupHandlers();var t=this.nativeElement.querySelector("ul.app-livelist-container");ue(t,this,g.APPLY_STYLES_TYPE.SCROLLABLE_CONTAINER),x.isMobileApp()&&t.querySelector(".app-list-item-action-panel")&&(this._listAnimator=new fo(this))},e.prototype.ngOnDestroy=function(){this._listAnimator&&this._listAnimator.$btnSubscription&&this._listAnimator.$btnSubscription.unsubscribe(),this.cancelSubscription&&this.cancelSubscription()},e.initializeProps=void ge("wm-list",new Map([["boundarylinks",y({value:!1},Ce)],["class",be],["collapsible",Ce],["dateformat",be],["dataset",Ee],["datasource",Ee],["directionlinks",y({value:!0},Ce)],["disableitem",Ce],["enablereorder",Ce],["forceellipses",y({value:!0},Ce)],["groupby",be],["iconclass",be],["itemclass",y({value:""},be)],["itemsperrow",be],["listclass",y({value:"list-group"},be)],["multiselect",Ce],["loadingdatamsg",y({value:"Loading..."},be)],["loadingicon",y({value:"fa fa-circle-o-notch"},be)],["match",be],["maxsize",y({value:5},we)],["name",be],["navigation",be],["navigationalign",y({value:"left"},be)],["nodatamessage",y({value:"No data found"},be)],["ondemandmessage",y({value:"Load More"},be)],["orderby",be],["paginationclass",be],["pagesize",we],["pulltorefresh",y({value:x.isMobileApp()},Ce)],["selectfirstitem",Ce],["selectionlimit",we],["show",y({value:!0},Ce)],["showcount",Ce],["showrecordcount",Ce],["subheading",be],["tabindex",y({value:0},we)],["title",be]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmList]",template:'<div class="panel-heading" *ngIf="title || subheading || iconclass">\n    <h3 class="panel-title">\n        <div class="pull-left">\n            <i class="app-icon panel-icon {{iconclass}}" aria-hidden="true" [hidden]="!iconclass"></i>\n        </div>\n        <div class="pull-left">\n            <div class="heading" [innerHTML]="title | trustAs: \'html\'"></div>\n            <div class="description" [innerHTML]="subheading | trustAs: \'html\'"></div>\n        </div>\n    </h3>\n</div>\n\n<nav class="app-datanavigator" aria-label="Page navigation" *ngIf="navigation === \'Inline\' && !noDataFound">\n    <ul class="pager">\n        <li class="previous" [ngClass]="{\'disabled\': (dataNavigator ? dataNavigator.isDisablePrevious : true)}">\n            <a href="javascript:void(0);" (click)="dataNavigator.navigatePage(\'prev\', $event)">\n                <i class="wi wi-chevron-left" aria-hidden="true"></i>\n                <span class="sr-only">Previous</span>\n            </a>\n        </li>\n    </ul>\n</nav>\n\n<ul tabindex="0" class="app-livelist-container clearfix {{listclass}}"\n    (keydown.enter)="handleKeyDown($event, \'select\')"\n\n    (keydown.arrowup)="handleKeyDown($event, \'focusPrev\')"\n    (keydown.arrowdown)="handleKeyDown($event, \'focusNext\')"\n    (keydown.arrowleft)="handleKeyDown($event, \'focusPrev\')"\n    (keydown.arrowright)="handleKeyDown($event, \'focusNext\')"\n\n    (keydown.shift.arrowup)="handleKeyDown($event, \'selectPrev\')"\n    (keydown.shift.arrowdown)="handleKeyDown($event, \'selectNext\')"\n    (keydown.shift.arrowleft)="handleKeyDown($event, \'selectPrev\')"\n    (keydown.shift.arrowright)="handleKeyDown($event, \'selectNext\')"\n>\n    <ng-template [ngIf]="!groupby" [ngIfElse]="groupedListTemplate">\n        <li *ngFor="let item of fieldDefs; index as $index; first as $first; last as $last;" class="app-list-item {{itemsPerRowClass}}" [ngClass]="listItemRef.itemClass"\n            [wmListItem]="item"\n            #listItemRef="listItemRef"\n            tabindex="0">\n            <ng-container [ngTemplateOutlet]="listTemplate" [ngTemplateOutletContext]="{item: item, $index: $index, itemRef: listItemRef, $first: $first, $last: $last, currentItemWidgets: listItemRef.currentItemWidgets}"></ng-container>\n        </li>\n    </ng-template>\n    <ng-container [ngTemplateOutlet]="listLeftActionTemplate"></ng-container>\n    <ng-container [ngTemplateOutlet]="listRightActionTemplate"></ng-container>\n</ul>\n\n<div class="no-data-msg" *ngIf="noDataFound && !variableInflight" [textContent]="nodatamessage"></div>\n\n<div class="loading-data-msg" *ngIf="variableInflight && !pulltorefresh">\n    <span>\n        <i class="app-icon panel-icon fa-spin" aria-hidden="true" [ngClass]="loadingicon"></i>\n        <span class="sr-only">Loading</span>\n        <span class="loading-text" [textContent]="loadingdatamsg"></span>\n    </span>\n</div>\n\n<nav class="app-datanavigator" *ngIf="navigation === \'Inline\' && !noDataFound">\n    <ul class="pager">\n        <li class="next" [ngClass]="{\'disabled\': (dataNavigator ? dataNavigator.isDisableNext  : true)}">\n            <a href="javascript:void(0);" (click)="dataNavigator.navigatePage(\'next\', $event)">\n                <i class="wi wi-chevron-right" aria-hidden="true"></i>\n                <span class="sr-only">Next</span>\n            </a>\n        </li>\n    </ul>\n</nav>\n\n<div class="panel-footer" *ngIf="navigation !== \'None\'" [hidden]="!showNavigation || (onDemandLoad && dataNavigator.isDisableNext) || (dataNavigator.dataSize <= pagesize) || !dataNavigator.dataSize">\n    <nav wmPagination\n         navigationalign.bind="navigationalign"\n         navigation.bind="navControls"\n         showrecordcount.bind="showrecordcount"\n         maxsize.bind="maxsize"\n         boundarylinks.bind="boundarylinks"\n         forceellipses.bind="forceellipses"\n         directionlinks.bind="directionlinks"\n         show.bind="!onDemandLoad"\n         paginationchange.event="beforePaginationChange($event, $index)"\n    ></nav>\n    <a *ngIf="onDemandLoad" href="javascript:void(0);"\n       (click)="dataNavigator.navigatePage(\'next\', $event)"\n       class="app-button btn btn-block"\n       [ngClass]="paginationclass"\n       [textContent]="ondemandmessage"\n    ></a>\n</div>\n\n\x3c!--This template will be displayed when groupby is specified--\x3e\n<ng-template #groupedListTemplate>\n    <li *ngFor="let groupObj of groupedData" class="app-list-item-group clearfix">\n        <ul class="list-group item-group" [ngClass]="listclass">\n            <li class="app-list-item-header list-item list-group-header" (click)="handleHeaderClick($event)" [ngClass]="{\'collapsible-content\': collapsible}">\n            <h4>{{groupObj.key}}\n                <div class="header-action">\n                    <i class="app-icon wi action wi-chevron-up" *ngIf="collapsible"></i>\n                    <span *ngIf="showcount" class="label label-default">{{groupObj.data.length}}</span>\n                    </div>\n                </h4>\n            </li>\n            <li *ngFor="let item of groupObj.data; index as $index; first as $first; last as $last;" tabindex="0"\n                class="app-list-item group-list-item {{itemsPerRowClass}}"\n                [ngClass]="listItemRef.itemClass"\n                [wmListItem]="item" #listItemRef="listItemRef">\n                <ng-container [ngTemplateOutlet]="listTemplate" [ngTemplateOutletContext]="{item: item, $index: $index, itemRef: listItemRef, $first: $first, $last: $last, currentItemWidgets: listItemRef.currentItemWidgets}"></ng-container>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ChangeDetectorRef},{type:Qn},{type:x.App},{type:x.AppDefaults},{type:h.NgZone},{type:String,decorators:[{type:h.Attribute,args:["itemclass.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["disableitem.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["dataset.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["datasource.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["mouseenter.event"]}]},{type:String,decorators:[{type:h.Attribute,args:["mouseleave.event"]}]}]},e.propDecorators={listTemplate:[{type:h.ContentChild,args:["listTemplate"]}],listLeftActionTemplate:[{type:h.ContentChild,args:["listLeftActionTemplate"]}],listRightActionTemplate:[{type:h.ContentChild,args:["listRightActionTemplate"]}],btnComponents:[{type:h.ContentChildren,args:[Xt]}],dataNavigator:[{type:h.ViewChild,args:[uo]}],listItems:[{type:h.ViewChildren,args:[ho]}]},e}($e),vo={widgetType:"wm-form",hostClass:"panel app-panel app-form"},yo={widgetType:"wm-form",hostClass:"app-form app-login-form"},bo={widgetType:"wm-liveform",hostClass:"panel app-panel app-liveform liveform-inline"},wo={widgetType:"wm-livefilter",hostClass:"panel app-panel app-livefilter clearfix liveform-inline"},Co=function(e,t){var i="";return _.forEach(e,function(e,t){i=i+" "+t+'="'+e+'"'}),'<wm-gridcolumn columnwidth="'+t+'">\n                  <wm-form-field '+i+"></wm-form-field>\n            </wm-gridcolumn>"},Eo=function(e,t){var i=e.find("form.ng-invalid:visible, [formControlName].ng-invalid:visible").first(),n=t;return i.is("form")&&(n=t&&t.controls[i.attr("formControlName")||i.attr("name")])?Eo(i,n):{ngForm:n,$ele:i}},xo=function(e){e.valid||(e.controls?_.forEach(e.controls,function(e){xo(e)}):e.markAsTouched())},Do=function(E){function e(e,t,i,n,a,o,s,r,l,c,d,p,u,h,f,m,g){var v,y,b,w=E.call(this,e,(v=h,y=f,b=vo,null!==u?b=bo:null!==v?b=wo:"app-login"===y&&(b=yo),b))||this;w.fb=t,w.app=i,w.dynamicComponentProvider=n,w.ngZone=a,w.parentList=o,w.parentForm=s,w.onBeforeSubmitEvt=r,w.onSubmitEvt=l,w.onBeforeRenderEvt=c,w.binddataset=d,w.bindformdata=p,w._widgetClass="",w._captionClass="",w.formFields=[],w.formfields={},w.formWidgets={},w.filterWidgets={},w.buttonArray=[],w.dataoutput={},w.formdata={},w.statusMessage={caption:"",type:""},w.primaryKey=[],w._debouncedUpdateFieldSource=_.debounce(w.updateFieldSource,350),w.validationMessages=[],w._debouncedSubmitForm=x.debounce(function(e){w.ngZone.run(function(){w.submitForm(e)})},250),ue(w.nativeElement,w),w.isUpdateMode=!0,w.dialogId=w.nativeElement.getAttribute("dialogId"),w.ngform=t.group({}),w.addInnerNgFormToForm(m||g);var C=w.ngform.valueChanges.subscribe(w.updateDataOutput.bind(w));return w.registerDestroyListener(function(){return C.unsubscribe()}),(w.elScope=w).addEventsToContext(w.context),w}return v(e,E),Object.defineProperty(e.prototype,"isLayoutDialog",{get:function(){return this._isLayoutDialog},set:function(e){e&&x.removeClass(this.nativeElement,"panel app-panel liveform-inline"),this._isLayoutDialog=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUpdateMode",{get:function(){return this._isUpdateMode},set:function(t){this._isUpdateMode=t,this.formFields.forEach(function(e){e.setReadOnlyState(t)})},enumerable:!0,configurable:!0}),e.prototype.submit=function(e){this._debouncedSubmitForm(e)},e.prototype.onReset=function(){this.reset()},e.prototype.ngAfterContentInit=function(){var t=this;setTimeout(function(){t.componentRefs.forEach(function(e){e.name&&(t.formWidgets[e.name]=e)})},250)},e.prototype.findOperationType=function(){},e.prototype.addInnerNgFormToForm=function(e){if(this.parentForm&&this.parentForm.ngform){for(var t=1,i=e;this.parentForm.ngform.controls.hasOwnProperty(i);)i=e+"_"+t,t++;this.formGroupName=i,this.parentForm.ngform.addControl(i,this.ngform)}},e.prototype.addEventsToContext=function(e){var t=this;e.cancel=function(){return t.cancel()},e.reset=function(){return t.reset()},e.save=function(e){return t.save(e)},e.saveAndNew=function(){return t.saveAndNew()},e.saveAndView=function(){return t.saveAndView()},e["delete"]=function(){return t["delete"]()},e["new"]=function(){return t["new"]()},e.edit=function(){return t.edit()},e.highlightInvalidFields=function(){return t.highlightInvalidFields()},e.filter=function(){return t.filter()},e.clearFilter=function(){return t.clearFilter()},e.submit=function(e){return t.submit(e)}},e.prototype.setValidationOnInnerForms=function(a){var o=this,e=this.getNativeElement().querySelectorAll(".app-form");_.forEach(e,function(e){for(var t=e.widget,i=_.get(t,"formGroupName")||t.name,n=t;_.get(n,"parentForm");){i=(n.parentForm.formGroupName||n.parentForm.name)+"."+i,n=n.parentForm}o.setValidationOnFields(t,i,a)})},e.prototype.setValidationOnFields=function(n,a,o){var s=this,e=n.ngform.controls,r=n.formFields;r&&_.forEach(e,function(e,t){var i=r.find(function(e){return e.key===t});!i||o&&!e.touched||(s.prepareValidationObj(e,t,i,a),s.prepareValidationObj.call(n,e,t,i,a))})},e.prototype.prepareValidationObj=function(e,t,i,n){var a=this.validationMessages.findIndex(function(e){return e.field===t&&e.fullyQualifiedFormName===n});e.invalid?-1===a?this.validationMessages.push({field:t,value:i.value,errorType:_.keys(e.errors),message:i.validationmessage||"",getElement:function(){return i.$element.find("[focus-target]")},formName:_.last(n.split(".")),fullyQualifiedFormName:n}):(this.validationMessages[a].value=i.value,this.validationMessages[a].errorType=_.keys(e.errors)):e.valid&&-1<a&&this.validationMessages.splice(a,1)},e.prototype.setValidationMsgs=function(e){!this.formFields.length&&_.isEmpty(this.ngform.controls)||(this.setValidationOnFields(this,this.name,e),this.setValidationOnInnerForms(e))},e.prototype.handleEvent=function(e,t,i,n){"submit"!==t&&E.prototype.handleEvent.call(this,this.nativeElement,t,i,n)},e.prototype.updateFieldSource=function(){var t=this;this.formdatasource&&this.formdatasource.execute(x.DataSource.Operation.IS_API_AWARE)||this.formdatasource&&!this.formdatasource.twoWayBinding||this.formFields.forEach(function(e){e.setFormWidget("datavaluesource",t.formdatasource),e.setFormWidget("binddatavalue",t.bindformdata+"."+e.key)})},e.prototype.highlightInvalidFields=function(){xo(this.ngform)},e.prototype.validateFieldsOnSubmit=function(){if(this.setValidationMsgs(),"delete"===this.operationType||"html"!==this.validationtype&&"default"!==this.validationtype||!this.ngform||!this.ngform.invalid)return!1;if(this.ngform.invalid){"default"===this.validationtype&&this.highlightInvalidFields();var e=Eo(this.$element,this.ngform),t=e.ngForm,i=e.$ele;if((i=i.parent().find("[focus-target]")).length){i.hasClass("app-search-input")||i.focus();var n=t&&t.controls[i.attr("formControlName")||i.attr("name")];return n&&n.markAsTouched&&n.markAsTouched(),x.$appDigest(),!0}return!0}return!1},e.prototype.onPropertyChange=function(e,t,i){switch(e){case"captionalign":this.captionAlignClass="align-"+t;break;case"captionposition":case"captionwidth":this.setLayoutConfig();break;case"captionsize":this.captionsize=t;break;case"novalidate":this.widget.validationtype=!0===t||"true"===t?"none":"default";break;case"formdata":_.isArray(t)?this.setFormData(_.last(t)):this.setFormData(t),!this.isDataSourceUpdated&&this.datasource&&this.onDataSourceChange();break;case"defaultmode":this.isLayoutDialog||(this.updateMode=!(!t||"Edit"!==t),this.isUpdateMode=this.updateMode);break;case"datasource":this.onDataSourceChange();break;case"formdatasource":this.onFormDataSourceChange();break;case"metadata":this.generateFormFields();break;default:E.prototype.onPropertyChange.call(this,e,t,i)}},e.prototype.onResult=function(e,t,i){var n={$event:i,$data:e,$operation:this.operationType};this.invokeEventCallback("result",n),t?this.invokeEventCallback("success",n):this.invokeEventCallback("error",n)},e.prototype.toggleMessage=function(e,t,i,n){var a;e&&t?(a="error"===i&&this.errormessage?this.errormessage:t,"Inline"===this.messagelayout?(this.statusMessage={caption:a||"",type:i},this.messageRef&&this.messageRef.showMessage(this.statusMessage.caption,this.statusMessage.type)):this.app.notifyApp(a,i,n)):this.statusMessage.caption=""},e.prototype.clearMessage=function(){this.toggleMessage(!1)},e.prototype.setLayoutConfig=function(){var e,t,i,n,o,s;t=this.captionwidth,i=this.captionposition,n=_.get(this.app.selectedViewPort,"os"),s=o="","top"===(i=i||"top")?n&&"android"===n||!x.isMobileApp()||x.isAndroid()?o=s="col-xs-12":x.isMobileApp()&&(o="col-xs-4",s="col-xs-8"):t&&_.forEach(_.split(t," "),function(e){var t,i,n=_.split(e,"-"),a=n[0];t=parseInt(n[1],10),o+=" col-"+a+"-"+t,s+=" col-"+a+"-"+(i=(i=12-t)<=0?12:i)}),e={captionCls:o,widgetCls:s},this._widgetClass=e.widgetCls,this._captionClass=e.captionCls,x.$appDigest()},e.prototype.registerFormWidget=function(e){var t=e.name||e.key;this.formWidgets[t]=e},e.prototype.registerFormFields=function(e){this.formFields.push(e),this.formfields[e.key]=e,this.registerFormWidget(e),this._debouncedUpdateFieldSource(),this.parentForm&&(this.parentForm.formFields.push(e),this.parentForm.formfields[e.key]=e)},e.prototype.registerActions=function(e){this.buttonArray.push(e)},e.prototype.updateFormDataOutput=function(i){var n=this;_.forEach(this.ngform.value,function(e,t){_.find(n.formFields,{key:t})||(i[t]=e)}),this.dataoutput=i},e.prototype.constructDataObject=function(){var n=this,a={};return this.getFormFields().forEach(function(e){var t,i;i=null===(i=e.datavalue||e._control.value)||""===i?undefined:i,"file"===e.type&&(i=x.getFiles(n.name,e.key+"_formWidget",e.multiple)),t=e.key||e.target||e.name,_.set(a,t,i)}),this.updateFormDataOutput(a),this.dataoutput},e.prototype.updateDataOutput=function(){this.constructDataObject(),this.ngform.touched&&this.setValidationMsgs(!0)},e.prototype.getFormFields=function(){var t=this;return _.filter(this.formFields,function(e){return e.form.name===t.name})},e.prototype.setFormData=function(t){this.getFormFields().forEach(function(e){e.value=_.get(t,e.key||e.name)}),this.constructDataObject()},e.prototype.resetFormState=function(){var e=this;this.validationMessages.length&&(this.validationMessages=[]),this.ngform&&setTimeout(function(){e.ngform.markAsUntouched(),e.ngform.markAsPristine()})},e.prototype.reset=function(){this.resetFormState(),this.formFields.forEach(function(e){e.value=""}),this.constructDataObject(),this.clearMessage()},e.prototype.submitForm=function(t){var e,i,n,a=this,o=this.datasource;this.validateFieldsOnSubmit()||(this.resetFormState(),e=x.getClonedObject(this.constructDataObject()),n={$event:t,$formData:e,$data:e},this.onBeforeSubmitEvt&&!1===this.invokeEventCallback("beforesubmit",n)||(this.onSubmitEvt||o?o?ot(o,e,{}).then(function(e){a.onResult(e,!0,t),a.toggleMessage(!0,a.postmessage,"success"),a.invokeEventCallback("submit",n)},function(e){i=a.errormessage||e.error||e,a.onResult(e,!1,t),a.toggleMessage(!0,i,"error"),a.invokeEventCallback("submit",n),x.$appDigest()}):(this.onResult({},!0,t),this.invokeEventCallback("submit",n)):this.onResult({},!0,t)))},e.prototype.showButtons=function(t){var i=this;return _.some(this.buttonArray,function(e){return _.includes(e.position,t)&&e.updateMode===i.isUpdateMode})},e.prototype.expandCollapsePanel=function(){this.collapsible&&(this.expanded=!this.expanded)},e.prototype.onDataSourceChange=function(){},e.prototype.onFormDataSourceChange=function(){this.updateFieldSource()},e.prototype.onFieldDefaultValueChange=function(e,t){e.value=ao(t,undefined,e.widgettype)},e.prototype.onFieldValueChange=function(){},e.prototype.generateFormFields=function(){return m(this,void 0,void 0,function(){var t,i,n,a,o,s,r,l,c,d,p;return b(this,function(e){switch(e.label){case 0:if(_.isUndefined(this._isGridLayoutPresent)&&(this._isGridLayoutPresent=0<this.$element.find(".panel-body [wmlayoutgrid]").length),t=this._isGridLayoutPresent?(i=this.$element.find(".form-elements [wmlayoutgrid]:first"),Number(i.attr("columns"))||1):((i=this.$element.find(".form-elements .dynamic-form-container")).length||(this.$element.find(".form-elements").prepend('<div class="dynamic-form-container"></div>'),i=this.$element.find(".form-elements .dynamic-form-container")),1),n=12/t,a="",o=0,l=this.metadata?this.metadata.data||this.metadata:[],this.formFields=[],_.isEmpty(l))return[2];if(this.onBeforeRenderEvt&&(r=this.invokeEventCallback("beforerender",{$metadata:l}))&&(l=r),!_.isArray(l))return[2];for(;l[o];){for(c="",s=0;s<t;s++)l[o]&&(c+=Co(l[o],n)),o++;a+="<wm-gridrow>"+c+"</wm-gridrow>"}return this._isGridLayoutPresent||(a="<wm-layoutgrid>"+a+"</wm-layoutgrid>"),this.dynamicFormRef.clear(),this._dynamicContext||(this._dynamicContext=Object.create(this.viewParent),this._dynamicContext.form=this),[4,this.dynamicComponentProvider.getComponentFactoryRef("app-form-dynamic-"+this.widgetId,a,{noCache:!0,transpile:!0})];case 1:return d=e.sent(),p=this.dynamicFormRef.createComponent(d,0,this.inj),x.extendProto(p.instance,this._dynamicContext),i[0].appendChild(p.location.nativeElement),this.setFormData(this.formdata),[2]}})})},Object.defineProperty(e.prototype,"mode",{get:function(){return this.operationType||this.findOperationType()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.ngform&&this.ngform.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.ngform&&this.ngform.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.ngform&&this.ngform.touched},enumerable:!0,configurable:!0}),e.prototype.invokeActionEvent=function(e,t){x.$parseEvent(t)(this.viewParent,Object.assign(this.context,{$event:e}))},e.initializeProps=function(){x.isMobileApp()&&Ya.set("captionwidth",y({value:"xs-4 sm-4 md-4 lg-4"},be));var e=new Map(Ya);e.set("action",be),e.set("defaultmode",y({value:"Edit"},be)),e.set("metadata",be),e.set("method",be),e.set("postmessage",y({value:"Data posted successfully"},be)),e.set("target",be),e.set("enctype",be),e.set("errormessage",y({value:"An error occured. Please try again!"},be)),e.set("messagelayout",y({value:"Inline"},be)),e.set("formdata",be),e.set("novalidate",Ce),e.set("validationtype",y({value:"default"},be)),e.set("iconclass",be),ge("wm-form",e)}(),e.decorators=[{type:h.Component,args:[{selector:"form[wmForm]",template:'<ng-template #content><ng-content></ng-content></ng-template>\n\n<ng-container *ngIf="formlayout === \'page\'; then pageLayoutTemplate else defaultTemplate">\n</ng-container>\n\n<ng-template #defaultTemplate>\n    <div class="panel-heading" *ngIf="!isLayoutDialog && (title || subheading || iconclass || showButtons(\'header\'))">\n        <h3 class="panel-title">\n            <div class="pull-left">\n                <i class="app-icon panel-icon" aria-hidden="true" [ngClass]="iconclass" *ngIf="iconclass"></i>\n            </div>\n            <div class="pull-left">\n                <div class="heading" [innerHTML]="title | trustAs: \'html\'"></div>\n                <div class="description" [innerHTML]="subheading | trustAs: \'html\'"></div>\n            </div>\n            <div class="form-action panel-actions basic-btn-grp">\n                <ng-container *ngFor="let btn of buttonArray | filter : \'position\' : \'header\'"\n                              [ngTemplateOutlet]="btn.widgetType === \'button\' ? buttonRef : anchorRef" [ngTemplateOutletContext]="{btn:btn}">\n                </ng-container>\n                <button type="button" class="app-icon wi panel-action" *ngIf="collapsible" title="Collapse/Expand"\n                        [ngClass]="expanded ? \'wi-minus\': \'wi-plus\'" (click)="expandCollapsePanel();"></button>\n            </div>\n        </h3>\n    </div>\n    <div class="panel-body" [ngClass]="{\'form-elements\': isLayoutDialog, \'form-body\': !isLayoutDialog}" [class.hidden]="!expanded">\n        <p wmMessage [hidden]="!statusMessage.caption.toString()" caption.bind="statusMessage.caption" type.bind="statusMessage.type"></p>\n        <div [ngClass]="{\'form-elements\': !isLayoutDialog, \'form-content\': isLayoutDialog}">\n            <ng-container *ngTemplateOutlet="content"></ng-container>\n        </div>\n        <div class="basic-btn-grp form-action panel-footer clearfix" [ngClass]="{\'modal-footer\': isLayoutDialog}" [class.hidden]="!expanded || !showButtons(\'footer\')">\n            <ng-container *ngFor="let btn of buttonArray | filter : \'position\' : \'footer\'"\n                          [ngTemplateOutlet]="btn.widgetType === \'button\' ? buttonRef : anchorRef" [ngTemplateOutletContext]="{btn:btn}">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #pageLayoutTemplate>\n    <ng-container *ngTemplateOutlet="content"></ng-container>\n</ng-template>\n\n<ng-template #buttonRef let-btn="btn">\n    <button  wmButton name="{{btn.key}}" caption.bind="btn.displayName" class.bind="btn.class" iconclass.bind="btn.iconclass" show.bind="btn.show"\n             (click)="invokeActionEvent($event, btn.action)" type.bind="btn.type" hint.bind="btn.title" shortcutkey.bind="btn.shortcutkey" disabled.bind="btn.disabled"\n             tabindex.bind="btn.tabindex" [class.hidden]="btn.updateMode ? !isUpdateMode : isUpdateMode"></button>\n</ng-template>\n\n<ng-template #anchorRef let-btn="btn">\n    <a wmAnchor name="{{btn.key}}" caption.bind="btn.displayName" class.bind="btn.class" iconclass.bind="btn.iconclass" show.bind="btn.show"\n             (click)="invokeActionEvent($event, btn.action)" hint.bind="btn.title" shortcutkey.bind="btn.shortcutkey"\n             hyperlink.bind="btn.hyperlink" target.bind="btn.target"\n             tabindex.bind="btn.tabindex" [class.hidden]="btn.updateMode ? !isUpdateMode : isUpdateMode"></a>\n</ng-template>\n\n<ng-container #dynamicForm></ng-container>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:p.FormBuilder},{type:x.App},{type:x.DynamicComponentRefProvider},{type:h.NgZone},{type:go,decorators:[{type:h.Optional}]},{type:e,decorators:[{type:h.SkipSelf},{type:h.Optional}]},{type:undefined,decorators:[{type:h.Attribute,args:["beforesubmit.event"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["submit.event"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["beforerender.event"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["formdata.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["wmLiveForm"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["wmLiveFilter"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["role"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["key"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["name"]}]}]},e.propDecorators={dynamicFormRef:[{type:h.ViewChild,args:["dynamicForm",{read:h.ViewContainerRef}]}],messageRef:[{type:h.ViewChild,args:[lo]}],componentRefs:[{type:h.ContentChildren,args:[k,{descendants:!0}]}],action:[{type:h.HostBinding,args:["action"]}],submit:[{type:h.HostListener,args:["submit",["$event"]]}],onReset:[{type:h.HostListener,args:["reset"]}]},e}($e),ko=function(){function e(e,t,i,n){this.dialogService=i,this.app=n,e&&(this.isLayoutDialog=!0,this.dialogId=e),this.dependson=t,this.eventSubscription=this.app.subscribe("wm-event",this.handleEvent.bind(this))}return e.prototype.openFormDialog=function(){this.dialogService.open(this.dialogId)},e.prototype.onUpdate=function(){this.form.operationType=ve.UPDATE,this.form.isSelected=!0,this.form.edit()},e.prototype.onInsert=function(){this.form.operationType=ve.INSERT,this.form.isSelected=!0,this.form["new"]()},e.prototype.handleEvent=function(e){if(this.dependson===e.widgetName)switch(this.currentOp=e.eventName,e.eventName){case ve.UPDATE:this.isLayoutDialog?this.openFormDialog():this.onUpdate();break;case ve.INSERT:this.isLayoutDialog?this.openFormDialog():this.onInsert();break;case ve.DELETE:this.app.Widgets[this.dependson].call("delete",{row:e.row});break;case ve.READ:this.isLayoutDialog||(this.form.isUpdateMode=!1)}},e.prototype.onFormRender=function(){var e=this;this.form&&this.isLayoutDialog&&setTimeout(function(){e.currentOp===ve.UPDATE?e.onUpdate():e.currentOp===ve.INSERT&&e.onInsert()},250)},e.prototype.ngAfterContentInit=function(){var t=this;this.formChildren.first?this.form=this.formChildren.first:this.formSubscription=this.formChildren.changes.subscribe(function(e){t.form=e.first,t.onFormRender()})},e.prototype.ngOnDestroy=function(){this.formSubscription&&this.formSubscription.unsubscribe(),this.eventSubscription&&this.eventSubscription()},e.decorators=[{type:h.Directive,args:[{selector:"[dependson]"}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:h.Attribute,args:["dialogid"]}]},{type:String,decorators:[{type:h.Attribute,args:["dependson"]}]},{type:x.AbstractDialogService},{type:x.App}]},e.propDecorators={formChildren:[{type:h.ContentChildren,args:[Do,{descendants:!0}]}]},e}(),_o={widgetType:"wm-dialog"},Io={},Po=function(r){function e(e,t,i,n,a){var o=this;null!==i&&i!==undefined||(i=!0),null!==n&&n!==undefined||(n=!0),a[0].closeDialog=function(){return o.close()};var s=!x.toBoolean(i)||"static";return o=r.call(this,e,_o,{"class":"app-dialog modal-dialog "+(t||""),backdrop:s,keyboard:!x.toBoolean(i)})||this}return v(e,r),e.prototype.getTemplateRef=function(){return this.dialogTemplate},e.prototype.ngOnInit=function(){r.prototype.ngOnInit.call(this),this.register(this.viewParent)},e.initializeProps=void ge("wm-dialog",new Map([["animation",be],["class",be],["closable",{value:!0,PROP_BOOLEAN:Ce}],["iconclass",{value:"wi wi-file-text",PROP_STRING:be}],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["modal",y({value:!0},Ce)],["name",be],["showheader",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",y({value:"Information"},be)],["eventsource",Ee]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmDialog]",template:'<ng-template #dialogTemplate>\n    <div wmDialogHeader [closable]="closable"\n         [iconclass]="iconclass"\n         [iconurl]="iconurl"\n         [iconwidth]="iconwidth"\n         [iconheight]="iconheight"\n         [iconmargin]="iconmargin"\n         [heading]="title"\n         *ngIf="showheader"\n    ></div>\n    <div wmDialogBody>\n        <ng-container *ngTemplateOutlet="dialogBody"></ng-container>\n    </div>\n    <ng-container *ngTemplateOutlet="dialogFooter"></ng-container>\n</ng-template>',providers:[z(e),U(e),{provide:P,useValue:Io,multi:!0}]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["class"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["modal"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["closable"]}]},{type:Array,decorators:[{type:h.Self},{type:h.Inject,args:[P]}]}]},e.propDecorators={dialogTemplate:[{type:h.ViewChild,args:["dialogTemplate",{read:h.TemplateRef}]}],dialogBody:[{type:h.ContentChild,args:["dialogBody",{read:h.TemplateRef}]}],dialogFooter:[{type:h.ContentChild,args:["dialogFooter",{read:h.TemplateRef}]}]},e}(qe),So=function(){function e(i,e,t){var n=this;this.dialogRef=e,x.addClass(i.nativeElement,"app-dialog-body modal-body");var a=t.onShown.subscribe(function(){var e=$(i.nativeElement).closest(".app-dialog")[0],t=n.dialogRef.width;e&&(t&&x.setCSS(e,"width",t),x.setAttr(e,"tabindex",n.dialogRef.tabindex),x.setAttr(e,"name",n.dialogRef.name)),a.unsubscribe()})}return e.decorators=[{type:h.Directive,args:[{selector:"div[wmDialogBody]"}]}],e.ctorParameters=function(){return[{type:h.ElementRef},{type:undefined,decorators:[{type:h.Inject,args:[I]}]},{type:d.BsModalService}]},e.propDecorators={height:[{type:h.HostBinding,args:["style.height"]}]},e}(),To={widgetType:"wm-dialogfooter",hostClass:"app-dialog-footer modal-footer"},Oo=function(t){function e(e){return t.call(this,e,To)||this}return v(e,t),e.initializeProps=void ge("wm-dialogfooter",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"div[wmDialogFooter]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}(Ne),Ao=function(){function e(e,t){this.dialogRef=t,this.iconwidth="21px",this.iconheight="21px",this.closable=!0,x.addClass(e.nativeElement,"app-dialog-header modal-header")}return Object.defineProperty(e.prototype,"isClosable",{get:function(){return x.toBoolean(this.closable)},enumerable:!0,configurable:!0}),e.prototype.closeDialog=function(){this.dialogRef.close()},e.decorators=[{type:h.Component,args:[{selector:"div[wmDialogHeader]",template:'<button *ngIf="isClosable" aria-label="Close" class="app-dialog-close close" (click)="closeDialog();" title="Close">\n    <span aria-hidden="true">&times;</span>\n</button>\n<h4 class="app-dialog-title modal-title">\n    <i [ngClass]="iconclass" [ngStyle]="{width: iconwidth, height: iconheight, margin: iconmargin}"  *ngIf="iconclass && !iconurl"></i>\n    <img data-identifier="img" [src]="iconurl | image" *ngIf="iconurl" [ngStyle]="{width:iconwidth, height:iconheight, margin:iconmargin}"/>\n    <span class="dialog-heading" [textContent]="heading"></span>\n    <span class="dialog-sub-heading" *ngIf="subheading" [title]="subheading" [textContent]="subheading"></span>\n</h4>'}]}],e.ctorParameters=function(){return[{type:h.ElementRef},{type:qe,decorators:[{type:h.Inject,args:[I]}]}]},e.propDecorators={iconwidth:[{type:h.Input}],iconheight:[{type:h.Input}],iconmargin:[{type:h.Input}],iconclass:[{type:h.Input}],iconurl:[{type:h.Input}],closable:[{type:h.Input}],heading:[{type:h.Input}],subheading:[{type:h.Input}]},e}(),Ro={widgetType:"wm-footer",hostClass:"app-footer clearfix"},Lo=function(i){function e(e){var t=i.call(this,e,Ro)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-footer",new Map([["name",be],["class",be],["content",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmFooter]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Fo={widgetType:"wm-form-action",hostClass:""},Mo=function(n){function e(e,t){var i=n.call(this,e,Fo)||this;return i.form=t,i}return v(e,n),e.prototype.populateAction=function(){this.buttonDef={key:this.key||this.binding,displayName:this["display-name"],show:this.show,"class":this["class"]?this["class"]:"button"===this["widget-type"]?"btn-secondary":"",iconclass:this.iconclass||"",title:_.isUndefined(this.title)?this["display-name"]||"":this.title,action:this.action,accessroles:this.accessroles,shortcutkey:this.shortcutkey,disabled:this.disabled,tabindex:this.tabindex,iconname:this.iconname,type:this.type,updateMode:this["update-mode"],position:this.position,widgetType:this["widget-type"],hyperlink:this.hyperlink,target:this.target},this._propsInitialized=!0},e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this.populateAction(),this.form.registerActions(this.buttonDef)},e.prototype.onPropertyChange=function(e,t,i){if(this._propsInitialized)switch(e){case"display-name":this.buttonDef.displayName=t;default:this.buttonDef[e]=t}},e.initializeProps=void ge("wm-form-action",new Map([["accessroles",be],["action",be],["class",be],["binding",be],["disabled",Ce],["display-name",be],["hyperlink",be],["iconclass",be],["iconname",be],["key",be],["position",y({value:"footer"},be)],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["target",be],["title",be],["type",y({value:"button"},be)],["update-mode",y({value:!0},Ce)],["widget-type",y({value:"button"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmFormAction]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Do,decorators:[{type:h.Optional}]}]},e}(Ne),No=new Map([["class",be],["datavalue",be],["disabled",Ce],["hint",be],["name",be],["placeholder",y({value:"Select Color"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)]]),$o=new Map([["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["localefilter",be],["minvalue",we],["maxvalue",we],["name",be],["numberfilter",be],["placeholder",y({value:"Enter number"},be)],["readonly",Ce],["regexp",be],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["step",y({value:1},we)],["tabindex",y({value:0},we)],["updateon",be]]),Vo=new Map([["autocomplete",y({value:!0},Ce)],["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["maxchars",we],["maxvalue",we],["minvalue",we],["name",be],["placeholder",y({value:"Enter text"},be)],["readonly",Ce],["regexp",be],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["step",we],["tabindex",y({value:0},we)],["type",be],["updateon",be]]),Bo=new Map([["autocomplete",y({value:!0},Ce)],["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["displayformat",be],["hint",be],["maxchars",we],["name",be],["placeholder",y({value:"Enter text"},be)],["readonly",Ce],["regexp",be],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["type",y({value:"text"},be)],["updateon",be]]),Wo=new Map([["autocomplete",y({value:!0},Ce)],["autofocus",Ce],["class",be],["datasource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["maxvalue",we],["minvalue",we],["name",be],["placeholder",y({value:"Enter text"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["step",we],["tabindex",y({value:0},we)],["type",be],["updateon",be]]),jo=new Map([["autocomplete",y({value:!0},Ce)],["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["name",be],["placeholder",y({value:"Enter text"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["type",be],["updateon",be]]),zo=new Map([["autocomplete",y({value:!0},Ce)],["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["maxchars",we],["name",be],["placeholder",y({value:"Enter text"},be)],["readonly",Ce],["regexp",be],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["type",be],["updateon",be]]),Uo=new Map([["class",be],["compareby",be],["datafield",be],["dataset",y({value:"Option 1, Option 2, Option 3"},Ee)],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["displayexpression",be],["displayfield",be],["displayValue",be],["itemclass",y({value:""},be)],["layout",y({value:"stacked"},be)],["listclass",y({value:""},be)],["name",be],["orderby",be],["readonly",Ce],["required",Ce],["show",y({value:!0},Ce)],["showindevice",y({displayType:"inline-block",value:"all"},be)],["tabindex",y({value:0},we)],["usekeys",Ce]]),qo=new Map([["caption",be],["class",be],["datafield",be],["dataset",Ee],["datavaluesource",Ee],["datavalue",be],["displayexpression",be],["displayfield",be],["hint",be],["iconcolor",be],["iconsize",be],["maxvalue",y({value:5},we)],["name",be],["orderby",be],["readonly",Ce],["show",y({value:!0},Ce)],["showcaptions",y({value:!0},Ce)],["tabindex",y({value:0},we)],["usekeys",Ce]]),Ho=new Map([["class",be],["datavaluesource",Ee],["datavalue",be],["height",be],["name",be],["placeholder",be],["readonly",Ce],["show",y({value:!0},Ce)],["showpreview",y({value:!1},Ce)],["tabindex",y({value:0},we)]]),Go=new Map([["autofocus",Ce],["class",y({value:""},be)],["compareby",be],["datafield",be],["dataset",Ee],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["displayexpression",be],["displayfield",be],["displayValue",be],["hint",be],["multiple",y({value:!1},Ce)],["name",be],["orderby",be],["placeholder",be],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["usekeys",Ce]]),Yo=new Map([["class",be],["datavalue",be],["disabled",Ce],["hint",be],["maxvalue",we],["minvalue",we],["name",be],["readonly",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["step",we],["tabindex",y({value:0},we)]]),Ko=new Map([["class",be],["compareby",be],["datafield",be],["dataset",y({value:"yes, no, maybe"},Ee)],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["displayexpression",be],["displayfield",be],["hint",be],["iconclass",be],["name",be],["orderby",be],["required",Ce],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)]]),Qo=new Map([["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["maxchars",we],["name",be],["placeholder",y({value:"Place your text"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["updateon",be]]),Xo=new Map([["autofocus",Ce],["class",be],["datavaluesource",Ee],["datavalue",be],["disabled",Ce],["hint",be],["hourstep",y({value:1},we)],["maxtime",be],["mintime",be],["minutestep",y({value:15},we)],["name",be],["outputformat",y({value:"HH:mm:ss"},be)],["placeholder",y({value:"Select time"},be)],["readonly",Ce],["required",Ce],["shortcutkey",be],["show",y({value:!0},Ce)],["showdropdownon",y({value:"default"},be)],["secondsstep",y({value:1},we)],["tabindex",y({value:0},we)],["timepattern",be],["timestamp",be]]),Zo=function(){return{custom:!0}},Jo={image:"image/*",video:"video/*",audio:"audio/*"},es={},ts=function(g){function e(e,t,i,n,a,o,s,r,l,c,d,p,u,h){var f=this,m={widgetType:"wm-form-field",hostClass:"",widgetSubType:"wm-form-field-"+(r||x.FormWidgetType.TEXT).trim()};return(f=g.call(this,e,m,new Promise(function(e){return f._initPropsRes=e}))||this)._validators=[],f["class"]="",f.binddataset=a,f.binddisplayexpression=o,f.binddisplaylabel=s,f.form=t,f.fb=i,f._fieldName=c||l,f.isRange=d,f.excludeProps=new Set(["type","name"]),f.widgettype=r,f.parentList=n,(f.binddataset||f.$element.attr("dataset"))&&(f.isDataSetBound=!0),h[0]._onFocusField=f._onFocusField.bind(f),h[0]._onBlurField=f._onBlurField.bind(f),f._debounceSetUpValidators=x.debounce(function(){return f.setUpValidators()},500),f}return v(e,g),e.prototype._onFocusField=function(e){$(e.target).closest(".live-field").addClass("active")},e.prototype._onBlurField=function(e){$(e.target).closest(".live-field").removeClass("active"),this.setUpValidators()},e.prototype.evaluateExpr=function(e,t){if(t||(t=Object.keys(e)[0]))return R(e,{expression:t},this.viewParent)},e.prototype.getDisplayExpr=function(){var t=this,i=[],e=this.value,n=this.displayexpression||this.displayfield||this.displaylabel;return _.isObject(e)?(_.isArray(e)?_.forEach(e,function(e){_.isObject(e)&&i.push(t.evaluateExpr(e,n))}):i.push(this.evaluateExpr(e,n)),_.join(i,",")):e===undefined||null===e?"":this.value},e.prototype.getCaption=function(){return this.value===undefined||null===this.value?_.get(this.form.dataoutput,this._fieldName)||"":this.value},e.prototype.setUpValidators=function(e){if(this._validators=[],this.required&&!1!==this.show&&(this.widgettype===x.FormWidgetType.CHECKBOX||this.widgettype===x.FormWidgetType.TOGGLE?this._validators.push(p.Validators.requiredTrue):this._validators.push(p.Validators.required)),this.maxchars&&this._validators.push(p.Validators.maxLength(this.maxchars)),this.minvalue&&this._validators.push(p.Validators.min(this.minvalue)),this.maxvalue&&this.widgettype!==x.FormWidgetType.RATING&&this._validators.push(p.Validators.max(this.maxvalue)),this.regexp&&this._validators.push(p.Validators.pattern(this.regexp)),_.isFunction(this.formWidget.validate)&&this._validators.push(this.formWidget.validate.bind(this.formWidget)),e&&this._validators.push(e),this.ngform){this._control.setValidators(this._validators);var t={};this.value===this.formWidget.prevDatavalue&&(t.emitEvent=!1),this._control.updateValueAndValidity(t)}},e.prototype.setFormWidget=function(e,t){this.formWidget&&this.formWidget.widget&&(this.formWidget.widget[e]=t)},e.prototype.setMaxFormWidget=function(e,t){this.formWidgetMax&&(this.formWidgetMax.widget[e]=t)},e.prototype.onPropertyChange=function(e,t,i){if("tabindex"!==e&&g.prototype.onPropertyChange.call(this,e,t,i),!this.excludeProps.has(e)){if(this.widgettype===x.FormWidgetType.UPLOAD)return"required"===e&&this._debounceSetUpValidators(),void g.prototype.onPropertyChange.call(this,e,t,i);switch(this.setFormWidget(e,t),"placeholder"!==e&&this.setMaxFormWidget(e,t),e){case"defaultvalue":this.form.onFieldDefaultValueChange(this,t);break;case"maxdefaultvalue":this.maxValue=t,this.setMaxFormWidget("datavalue",t),this.form.onMaxDefaultValueChange();break;case"maxplaceholder":this.setMaxFormWidget("placeholder",t);break;case"required":case"maxchars":case"minvalue":case"maxvalue":case"regexp":case"show":this._debounceSetUpValidators();break;case"primary-key":t&&this.form.setPrimaryKey(this._fieldName);break;case"display-name":this.displayname=t;break;case"readonly":this.setReadOnlyState()}}},e.prototype.onStyleChange=function(e,t,i){this.setFormWidget(e,t),this.setMaxFormWidget(e,t),g.prototype.onStyleChange.call(this,e,t,i)},Object.defineProperty(e.prototype,"datavalue",{get:function(){return this.formWidget&&this.formWidget.datavalue},set:function(e){this._control&&this.widgettype!==x.FormWidgetType.UPLOAD&&this._control.setValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.datavalue},set:function(e){this.datavalue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.formWidgetMax&&this.formWidgetMax.datavalue},set:function(e){this._maxControl&&this._maxControl.setValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_control",{get:function(){return this.ngform&&this.ngform.controls[this._fieldName]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_maxControl",{get:function(){return this.ngform&&this.ngform.controls[this._fieldName+"_max"]},enumerable:!0,configurable:!0}),e.prototype.createControl=function(){return this.fb.control(undefined,{validators:this._validators})},e.prototype.onValueChange=function(e){this.isDestroyed||this.form.onFieldValueChange(this,e)},e.prototype.setValidationMessage=function(e){var t=this;setTimeout(function(){t.validationmessage=e,t.setUpValidators(Zo)})},e.prototype.setReadOnlyState=function(){var e;e=!this.form.isUpdateMode||(!this["primary-key"]||this["is-related"]||this.period?this.readonly:!("assigned"===this.generator&&"update"!==this.form.operationType)),this.setFormWidget("readonly",e)},e.prototype.resetDisplayInput=function(){x.isDefined(this.value)&&""!==this.value||this.formWidget&&this.formWidget.resetDisplayInput&&this.formWidget.resetDisplayInput()},e.prototype.triggerUploadEvent=function(e,t){var i={$event:e};"change"===t&&(i.newVal=e.target.files,i.oldVal=this._oldUploadVal,this._oldUploadVal=i.newVal),this.invokeEventCallback(t,i)},e.prototype.registerFormField=function(){var e=this._fieldName;if(this.parentList&&this.form.parentList!==this.parentList){for(var t=1,i=e;this.ngform.controls.hasOwnProperty(i);)i=e+"_"+t,t++;this.ngform.addControl(i,this.createControl()),this._fieldName=i}else this.ngform.addControl(e,this.createControl());var n=this._control.valueChanges.pipe(r.debounceTime(200)).subscribe(this.onValueChange.bind(this));if(this.registerDestroyListener(function(){return n.unsubscribe()}),"true"===this.isRange){this.ngform.addControl(e+"_max",this.createControl());var a=this._maxControl.valueChanges.pipe(r.debounceTime(200)).subscribe(this.onValueChange.bind(this));this.registerDestroyListener(function(){return a.unsubscribe()})}this.value=_.get(this.form.formdata,this._fieldName)},e.prototype.ngOnInit=function(){this.ngform=this.form.ngform,this.registerFormField(),g.prototype.ngOnInit.call(this)},e.prototype.ngAfterContentInit=function(){var i=this;g.prototype.ngAfterContentInit.call(this),this.formWidget&&(this._initPropsRes(),this.setFormWidget("binddisplaylabel",this.binddisplaylabel),this.setFormWidget("binddisplayexpression",this.binddisplayexpression)),this.registerReadyStateListener(function(){var e;if(i.key=i._fieldName||i.target||i.binding,i.viewmodewidget=i.viewmodewidget||(e=i.widgettype,_.includes(["checkbox","toggle","rating"],e)?Ka:Qa),i.widgettype===x.FormWidgetType.UPLOAD){var t;t=i.filetype?Jo[i.filetype]:"",i.permitted=t+(i.extensions?(t?",":"")+i.extensions:"")}x.isMobile()?i["mobile-display"]||(i.widget.show=!1):i["pc-display"]||(i.widget.show=!1),i.form.registerFormFields(i.widget),x.addForIdAttributes(i.nativeElement),i.setReadOnlyState()})},e.initializeProps=function(){var e=new Map([["disabled",Ce],["extensions",be],["filetype",be],["multiple",Ce],["readonly",Ce],["required",Ce]]),i=new Map(Bo),t=function(e){e.forEach(function(e,t){return i.set(t,e)})};t(Wo),t(jo),t(zo),t(Vo);var n=new Map([[x.FormWidgetType.AUTOCOMPLETE,fa],[x.FormWidgetType.CHECKBOX,zn],[x.FormWidgetType.CHECKBOXSET,ca],[x.FormWidgetType.CHIPS,ha],[x.FormWidgetType.COLORPICKER,No],[x.FormWidgetType.CURRENCY,Aa],[x.FormWidgetType.DATE,Na],[x.FormWidgetType.DATETIME,Ua],[x.FormWidgetType.NUMBER,$o],[x.FormWidgetType.PASSWORD,Bo],[x.FormWidgetType.RADIOSET,Uo],[x.FormWidgetType.RATING,qo],[x.FormWidgetType.RICHTEXT,Ho],[x.FormWidgetType.SELECT,Go],[x.FormWidgetType.SLIDER,Yo],[x.FormWidgetType.SWITCH,Ko],[x.FormWidgetType.TEXT,i],[x.FormWidgetType.TEXTAREA,Qo],[x.FormWidgetType.TIME,Xo],[x.FormWidgetType.TIMESTAMP,Ua],[x.FormWidgetType.TOGGLE,zn],[x.FormWidgetType.TYPEAHEAD,fa],[x.FormWidgetType.UPLOAD,e]]),a=new Map([["debouncetime",y({value:250},we)],["defaultvalue",be],["displayname",be],["display-name",be],["field",be],["filterexpressions",be],["filter-on",be],["generator",be],["hint",be],["inputtype",be],["is-primary-key",Ce],["is-range",Ce],["is-related",Ce],["isformfield",{value:!0}],["key",be],["limit",we],["lookup-type",be],["lookup-field",be],["name",be],["matchmode",be],["maxdefaultvalue",be],["maxplaceholder",be],["mobile-display",y({value:!0},Ce)],["period",Ce],["pc-display",y({value:!0},Ce)],["placeholder",be],["primary-key",Ce],["related-entity-name",be],["required",Ce],["show",y({value:!0},Ce)],["type",be],["validationmessage",be],["viewmodewidget",be],["widgettype",be]]);n.forEach(function(e,t){var i=new Map(a);n.get(t).forEach(function(e,t){return i.set(t,e)}),ge("wm-form-field-"+t,i)})}(),e.decorators=[{type:h.Directive,args:[{selector:"[wmFormField]",exportAs:"wmFormField",providers:[z(e),j(e),{provide:P,useValue:es,multi:!0}]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Do},{type:p.FormBuilder},{type:go,decorators:[{type:h.Optional}]},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["displayexpression.bind"]}]},{type:String,decorators:[{type:h.Attribute,args:["displaylabel.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["widgettype"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["name"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["key"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["is-range"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["pc-display"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["mobile-display"]}]},{type:Array,decorators:[{type:h.Self},{type:h.Inject,args:[P]}]}]},e.propDecorators={formWidget:[{type:h.ContentChild,args:["formWidget"]}],formWidgetMax:[{type:h.ContentChild,args:["formWidgetMax"]}]},e}($e),is={widgetType:"wm-header",hostClass:"app-header clearfix"},ns=function(i){function e(e){var t=i.call(this,e,is)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-header",new Map([["name",be],["class",be],["content",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmHeader]",template:'<div class="app-header-menu" data-role="page-left-panel-icon">\n    <a class="app-header-action">\n        <i class="wi wi-menu"></i>\n    </a>\n</div>\n<div class="app-header-container" partial-container-target></div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),as=function(){function e(e){this.domSanitizer=e}return e.prototype.transform=function(e,t){return"resource"===t||t===h.SecurityContext.RESOURCE_URL?e?this.domSanitizer.bypassSecurityTrustResourceUrl(e):"":"html"===t||t===h.SecurityContext.HTML?null===e||e===undefined?"":this.domSanitizer.sanitize(h.SecurityContext.HTML,e):void 0},e.decorators=[{type:h.Pipe,args:[{name:"trustAs"}]}],e.ctorParameters=function(){return[{type:c.DomSanitizer}]},e}(),os={widgetType:"wm-html",hostClass:"app-html-container"},ss=function(o){function e(e,t,i,n){var a=o.call(this,e,os)||this;return a.boundContent=i,a.trustAsPipe=n,t&&x.setCSS(a.nativeElement,"overflow","auto"),ue(a.nativeElement,a),a}return v(e,o),e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.boundContent&&(this.nativeElement.innerHTML=""),!this.content&&this.nativeElement.innerHTML&&(this.content=this.nativeElement.innerHTML)},e.prototype.onPropertyChange=function(e,t,i){"content"===e?x.setProperty(this.nativeElement,"innerHTML",this.trustAsPipe.transform(t,h.SecurityContext.HTML)):o.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-html",new Map([["class",be],["content",be],["hint",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmHtml]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["height"]}]},{type:String,decorators:[{type:h.Attribute,args:["content.bind"]}]},{type:as}]},e}($e),rs={widgetType:"wm-icon",hostClass:"app-icon-wrapper"},ls=function(i){function e(e){var t=i.call(this,e,rs)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-icon",new Map([["caption",be],["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["hint",be],["iconclass",y({value:"wi wi-star-border"},be)],["iconposition",y({value:"left"},be)],["iconsize",be],["iconurl",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmIcon]",template:'<i class="app-icon {{iconclass}}"></i>\n<span class="sr-only" *ngIf="iconclass">{{caption}} {{appLocale.LABEL_ICON}}</span>\n<label class="app-label" [textContent]="caption" *ngIf="caption"></label>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={iconposition:[{type:h.HostBinding,args:["attr.icon-position"]}],iconsize:[{type:h.HostBinding,args:["style.fontSize"]}]},e}($e),cs={widgetType:"wm-iframe",hostClass:"embed-responsive app-iframe"},ds=function(n){function e(e,t){var i=n.call(this,e,cs)||this;return i.trustAsPipe=t,i.showContentLoadError=!1,ue(i.nativeElement,i),i}return v(e,n),e.prototype.computeIframeSrc=function(){if(this.showContentLoadError=!1,this._iframesrc=undefined,this.iframesrc){var e=this.iframesrc;this.encodeurl&&(e=x.encodeUrl(this.iframesrc));var t=this.trustAsPipe.transform(e,h.SecurityContext.RESOURCE_URL);x.isInsecureContentRequest(e)&&(this.showContentLoadError=!0,this.errorMsg=this.appLocale.MESSAGE_ERROR_CONTENT_DISPLAY+" "+this.iframesrc,this.hintMsg=this.errorMsg),this._iframesrc=t}},e.prototype.onPropertyChange=function(e,t,i){"iframesrc"===e||"encodeurl"===e?this.computeIframeSrc():n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-iframe",new Map([["class",be],["encodeurl",Ce],["height",y({value:"150px"},be)],["iframesrc",be],["name",be],["show",y({value:!0},Ce)],["width",y({value:"300px"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmIframe]",template:'<iframe title="" class="embed-responsive-item iframe-content" role="document"\n        scrolling="auto"\n        marginheight="0"\n        marginwidth="0"\n        frameborder="0"\n        [name]="name"\n        [attr.src]="_iframesrc"\n        seamless="seamless">\n</iframe>\n<div class="wm-content-info readonly-wrapper" *ngIf="showContentLoadError">\n    <p class="wm-message" [title]="hintMsg" [textContent]="errMsg"></p>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:as}]},e}($e),ps={widgetType:"wm-iframedialog"},us=function(o){function e(e,t,i,n){null!==i&&i!==undefined||(i=!1),null!==n&&n!==undefined||(n=!0);var a=!x.toBoolean(i)||"static";return o.call(this,e,ps,{"class":"app-dialog modal-dialog app-iframe-dialog "+(t||""),backdrop:a,keyboard:!x.toBoolean(i)})||this}return v(e,o),e.prototype.getTemplateRef=function(){return this.dialogTemplate},e.prototype.onOk=function(e){this.invokeEventCallback("ok",{$event:e})},e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.register(this.viewParent)},e.initializeProps=void ge("wm-iframedialog",new Map([["animation",be],["class",be],["closable",{value:!0,PROP_BOOLEAN:Ce}],["encodeurl",y({value:!1},Ce)],["height",y({value:"400px"},be)],["iconclass",{value:"wi wi-globe",PROP_STRING:be}],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["modal",y({value:!1},Ce)],["name",be],["oktext",y({value:"OK"},be)],["showactions",y({value:!0},Ce)],["showheader",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",y({value:"External Content"},be)],["url",y({value:"//www.wavemaker.com"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmIframeDialog]",template:'<ng-template #dialogTemplate>\n    <div wmDialogHeader [closable]="closable"\n         [iconclass]="iconclass"\n         [iconurl]="iconurl"\n         [iconwidth]="iconwidth"\n         [iconheight]="iconheight"\n         [iconmargin]="iconmargin"\n         [heading]="title"\n         *ngIf="showheader"\n    ></div>\n    <div wmDialogBody>\n        <div wmIframe encodeurl.bind="encodeurl" iframesrc.bind="url" height.bind="height" width.bind="width" hint.bind="hint"></div>\n    </div>\n    <div wmDialogFooter *ngIf="showactions">\n        <button wmButton class="btn-primary ok-action" caption.bind="oktext" aria-label="Submit button" (click)="onOk($event)"></button>\n    </div>\n</ng-template>\n',providers:[z(e),U(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["class"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["modal"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["closable"]}]}]},e.propDecorators={dialogTemplate:[{type:h.ViewChild,args:["dialogTemplate"]}]},e}(qe),hs=function(){function e(){}return e.prototype.transform=function(e,t,i){return N(e,t,i)},e.decorators=[{type:h.Pipe,args:[{name:"image"}]}],e}(),fs={widgetType:"wm-input-calendar",hostClass:"app-input-wrapper"},ms=function(t){function e(e){return t.call(this,e,fs)||this}return v(e,t),e.initializeProps=void ge("wm-input-calendar",Wo),e.decorators=[{type:h.Component,args:[{selector:'wm-input[type="date"], wm-input[type="datetime-local"], wm-input[type="month"], wm-input[type="time"], wm-input[type="week"]',template:'<input class="form-control app-textbox"\n       focus-target\n       role="input"\n       [type]="type"\n       [attr.name]="name"\n       [(ngModel)]="datavalue"\n       [readonly]="readonly"\n       [required]="required"\n       [disabled]="disabled"\n       [min]="minvalue"\n       [max]="maxvalue"\n       [step]="step"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (blur)="handleBlur($event)"\n       (ngModelChange)="handleChange($event)"\n       [autocomplete]="autocomplete ? \'on\' : \'off\'"\n       #input>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),gs={widgetType:"wm-input-color",hostClass:"app-input-wrapper"},vs=function(t){function e(e){return t.call(this,e,gs)||this}return v(e,t),e.initializeProps=void ge("wm-input-color",jo),e.decorators=[{type:h.Component,args:[{selector:'wm-input[type="color"]',template:'<input class="form-control app-textbox"\n       focus-target\n       type="color"\n       role="input"\n       [attr.name]="name"\n       [(ngModel)]="datavalue"\n       [readonly]="readonly"\n       [required]="required"\n       [disabled]="disabled"\n       [maxlength]="maxchars"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (blur)="handleBlur($event)"\n       (ngModelChange)="handleChange($event)"\n       #input>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),ys={widgetType:"wm-input-email",hostClass:"app-input-wrapper"},bs=function(t){function e(e){return t.call(this,e,ys)||this}return v(e,t),e.initializeProps=void ge("wm-input-email",zo),e.decorators=[{type:h.Component,args:[{selector:'wm-input[type="email"]',template:'<input class="form-control app-textbox"\n       focus-target\n       role="input"\n       type="email"\n       [attr.name]="name"\n       [(ngModel)]="datavalue"\n       [ngModelOptions]="ngModelOptions"\n       [readonly]="readonly"\n       [required]="required"\n       [disabled]="disabled"\n       [maxlength]="maxchars"\n       [pattern]="regexp"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (blur)="handleBlur($event)"\n       (ngModelChange)="handleChange($event)"\n       [autocomplete]="autocomplete ? \'on\' : \'off\'"\n       (keyup.enter)="flushViewChanges(input.value)"\n       email\n       #input>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),ws={widgetType:"wm-input-number",hostClass:"app-input-wrapper"},Cs=function(t){function e(e){return t.call(this,e,ws)||this}return v(e,t),e.prototype.onArrowPress=function(e){0===this.step&&e.preventDefault()},e.prototype.validateInputEntry=function(e){if("e"===e.key&&-1!==e.target.value.indexOf(e.key))return!1},e.initializeProps=void ge("wm-input-number",Vo),e.decorators=[{type:h.Component,args:[{selector:'wm-input[type="number"]',template:'<input class="form-control app-textbox"\n       [ngClass]="{\'step-hidden\': step === 0}"\n       focus-target\n       role="input"\n       type="number"\n       [attr.name]="name"\n       [(ngModel)]="datavalue"\n       [ngModelOptions]="ngModelOptions"\n       [readonly]="readonly"\n       [required]="required"\n       [disabled]="disabled"\n       [maxlength]="maxchars"\n       [min]="minvalue"\n       [max]="maxvalue"\n       [step]="step"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (blur)="handleBlur($event)"\n       (ngModelChange)="handleChange($event)"\n       [autocomplete]="autocomplete ? \'on\' : \'off\'"\n       (keyup.enter)="flushViewChanges(input.value)"\n       (keydown.ArrowUp)="onArrowPress($event)"\n       (keydown.ArrowDown)="onArrowPress($event)"\n       (keypress)="validateInputEntry($event)"\n       #input>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),Es={widgetType:"wm-input-text",hostClass:"app-input-wrapper"},xs=function(a){function e(e){return a.call(this,e,Es)||this}return v(e,a),e.prototype.onPropertyChange=function(e,t,i){var n=this;switch(e){case"displayformat":this.maskVal=[],_.forEach(this.displayformat,function(e){"9"===e?n.maskVal.push(/\d/):"A"===e?n.maskVal.push(/[A-Z, a-z]/):"a"===e?n.maskVal.push(/[a-z]/):"*"===e?n.maskVal.push(/\w/):n.maskVal.push(e)});break;default:a.prototype.onPropertyChange.call(this,e,t,i)}},Object.defineProperty(e.prototype,"mask",{get:function(){return this.displayformat?{mask:this.maskVal,showMask:!0}:{mask:!1}},enumerable:!0,configurable:!0}),e.initializeProps=void ge("wm-input-text",Bo),e.decorators=[{type:h.Component,args:[{selector:'wm-input[type="text"], wm-input:not([type]), wm-input[type="password"], wm-input[type="search"], wm-input[type="tel"], wm-input[type="url"]',template:'<input class="form-control app-textbox"\n       focus-target\n       role="input"\n       [type]="type"\n       [attr.name]="name"\n       [(ngModel)]="datavalue"\n       [textMask]="mask"\n       [ngModelOptions]="ngModelOptions"\n       [readonly]="readonly"\n       [required]="required"\n       [disabled]="disabled"\n       [maxlength]="maxchars"\n       [pattern]="regexp"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (ngModelChange)="handleChange($event)"\n       (blur)="handleBlur($event)"\n       [autocomplete]="autocomplete ? \'on\' : \'off\'"\n       (keyup.enter)="flushViewChanges(input.value)"\n       #input>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),Ds={widgetType:"wm-table",hostClass:"app-grid app-panel panel"},ks={EXCEL:"fa fa-file-excel-o",CSV:"fa fa-file-text-o"},_s="rowOperations",Is=function(){},Ps=function(l){function e(e,t,i,n,a,o,s,r){var d=l.call(this,e,Ds)||this;return d.inj=e,d.fb=t,d.app=i,d.dynamicComponentProvider=n,d.binddataset=a,d.binddatasource=o,d.readonlygrid=s,d.ngZone=r,d.rowActionsCompiledTl={},d.rowFilterCompliedTl={},d.inlineCompliedTl={},d.inlineNewCompliedTl={},d.customExprCompiledTl={},d.rowDefInstances={},d.rowDefMap={},d.rowExpansionActionTl={},d.columns={},d.formfields={},d.enablesort=!0,d.selectedItems=[],d.selectedItemChange=new u.Subject,d.selectedItemChange$=d.selectedItemChange.asObservable(),d.actions=[],d._actions={header:[],footer:[]},d.exportOptions=[],d.headerConfig=[],d.items=[],d.rowActions=[],d.shownavigation=!1,d.documentClickBind=Is,d.fieldDefs=[],d.rowDef={},d.rowInstance={},d.fullFieldDefs=[],d.applyProps=new Map,d.redraw=_.debounce(d._redraw,150),d.debouncedHandleLoading=_.debounce(d.handleLoading,350),d.rowFilter={},d._searchSortHandler=Is,d.searchSortHandler=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d._searchSortHandler.apply(d,e)},d.onRowFilterChange=Is,d.onFilterConditionSelect=Is,d.showClearIcon=Is,d.clearRowFilter=Is,d.gridOptions={data:[],colDefs:[],startRowIndex:1,sortInfo:{field:"",direction:""},filtermode:"",searchLabel:"",rowActions:[],headerConfig:[],rowClass:"",editmode:"",formPosition:"",isMobile:!1,rowExpansionEnabled:!1,rowDef:{position:"0"},name:"",messages:{selectField:"Select Field"},onDataRender:function(){d.ngZone.run(function(){d.gridData.length&&d.invokeEventCallback("datarender",{$data:d.gridData,data:d.gridData}),d.multiselect||(d.items.length=0),d.callDataGridMethod("selectRows",d.items),d.selectedItems=d.callDataGridMethod("getSelectedRows"),d.selectedItemChange.next(d.selectedItems),d._isPageSearch&&d.filterInfo&&d.searchSortHandler(d.filterInfo,undefined,"search")})},onRowSelect:function(t,i){d.ngZone.run(function(){d.selectedItems=d.callDataGridMethod("getSelectedRows"),d.selectedItemChange.next(d.selectedItems);var e=d.addRowIndex(t);d.invokeEventCallback("rowselect",{$data:e,$event:i,row:e})})},assignSelectedItems:function(e,t){d.ngZone.run(function(){d.multiselect?-1===_.findIndex(d.items,e)&&d.items.push(e):(d.items.length=0,d.items.push(e))})},onRowDblClick:function(e,t){var i=d.addRowIndex(e);d.invokeEventCallback("rowdblclick",{$data:i,$event:t,row:i})},onRowDeselect:function(e,t){d.multiselect&&d.ngZone.run(function(){d.items=_.pullAllWith(d.items,[e],_.isEqual),d.selectedItems=d.callDataGridMethod("getSelectedRows"),d.invokeEventCallback("rowdeselect",{$data:e,$event:t,row:e})})},callOnRowDeselectEvent:function(e,t){d.invokeEventCallback("rowdeselect",{$data:e,$event:t,row:e})},callOnRowClickEvent:function(e,t){if(t&&t.hasOwnProperty("originalEvent")){var i=d.addRowIndex(e);d.invokeEventCallback("rowclick",{$data:i,$event:t,row:i})}},closePopover:x.closePopover,onColumnSelect:function(e,t){d.selectedColumns=d.callDataGridMethod("getSelectedColumns"),d.invokeEventCallback("columnselect",{$data:e,$event:t})},onColumnDeselect:function(e,t){d.selectedColumns=d.callDataGridMethod("getSelectedColumns"),d.invokeEventCallback("columndeselect",{$data:e,$event:t})},onHeaderClick:function(e,t){d.invokeEventCallback("headerclick",{$event:t,$data:e,column:e})},onRowDelete:function(e,t,i,n,a){d.ngZone.run(function(){d.deleteRecord(_.extend({},a,{row:e,cancelRowDeleteCallback:t,evt:i,callBack:n}))})},onRowInsert:function(e,t,i,n){d.insertRecord(_.extend({},n,{row:e,event:t,callBack:i}))},beforeRowUpdate:function(e,t){d._liveTableParent&&d._liveTableParent.updateRow(e,t),d.prevData=x.getClonedObject(e)},afterRowUpdate:function(e,t,i,n){d.updateRecord(_.extend({},n,{row:e,prevData:d.prevData,event:t,callBack:i}))},onBeforeRowUpdate:function(e,t,i){return d.invokeEventCallback("beforerowupdate",{$event:t,$data:e,row:e,options:i})},onBeforeRowInsert:function(e,t,i){return d.invokeEventCallback("beforerowinsert",{$event:t,$data:e,row:e,options:i})},onBeforeRowDelete:function(e,t,i){var n=d.addRowIndex(e);return d.invokeEventCallback("beforerowdelete",{$event:t,row:n,options:i})},onFormRender:function(e,t,i,n){var a=n?"inlineInstanceNew":"inlineInstance";setTimeout(function(){d.formWidgets={},d.fieldDefs.forEach(function(e){e[a]&&(d.formWidgets[e.field]=e[a],d.setDisabledOnField(i,e,a))}),d.invokeEventCallback("formrender",{$event:t,formWidgets:d.formWidgets,$operation:i})},250)},onBeforeFormRender:function(e,t,i){return d.invokeEventCallback("beforeformrender",{$event:t,row:e,$operation:i})},registerRowNgClassWatcher:function(e,i){if(d.rowngclass){var t=d.getClonedRowObject(e),n=d.widgetId+"_rowNgClass_"+i;x.$unwatch(n),d.registerDestroyListener(x.$watch(d.rowngclass,d.viewParent,{row:t},function(e,t){d.callDataGridMethod("applyRowNgClass",te(e,t),i)},n))}},registerColNgClassWatcher:function(e,t,i,n){if(t["col-ng-class"]){var a=d.getClonedRowObject(e),o=d.widgetId+"_colNgClass_"+i+"_"+n;x.$unwatch(o),d.registerDestroyListener(x.$watch(t["col-ng-class"],d.viewParent,{row:a},function(e,t){d.callDataGridMethod("applyColNgClass",te(e,t),i,n)},o))}},clearCustomExpression:function(){d.customExprViewRef.clear(),d.customExprCompiledTl={}},clearRowDetailExpression:function(){d.rowDetailViewRef.clear(),d.rowDefMap={},d.rowDefInstances={}},generateCustomExpressions:function(e,o){var s=d.getClonedRowObject(e),t=function(e){if(e){var t={},i={row:s,colDef:t};d.addEventsToContext(i);var n=d.customExprViewRef.createEmbeddedView(e,i).rootNodes[0],a=n.getAttribute("data-col-identifier");_.extend(t,d.columns[a]),d.customExprCompiledTl[a+o]=n}};d.isdynamictable?d.fieldDefs.forEach(function(e){t(e.customExprTmpl)}):d.customExprTmpl.forEach(t.bind(d))},generateRowExpansionCell:function(e,t){var i=d.getClonedRowObject(e);d.rowExpansionActionTmpl.forEach(function(e){d.rowExpansionActionTl[t]=d.rowExpansionActionViewRef.createEmbeddedView(e,{row:i}).rootNodes})},getRowExpansionAction:function(e){return d.rowExpansionActionTl[e]},generateRowDetailView:function(t,e,i,n,a,o){var s=d.getClonedRowObject(e),r=x.getClonedObject(d.rowDef);if(!1!==d.rowInstance.invokeEventCallback("beforerowexpand",{$event:t,$data:r,row:s})&&r.content)if(o(),d.rowDefMap[i]&&d.rowDefMap[i].content===r.content)d.rowInstance.invokeEventCallback("rowexpand",{$event:t,row:s,$data:d.rowDefInstances[i]});else{d.rowDefMap[i]=r,n.empty(),n.hide(),a.show();var l={row:s,rowDef:r,containerLoad:function(e){setTimeout(function(){a.hide(),n.show(),d.rowDefInstances[i]=e,d.rowInstance.invokeEventCallback("rowexpand",{$event:t,row:s,$data:e})},500)}},c=d.rowDetailViewRef.createEmbeddedView(d.rowExpansionTmpl,l).rootNodes[0];n[0].appendChild(c),x.$appDigest()}},onBeforeRowCollapse:function(e,t,i){return d.rowInstance.invokeEventCallback("beforerowcollapse",{$event:e,row:t,$data:d.rowDefInstances[i]})},onRowCollapse:function(e,t){d.rowInstance.invokeEventCallback("rowcollapse",{$event:e,row:t})},getCustomExpression:function(e,t){return d.customExprCompiledTl[e+t]||""},clearRowActions:function(){d.rowActionsViewRef.clear(),d.rowActionsCompiledTl={},d.rowExpansionActionViewRef.clear(),d.rowExpansionActionTl={}},generateRowActions:function(e,i){var n=d.getClonedRowObject(e);d.rowActionsCompiledTl[i]=[],d.rowActionTmpl.forEach(function(e){var t;(t=d.rowActionsCompiledTl[i]).push.apply(t,E(d.rowActionsViewRef.createEmbeddedView(e,{row:n}).rootNodes))})},getRowAction:function(e){return d.rowActionsCompiledTl[e]},generateInlineEditRow:function(e,t){var a=d.getClonedRowObject(e);if(t)return d.inlineEditNewViewRef.clear(),d.inlineNewCompliedTl={},d.inlineWidgetNewTmpl.forEach(function(e){var t,i={row:a,getControl:function(){return d.ngform.controls[t+"_new"]||{}},getValidationMessage:function(){return d.columns[t]&&d.columns[t].validationmessage}},n=d.inlineEditNewViewRef.createEmbeddedView(e,i).rootNodes[0];t=n.getAttribute("data-col-identifier"),d.inlineNewCompliedTl[t]=n}),void d.clearForm(!0);d.inlineEditViewRef.clear(),d.inlineCompliedTl={},d.clearForm(),d.inlineWidgetTmpl.forEach(function(e){var t,i={row:a,getControl:function(){return d.ngform.controls[t]||{}},getValidationMessage:function(){return d.columns[t]&&d.columns[t].validationmessage}},n=d.inlineEditViewRef.createEmbeddedView(e,i).rootNodes[0];t=n.getAttribute("data-col-identifier"),d.inlineCompliedTl[t]=n})},getInlineEditWidget:function(e,t,i){return i?(d.gridOptions.setFieldValue(e+"_new",t),d.inlineNewCompliedTl[e]):(d.gridOptions.setFieldValue(e,t),d.inlineCompliedTl[e])},setFieldValue:function(e,t){var i=d.ngform.controls&&d.ngform.controls[e];i&&i.setValue(t)},getFieldValue:function(e){var t=d.ngform.controls&&d.ngform.controls[e];return t&&t.value},generateFilterRow:function(){d.filterViewRef.clear(),d.rowFilterCompliedTl={},d.filterTmpl.forEach(function(e){var t=d.filterViewRef.createEmbeddedView(e,{changeFn:d.onRowFilterChange.bind(d),isDisabled:function(e){return-1<d.emptyMatchModes.indexOf(d.rowFilter[e]&&d.rowFilter[e].matchMode)}}).rootNodes[0];d.rowFilterCompliedTl[t.getAttribute("data-col-identifier")]=t})},getFilterWidget:function(e){return d.rowFilterCompliedTl[e]},setGridEditMode:function(e){d.ngZone.run(function(){d.isGridEditMode=e,x.$appDigest()})},setGridState:function(e){d.isLoading="loading"===e},noChangesDetected:function(){d.toggleMessage(!0,"info","No Changes Detected")},redrawWidgets:function(){d.fieldDefs.forEach(function(e){x.triggerFn(e.inlineInstance&&e.inlineInstance.redraw),x.triggerFn(e.inlineInstanceNew&&e.inlineInstanceNew.redraw),x.triggerFn(e.filterInstance&&e.filterInstance.redraw)})},searchHandler:d.searchSortHandler.bind(d),sortHandler:d.searchSortHandler.bind(d),timeoutCall:function(e,t){setTimeout(e,t)},runInNgZone:function(e){d.ngZone.run(e)},safeApply:function(){x.$appDigest()},setTouched:function(e){var t=d.ngform.controls[e];t&&t.markAsTouched()},clearForm:d.clearForm.bind(d)},d._onChange=function(){},d._onTouched=function(){},ue(d.nativeElement,d),d.ngform=t.group({}),d.addEventsToContext(d.context),d.app.subscribe("toggle-variable-state",function(e){d.datasource&&d.datasource.execute(x.DataSource.Operation.IS_API_AWARE)&&x.isDataSourceEqual(e.variable,d.datasource)&&(x.isDefined(d.variableInflight)?d.debouncedHandleLoading(e):d.handleLoading(e))}),d.deleteoktext=d.appLocale.LABEL_OK,d.deletecanceltext=d.appLocale.LABEL_CANCEL,d}return v(e,l),Object.defineProperty(e.prototype,"gridData",{get:function(){return this._gridData||[]},set:function(e){this._gridData=e;var t,i=0;if(this._onChange(e),this._onTouched(),x.isDefined(e)){if(this.isNavigationEnabled()&&this.dataNavigator.dn.currentPage&&(i=(this.dataNavigator.dn.currentPage-1)*(this.dataNavigator.maxResults||1)+1,this.setDataGridOption("startRowIndex",i)),!(t=this.callDataGridMethod("getOptions")))return;!t.colDefs.length&&this.fieldDefs.length&&this.setDataGridOption("colDefs",x.getClonedObject(this.fieldDefs)),this.isdynamictable||_.isEmpty(e)||!t.colDefs.length||this.invokeEventCallback("beforedatarender",{$data:e,$columns:this.columns,data:e,columns:this.columns}),this.setDataGridOption("data",x.getClonedObject(e))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selecteditem",{get:function(){return this.multiselect?x.getClonedObject(this.items):_.isEmpty(this.items)?{}:x.getClonedObject(this.items[0])},set:function(e){this.items.length=0,this.callDataGridMethod("selectRows",e)},enumerable:!0,configurable:!0}),e.prototype.onKeyPress=function(e){13===e.which&&this.invokeEventCallback("enterkeypress",{$event:e,$data:this.gridData})},e.prototype.ngAfterContentInit=function(){var i=this;l.prototype.ngAfterContentInit.call(this);this._liveTableParent&&(this.isPartOfLiveGrid=!0),!this.readonlygrid&&this.editmode||("true"===this.readonlygrid?this.editmode="":this.isPartOfLiveGrid?this.editmode="inline"===this.isPartOfLiveGrid.formlayout?Ja:eo:this.editmode=this.readonlygrid?Za:""),this.gridOptions.colDefs=this.fullFieldDefs,this.gridOptions.rowActions=this.rowActions,this.gridOptions.headerConfig=this.headerConfig,this.gridOptions.rowClass=this.rowclass,this.gridOptions.editmode=this.editmode,this.gridOptions.formPosition=this.formposition,this.gridOptions.filtermode=this.filtermode,this.gridOptions.searchLabel=this.searchlabel,this.gridOptions.isMobile=x.isMobile(),this.gridOptions.name=this.name,_.isEmpty(this.gridData)||(this.gridOptions.data=x.getClonedObject(this.gridData)),this.gridOptions.messages={selectField:"Select Field"},this.datagridElement=$(this._tableElement.nativeElement),this.gridElement=this.$element,this.$element.css({position:"relative"}),_.forEach({showrowindex:"showRowIndex",multiselect:"multiselect",radioselect:"showRadioColumn",filternullrecords:"filterNullRecords",enablesort:"enableSort",showheader:"showHeader",enablecolumnselection:"enableColumnSelection",shownewrow:"showNewRow",gridfirstrowselect:"selectFirstRow"},function(e,t){x.isDefined(i[t])&&(i.gridOptions[e]="true"===i[t]||!0===i[t])}),this.renderOperationColumns(),this.gridOptions.colDefs=this.fieldDefs,this.datagridElement.datatable(this.gridOptions),this.callDataGridMethod("setStatus","loading",this.loadingdatamsg),this.applyProps.forEach(function(e){return i.callDataGridMethod.apply(i,E(e))}),this.editmode===Xa&&(this.documentClickBind=this._documentClickBind.bind(this),document.addEventListener("click",this.documentClickBind))},e.prototype.ngOnDestroy=function(){document.removeEventListener("click",this.documentClickBind),this.navigatorResultWatch&&this.navigatorResultWatch.unsubscribe(),this.navigatorMaxResultWatch&&this.navigatorMaxResultWatch.unsubscribe(),l.prototype.ngOnDestroy.call(this)},e.prototype.addRowIndex=function(e){var t=x.getClonedObject(e),i=_.indexOf(this.gridOptions.data,e);return i<0?e:(t.$index=i+1,t.$isFirst=1===t.$index,t.$isLast=this.gridData.length===t.$index,t)},e.prototype.addEventsToContext=function(e){var t=this;e.addNewRow=function(){return t.addNewRow()},e.deleteRow=function(){return t.deleteRow()},e.editRow=function(){return t.editRow()}},e.prototype.execute=function(e,t){return![x.DataSource.Operation.IS_API_AWARE,x.DataSource.Operation.IS_PAGEABLE,x.DataSource.Operation.SUPPORTS_SERVER_FILTER].includes(e)&&(this.datasource?this.datasource.execute(e,t):{})},e.prototype.isNavigationEnabled=function(){return this.shownavigation&&this.dataNavigator&&this.dataNavigatorWatched},e.prototype.getClonedRowObject=function(e){var t=x.getClonedObject(e);return t.getProperty=function(e){return _.get(t,e)},t.$isFirst=1===t.$index,t.$isLast=this.gridData.length===t.$index,delete t.$$index,delete t.$$pk,t},e.prototype.handleLoading=function(e){this.variableInflight=e.active,e.active?this.callDataGridMethod("setStatus","loading",this.loadingdatamsg):!this.isGridEditMode&&_.isEmpty(this.dataset)?this.callDataGridMethod("setStatus","nodata",this.nodatamessage):this.callDataGridMethod("setStatus","ready")},e.prototype.setDisabledOnField=function(e,t,i){"new"===e||!t["primary-key"]||"assigned"!==t.generator||t["related-entity-name"]||t.period||(t[i].disabled=!0)},e.prototype.resetFormControl=function(e){e.markAsUntouched(),e.markAsPristine()},e.prototype.clearForm=function(t){var i=this,n=this.ngform.controls;_.keys(this.ngform.controls).forEach(function(e){!e.endsWith("_filter")&&(e.endsWith("_new")&&t||!e.endsWith("_new")&&!t)&&(n[e].setValue(""),i.resetFormControl(n[e]))})},e.prototype.isEmptyRecord=function(i){var n,a=this;return Object.keys(i).every(function(e,t){return n=i[e],!(a.fieldDefs.length&&x.isDefined(a.fieldDefs[t])&&(x.isMobile()?a.fieldDefs[t].mobileDisplay:a.fieldDefs[t].pcDisplay)||!0)||(null===n||n===undefined||""===n)})},e.prototype.removeEmptyRecords=function(e){var t=this,i=e,n=[];return i&&i.length&&(n=i.filter(function(e){return e&&!t.isEmptyRecord(e)})),n},e.prototype.setGridData=function(e){var t=this.filternullrecords?this.removeEmptyRecords(e):e;this.variableInflight||(t&&0===t.length?this.callDataGridMethod("setStatus","nodata",this.nodatamessage):this.callDataGridMethod("setStatus","ready")),this.gridData=t},e.prototype.setDataGridOption=function(e,t,i){if(void 0===i&&(i=!1),this.datagridElement&&this.datagridElement.datatable&&this.datagridElement.datatable("instance")){var n={};!x.isDefined||_.isEqual(t,this.gridOptions[e])&&!i||(n[e]=t,this.datagridElement.datatable("option",n),this.gridOptions[e]=t)}},e.prototype.callDataGridMethod=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.datagridElement&&this.datagridElement.datatable("instance"))return this.datagridElement.datatable.apply(this.datagridElement,e);this.applyProps.set(e[1],e)},e.prototype.renderOperationColumns=function(){var e,t,i={field:"rowOperations",type:"custom",displayName:"Actions",width:"120px",readonly:!0,sortable:!1,searchable:!1,resizable:!1,selectable:!1,show:!0,operations:[],opConfig:{},pcDisplay:!0,mobileDisplay:!0,include:!0,isRowOperation:!0},n={name:i.field,field:i.field,isPredefined:!0};this.fieldDefs.length&&(e=_.find(this.fullFieldDefs,{field:_s,type:"custom"}),_.remove(this.fieldDefs,{type:"custom",field:_s}),_.remove(this.headerConfig,{field:i.field}),this.rowActions.length&&(e?(t=e.rowactionsposition?_.toNumber(e.rowactionsposition):this.fieldDefs.length,this.fieldDefs.splice(t,0,e),0===t?this.headerConfig.unshift(n):this.headerConfig.push(n)):(this.fieldDefs.push(i),this.headerConfig.push(n))),this.setDataGridOption("headerConfig",this.headerConfig))},e.prototype.enablePageNavigation=function(){var t=this;this.dataset&&this.binddataset&&this.dataNavigator&&(this.dataNavigatorWatched=!0,this.navigatorResultWatch&&this.navigatorResultWatch.unsubscribe(),this.navigatorResultWatch=this.dataNavigator.resultEmitter.subscribe(function(e){x.isDefined(e)?_.isEqual(t.dataset,e)?t.watchVariableDataSet(e):_.isArray(e)?t.widget.dataset=[].concat(e):_.isObject(e)?t.widget.dataset=_.extend({},e):t.widget.dataset=e:t.widget.dataset=undefined},!0),this.navigatorMaxResultWatch&&this.navigatorMaxResultWatch.unsubscribe(),this.navigatorMaxResultWatch=this.dataNavigator.maxResultsEmitter.subscribe(function(e){t.pagesize=e}),this.__fullData=this.dataset,this.dataNavigator.widget.maxResults=this.pagesize||5,this.dataNavigator.options={maxResults:this.pagesize||5},this.removePropertyBinding("dataset"),this.dataNavigator.setBindDataSet(this.binddataset,this.viewParent,this.datasource,this.dataset,this.binddatasource))},e.prototype.resetPageNavigation=function(){this.dataNavigator&&this.dataNavigator.resetPageNavigation()},e.prototype.isDataValid=function(){var e,t=this.dataset||{};return t.error&&(e=t.error),t.data&&t.data.error&&t.data.errorMessage&&(e=t.data.errorMessage),!e||(this.setGridData([]),this.callDataGridMethod("setStatus","error",e),!1)},e.prototype.populateGridData=function(e){var t;e=function c(i,t){var n,a,e,o,s,r,l;return i=i||[],_.isArray(i)?_.isString(i[0])&&(a=[],_.forEach(i,function(e){(n={})[t.split(".").join("-")]=e,a.push(n)}),i=a):(_.isString(i)&&(e=t.substring(t.indexOf(".")+1,t.length).split("."),o=[],s=e.length,l=r={},e.forEach(function(e,t){o.forEach(function(e){l=r[e]}),l[e]=t===s-1?i:{},o.push(e)}),i=r),i=[i]),i}(e,this.name),!this.isNavigationEnabled()&&this._isClientSearch?(t=x.getClonedObject(e),t=this.getSearchResult(t,this.filterInfo),t=this.getSortResult(t,this.sortInfo),this.serverData=t):this.serverData=e,this.isdynamictable?this.createGridColumns(this.serverData):this.setGridData(this.serverData)},e.prototype.generateDynamicColumns=function(o){return m(this,void 0,void 0,function(){var t,i,n,a=this;return b(this,function(e){switch(e.label){case 0:return this.fieldDefs=[],this.filterTmpl._results=[],_.isEmpty(o)?[2]:(t="",o.forEach(function(e){var i="",n="";_.forEach(e,function(e,t){e&&("customExpression"===t?n=e:i+=" "+t+'="'+e+'"')}),t+="<wm-table-column "+i+' tableName="'+a.name+'">'+n+"</wm-table-column>"}),this.dynamicTableRef.clear(),this._dynamicContext||(this._dynamicContext=Object.create(this.viewParent),this._dynamicContext[this.getAttr("wmTable")]=this),this.noOfColumns=o.length,[4,this.dynamicComponentProvider.getComponentFactoryRef("app-table-dynamic-"+this.widgetId,t,{noCache:!0,transpile:!0})]);case 1:return i=e.sent(),n=this.dynamicTableRef.createComponent(i,0,this.inj),x.extendProto(n.instance,this._dynamicContext),this.$element.find(".dynamic-table-container")[0].appendChild(n.location.nativeElement),[2]}})})},e.prototype.prepareColDefs=function(e){var t,i=this;this.fieldDefs=[],this.headerConfig=[],this.columns={},t=se(e),_.forEach(t,function(e){e.binding=e.field,e.caption=e.displayName,e.pcDisplay=!0,e.mobileDisplay=!0,e.searchable=!0,e.type="string"}),t.forEach(function(e){i.columns[e.field]=e}),this.invokeEventCallback("beforedatarender",{$data:e,$columns:this.columns,data:e,columns:this.columns}),t=[],_.forEach(this.columns,function(e){t.push(e)}),this.generateDynamicColumns(t)},e.prototype.createGridColumns=function(e){var t=e&&!e.error;t&&!_.isArray(e)&&(e=[e]),_.isEmpty(e)?this.setGridData(e):t&&(this.prepareColDefs(e),this.serverData=e,this.setGridData(this.serverData))},e.prototype.getSortExpr=function(){var e,t;return this.datasource&&this.datasource.execute(x.DataSource.Operation.IS_PAGEABLE)&&(t=this.datasource.execute(x.DataSource.Operation.GET_PAGING_OPTIONS),e=_.isEmpty(t)?"":F(t.sort)),e||""},e.prototype.watchVariableDataSet=function(e){var t;if(!(this.dataNavigatorWatched&&_.isUndefined(e)&&this.__fullData)&&(this.variableInflight&&this.callDataGridMethod("setStatus","loading",this.loadingdatamsg),(t=x.getValidJSON(e))&&(e=t),this.isDataValid())){if(e){if(this.shownavigation&&!this.dataNavigatorWatched)return void this.enablePageNavigation()}else this.resetPageNavigation(),this.variableInflight||this.callDataGridMethod("setStatus","nodata",this.nodatamessage),this.setDataGridOption("selectFirstRow",this.gridfirstrowselect);!this.isNavigationEnabled()&&e&&this.checkFiltersApplied(this.getSortExpr()),!_.isObject(e)||""===e||e&&""===e.dataValue?this.variableInflight||this.setGridData([]):e&&this.populateGridData(e)}},e.prototype.onDataSourceChange=function(){this.fieldDefs.forEach(function(e){x.triggerFn(e.onDataSourceChange&&e.onDataSourceChange.bind(e))})},e.prototype.onPropertyChange=function(e,t,i){var n,a=this;switch(e){case"datasource":this.watchVariableDataSet(this.dataset),this.onDataSourceChange();break;case"dataset":if(this.binddatasource&&!this.datasource)return;this.watchVariableDataSet(t);break;case"filtermode":this.setDataGridOption("filtermode",t);break;case"searchlabel":this.setDataGridOption("searchLabel",t);break;case"navigation":if("Advanced"===t)return void(this.navigation="Classic");"None"!==t&&(this.shownavigation=!0),this.navControls=t;break;case"gridfirstrowselect":this.setDataGridOption("selectFirstRow",t);break;case"gridclass":this.callDataGridMethod("option","cssClassNames.grid",t);break;case"nodatamessage":this.callDataGridMethod("option","dataStates.nodata",t);break;case"loadingdatamsg":this.callDataGridMethod("option","dataStates.loading",t);break;case"loadingicon":this.callDataGridMethod("option","loadingicon",t);break;case"spacing":this.callDataGridMethod("option","spacing",t),this.navigationSize="condensed"===t?"small":"";break;case"exportformat":this.exportOptions=[],t&&_.forEach(_.split(t,","),function(e){a.exportOptions.push({label:e,icon:ks[e]})});break;case"shownewrow":n=t||_.some(this.actions,function(e){return _.includes(e.action,"addNewRow()")}),this.callDataGridMethod("option","actionsEnabled.new",n);break;case"show":t?this.invokeEventCallback("show"):this.invokeEventCallback("hide");default:l.prototype.onPropertyChange.call(this,e,t,i)}},e.prototype.onStyleChange=function(e,t,i){switch(e){case"width":this.callDataGridMethod("setGridDimensions","width",t);break;case"height":this.callDataGridMethod("setGridDimensions","height",t)}l.prototype.onStyleChange.call(this,e,t,i)},e.prototype.populateActions=function(){var t=this;this._actions.header=[],this._actions.footer=[],_.forEach(this.actions,function(e){_.includes(e.position,"header")&&t._actions.header.push(e),_.includes(e.position,"footer")&&t._actions.footer.push(e)})},e.prototype.renderDynamicFilterColumn=function(e){this.isdynamictable&&this.filterTmpl._results.push(e)},e.prototype.registerColumns=function(e){var t=this;if(x.isMobile()){if(!e.mobileDisplay)return}else if(!e.pcDisplay)return;var i=this.fieldDefs.push(e);this.fullFieldDefs.push(e),this.rowFilter[e.field]={value:undefined},this.fieldDefs.forEach(function(e){t.columns[e.field]=e}),this.isdynamictable&&i===this.noOfColumns&&(this.renderOperationColumns(),this.setDataGridOption("colDefs",this.fieldDefs))},e.prototype.registerFormField=function(e,t){this.formfields[e]=t},e.prototype.registerActions=function(e){this.actions.push(e),this.populateActions()},e.prototype.registerRow=function(e,t){this.rowDef=e,this.rowInstance=t,this.callDataGridMethod("option","cssClassNames.rowExpandIcon",this.rowDef.expandicon),this.callDataGridMethod("option","cssClassNames.rowCollapseIcon",this.rowDef.collapseicon),this.gridOptions.rowExpansionEnabled=!0,this.gridOptions.rowDef=this.rowDef},e.prototype.registerRowActions=function(e){this.rowActions.push(e)},e.prototype.selectItem=function(e,t){t&&(this.serverData=t),_.isObject(e)&&(e=_.omitBy(e,function(e){return _.isArray(e)&&_.isEmpty(e)})),this.callDataGridMethod("selectRow",e,!0)},e.prototype.deselectItem=function(e){this.callDataGridMethod("deselectRow",e)},e.prototype.onDataNavigatorDataSetChange=function(e){var t;return this.__fullData=e,this.checkFiltersApplied(this.getSortExpr()),this._isClientSearch?(t=x.getClonedObject(this.__fullData),_.isObject(t)&&!_.isArray(t)&&(t=[t]),t=this.getSearchResult(t,this.filterInfo),t=this.getSortResult(t,this.sortInfo)):e},e.prototype.toggleMessage=function(e,t,i,n){e&&i&&this.app.notifyApp(i,t,n)},e.prototype["export"]=function(e){var t,i=_.isEmpty(this.sortInfo)?"":this.sortInfo.field+" "+this.sortInfo.direction,n={};this.fieldDefs.forEach(function(e){if(e.field!==_s&&e.show){var t={header:e.displayName};e.exportexpression?t.expression=e.exportexpression:t.field=e.field,n[e.field]=t}}),!(t={matchMode:"anywhereignorecase",filterFields:this.getFilterFields(this.filterInfo),orderBy:i,exportType:e.label,logicalOp:"AND",exportSize:this.exportdatasize,columns:n})!==this.invokeEventCallback("beforeexport",{$data:t})&&(t.fields=_.values(t.columns),this.datasource.execute(x.DataSource.Operation.DOWNLOAD,{data:t}))},e.prototype.expandRow=function(e){this.callDataGridMethod("expandRow",e)},e.prototype.collapseRow=function(e){this.callDataGridMethod("collapseRow",e)},e.prototype._documentClickBind=function(e){var t=e.target;this.$element[0].contains(t)||e.target.doctype||function(t){var i=!1;[".dropdown-menu",".uib-typeahead-match",".modal-dialog",".toast"].forEach(function(e){if(t.closest(e).length)return!(i=!0)});return i||["bsdatepickerdaydecorator"].forEach(function(e){if(t[0].hasAttribute(e))return!(i=!0)}),i}($(t))||this.callDataGridMethod("saveRow")},e.prototype._redraw=function(e){var t=this;e?this.datagridElement.datatable(this.gridOptions):setTimeout(function(){t.callDataGridMethod("setColGroupWidths"),t.callDataGridMethod("addOrRemoveScroll")})},e.prototype.invokeActionEvent=function(e,t){x.$parseEvent(t)(this.viewParent,Object.assign(this.context,{$event:e}))},e.prototype.handleEvent=function(e,t,i,n){"select"!==t&&l.prototype.handleEvent.call(this,this.nativeElement,t,i,n)},e.prototype.triggerUploadEvent=function(e,t,i,n){var a={$event:e,row:n};this.columns[i]&&("change"===t&&(a.newVal=e.target.files,a.oldVal=this.columns[i]._oldUploadVal,this.columns[i]._oldUploadVal=a.newVal),this.columns[i].invokeEventCallback(t,a))},e.prototype.registerFormWidget=function(){},e.prototype.writeValue=function(){},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.initializeProps=void ge("wm-table",new Map([["boundarylinks",y({value:!1},Ce)],["class",be],["confirmdelete",y({value:"Are you sure you want to delete this?"},be)],["datasource",be],["dataset",Ee],["deletecanceltext",be],["deleteoktext",be],["deletemessage",y({value:"Record deleted successfully"},be)],["directionlinks",y({value:!0},Ce)],["editmode",be],["enablecolumnselection",y({value:!1},Ce)],["enablesort",y({value:!0},Ce)],["errormessage",be],["exportformat",be],["exportdatasize",y({value:100},we)],["filtermode",be],["filternullrecords",y({value:!0},Ce)],["forceellipses",y({value:!0},Ce)],["formposition",be],["gridclass",y({value:"table-bordered table-striped table-hover"},be)],["gridfirstrowselect",Ce],["iconclass",be],["insertmessage",y({value:"Record added successfully"},be)],["isdynamictable",Ce],["loadingdatamsg",y({value:"Loading..."},be)],["loadingicon",y({value:"fa fa-circle-o-notch fa-spin"},be)],["maxsize",y({value:5},we)],["multiselect",Ce],["name",be],["navigation",y({value:"Basic"},be)],["navigationalign",y({value:"left"},be)],["nodatamessage",y({value:"No data found."},be)],["pagesize",we],["radioselect",Ce],["rowclass",be],["rowngclass",be],["searchlabel",y({value:"Search"},be)],["show",y({value:!0},Ce)],["showheader",y({value:!0},Ce)],["shownewrow",y({value:!0},Ce)],["showrecordcount",Ce],["showrowindex",Ce],["spacing",y({value:"normal"},be)],["subheading",be],["tabindex",y({value:0},we)],["title",be],["updatemessage",y({value:"Record updated successfully"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmTable]",template:'<div class="panel-heading" *ngIf="title || subheading || iconclass || exportOptions.length || _actions.header.length">\n    <h3 class="panel-title">\n        <div class="pull-left">\n            <i class="app-icon panel-icon {{iconclass}}" *ngIf="iconclass"></i>\n        </div>\n        <div class="pull-left">\n            <div class="heading" [innerHTML]="title | trustAs: \'html\'"></div>\n            <div class="description" [innerHTML]="subheading | trustAs: \'html\'"></div>\n        </div>\n        <div class="panel-actions app-datagrid-actions" *ngIf="exportOptions.length || _actions.header.length">\n            <ng-container *ngFor="let btn of _actions.header"\n                          [ngTemplateOutlet]="btn.widgetType === \'button\' ? buttonRef : anchorRef" [ngTemplateOutletContext]="{btn:btn}">\n            </ng-container>\n            <div wmMenu dropdown caption.bind="appLocale.LABEL_EXPORT" *ngIf="exportOptions.length"  autoclose="always" attr.name="{{name}}-export"\n                dataset.bind="exportOptions" select.event="export($item)" menuposition="down,left"></div>\n        </div>\n    </h3>\n</div>\n<div class="app-datagrid" #datagridElement></div>\n<div class="panel-footer clearfix" [hidden]="!_actions.footer.length && (!shownavigation || dataNavigator?.dataSize <= pagesize)">\n    <div class="app-datagrid-paginator" [hidden]="!dataNavigator?.dataSize || !shownavigation || dataNavigator?.dataSize <= pagesize">\n        <nav wmPagination show.bind="shownavigation" navigationalign.bind="navigationalign"\n             navigationsize.bind="navigationSize"\n             navigation.bind="navControls" showrecordcount.bind="showrecordcount" maxsize.bind="maxsize"\n             boundarylinks.bind="boundarylinks"\n             forceellipses.bind="forceellipses" directionlinks.bind="directionlinks"></nav>\n    </div>\n    <div class="app-datagrid-actions" *ngIf="_actions.footer.length">\n        <ng-container *ngFor="let btn of _actions.footer"\n                      [ngTemplateOutlet]="btn.widgetType === \'button\' ? buttonRef : anchorRef" [ngTemplateOutletContext]="{btn:btn}">\n        </ng-container>\n    </div>\n</div>\n\n<ng-template #buttonRef let-btn="btn">\n    <button wmButton caption.bind="btn.displayName" show.bind="btn.show" class.bind="btn.class"  iconclass.bind="btn.iconclass" (click)="invokeActionEvent($event, btn.action)"\n            [ngClass]="{\'btn-sm\': spacing === \'condensed\', \'disabled-new\': btn.key === \'addNewRow\' && (isGridEditMode || isLoading)}"\n            type="button" shortcutkey.bind="btn.shortcutkey" tabindex.bind="btn.tabindex" hint.bind="btn.title" disabled.bind="btn.disabled" conditionalclass.bind="btn.conditionalclass" conditionalstyle.bind="btn.conditionalstyle"></button>\n</ng-template>\n\n<ng-template #anchorRef let-btn="btn">\n    <a wmAnchor caption.bind="btn.displayName" show.bind="btn.show" class.bind="btn.class"  iconclass.bind="btn.iconclass" (click)="invokeActionEvent($event, btn.action)"\n            [ngClass]="{\'btn-sm\': spacing === \'condensed\', \'disabled-new\': btn.key === \'addNewRow\' && (isGridEditMode || isLoading)}"\n            shortcutkey.bind="btn.shortcutkey" tabindex.bind="btn.tabindex" hint.bind="btn.title"\n            hyperlink.bind="btn.hyperlink" target.bind="btn.target" conditionalclass.bind="btn.conditionalclass" conditionalstyle.bind="btn.conditionalstyle"></a>\n</ng-template>\n\n<div hidden>\n    <ng-container #multiColumnFilterView></ng-container>\n\n    <ng-container #inlineEditView></ng-container>\n\n    <ng-container #inlineEditNewView></ng-container>\n\n    <ng-container #rowActionsView></ng-container>\n\n    <ng-container #rowExpansionActionView></ng-container>\n\n    <ng-container #customExprView></ng-container>\n\n    <ng-container #dynamicTable></ng-container>\n\n    <ng-container #rowDetailView></ng-container>\n\n    <div class="dynamic-table-container"></div>\n</div>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:p.FormBuilder},{type:x.App},{type:x.DynamicComponentRefProvider},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["datasource.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["readonlygrid"]}]},{type:h.NgZone}]},e.propDecorators={dataNavigator:[{type:h.ViewChild,args:[uo]}],_tableElement:[{type:h.ViewChild,args:["datagridElement"]}],rowActionTmpl:[{type:h.ContentChildren,args:["rowActionTmpl"]}],rowActionsViewRef:[{type:h.ViewChild,args:["rowActionsView",{read:h.ViewContainerRef}]}],filterTmpl:[{type:h.ContentChildren,args:["filterTmpl",{descendants:!0}]}],filterViewRef:[{type:h.ViewChild,args:["multiColumnFilterView",{read:h.ViewContainerRef}]}],inlineWidgetTmpl:[{type:h.ContentChildren,args:["inlineWidgetTmpl",{descendants:!0}]}],inlineEditViewRef:[{type:h.ViewChild,args:["inlineEditView",{read:h.ViewContainerRef}]}],inlineWidgetNewTmpl:[{type:h.ContentChildren,args:["inlineWidgetTmplNew",{descendants:!0}]}],inlineEditNewViewRef:[{type:h.ViewChild,args:["inlineEditNewView",{read:h.ViewContainerRef}]}],customExprTmpl:[{type:h.ContentChildren,args:["customExprTmpl",{descendants:!0}]}],customExprViewRef:[{type:h.ViewChild,args:["customExprView",{read:h.ViewContainerRef}]}],rowExpansionActionTmpl:[{type:h.ContentChildren,args:["rowExpansionActionTmpl"]}],rowExpansionTmpl:[{type:h.ContentChild,args:["rowExpansionTmpl"]}],rowDetailViewRef:[{type:h.ViewChild,args:["rowDetailView",{read:h.ViewContainerRef}]}],rowExpansionActionViewRef:[{type:h.ViewChild,args:["rowExpansionActionView",{read:h.ViewContainerRef}]}],dynamicTableRef:[{type:h.ViewChild,args:["dynamicTable",{read:h.ViewContainerRef}]}],onKeyPress:[{type:h.HostListener,args:["keypress",["$event"]]}]},e}($e),Ss=function(){function e(e,t,i,n,a,o){var s=this;this.componentInstance=i,this.name=a,this.key=o,this.fb=n,this.parent=e||t,this.ngform=this.parent.ngform,this.componentInstance.registerPropertyChangeListener(function(e,t){"datavalue"===e&&s._control?s._control.setValue(t):"name"!==e||s._control||s.addControl(s.key||t)})}return Object.defineProperty(e.prototype,"_control",{get:function(){var e=this.key||this.name;return e?this.ngform&&this.ngform.controls[e]:undefined},enumerable:!0,configurable:!0}),e.prototype.addControl=function(e){this.ngform.addControl(e,this.createControl())},e.prototype.createControl=function(){return this.fb.control(this.componentInstance.datavalue)},e.prototype.ngOnInit=function(){var e=this.key||this.name;e&&!this._control&&(this.addControl(e),this.parent.registerFormWidget(this.componentInstance))},e.decorators=[{type:h.Directive,args:[{selector:"[wmFormWidget]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Optional},{type:h.Inject,args:[Do]}]},{type:undefined,decorators:[{type:h.Optional},{type:h.Inject,args:[Ps]}]},{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[k]}]},{type:p.FormBuilder},{type:undefined,decorators:[{type:h.Attribute,args:["name"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["key"]}]}]},e}(),Ts={widgetType:"wm-label",hostClass:"app-label",displayType:Ie},Os=function(n){function e(e,t){var i=n.call(this,e,Ts)||this;return i.trustAsPipe=t,ue(i.nativeElement,i),i}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){"caption"===e?_.isObject(t)?x.setProperty(this.nativeElement,"textContent",JSON.stringify(t)):x.setProperty(this.nativeElement,"innerHTML",this.trustAsPipe.transform(t,h.SecurityContext.HTML)):"required"===e?x.toggleClass(this.nativeElement,"required",t):n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-label",new Map([["caption",y({value:"Label"},be)],["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["hint",be],["name",be],["required",Ce],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmLabel]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:as}]},e}($e),As={widgetType:"wm-gridcolumn",hostClass:"app-grid-column"},Rs=function(a){function e(e,t){var i=a.call(this,e,As)||this;return t&&x.setCSS(i.nativeElement,"overflow","auto"),ue(i.nativeElement,i,g.APPLY_STYLES_TYPE.CONTAINER),i}return v(e,a),e.prototype.onPropertyChange=function(e,t,i){var n=x.isMobileApp()?"xs":"sm";"columnwidth"===e?x.switchClass(this.nativeElement,"col-"+n+"-"+t,i?"col-"+n+"-"+i:""):a.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-gridcolumn",new Map([["class",be],["name",be],["columnwidth",we],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmLayoutGridColumn]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:undefined,decorators:[{type:h.Attribute,args:["height"]}]}]},e}($e),Ls={widgetType:"wm-layoutgrid",hostClass:"app-grid-layout clearfix"},Fs=function(i){function e(e){var t=i.call(this,e,Ls)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-layoutgrid",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmLayoutGrid]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Ms={widgetType:"wm-layout-grid-row",hostClass:"app-grid-row clearfix"},Ns=function(i){function e(e){var t=i.call(this,e,Ms)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-layout-grid-row",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmLayoutGridRow]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),$s=function(){function e(e,t,i){this.templateRef=t,this.viewContainer=i,this.viewParent=e.view.component,this.context=e.view.context}return Object.defineProperty(e.prototype,"lazyLoad",{set:function(e){var t=this;this.unSubscribeFn=x.$watch(e,this.viewParent,this.context,function(e){!t.embeddedView&&e&&(t.embeddedView=t.viewContainer.createEmbeddedView(t.templateRef,t.context),t.unSubscribeFn())})},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.unSubscribeFn()},e.decorators=[{type:h.Directive,args:[{selector:"[lazyLoad]"}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.TemplateRef},{type:h.ViewContainerRef}]},e.propDecorators={lazyLoad:[{type:h.Input}]},e}(),Vs=function(i){function e(e){var t=i.call(this)||this;return t.leftPanel=e,t.init(t.leftPanel.$ele,t.leftPanel.$page),t}return v(e,i),e.prototype.bounds=function(){var e=0;return this.setGesturesEnabled(this.leftPanel.isGesturesEnabled()),this._width||(this._pageContainerWidth=this.leftPanel.$page.width(),this._leftPanelWidth=this.leftPanel.$ele.width(),this._maxX=this._leftPanelWidth/this._pageContainerWidth*100,this._width=this.leftPanel.animation===g.AnimationType.SLIDE_IN?this._pageContainerWidth:this._leftPanelWidth),this._expanded=this.leftPanel.expanded,this._expanded?{center:this._leftPanelWidth,lower:-(this._leftPanelWidth-e)}:(this.leftPanel.app.isTabletApplicationType&&(e=53.32),{center:0,upper:this._leftPanelWidth-e})},e.prototype.context=function(){return{w:this._width,pageW:this._pageContainerWidth,leftW:this._leftPanelWidth,maxX:this._maxX,limit:function(e,t,i){return t<e?e:i<t?i:t}}},e.prototype.animation=function(){return this._$animatedElements=this.leftPanel.$ele,this.leftPanel.animation===g.AnimationType.SLIDE_IN?(this._$animatedElements=this._$animatedElements.add(this.leftPanel.$page),this.leftPanel.app.isTabletApplicationType?[{target:this.leftPanel.$ele,css:{transform:"translate3d(${{ limit(-100, -($d * 100 / leftW), 0) + '%' }}, 0, 0)"}},{target:this.leftPanel.$page,css:{transform:"translate3d(${{ (($d) * 100 / pageW) + '%' }}, 0, 0)",width:"${{ (pageW - $d) + 'px' }}","z-index":101}}]:[{target:this.leftPanel.$ele,css:{transform:"translate3d(-100%, 0, 0)",opacity:1,"z-index":101}},{target:this.leftPanel.$page,css:{transform:"translate3d(${{ limit( 0, ((($D + $d) * 100 / w)), maxX ) + '%' }}, 0, 0)",opacity:1,"z-index":101}}]):{transform:"translate3d(${{ limit( -100, ((($D + $d) * 100 / w) - 100), 0 ) + '%'}}, 0, 0)",opacity:1,"z-index":101}},e.prototype.onLower=function(){this._expanded=!1,this.leftPanel.collapse(),this.resetTransition(),x.$appDigest()},e.prototype.onUpper=function(){this._expanded=!0,this.leftPanel.expand(),this.resetTransition(),x.$appDigest()},e.prototype.resetTransition=function(){var e=this;this._$animatedElements&&setTimeout(function(){e._$animatedElements.css({transform:"",opacity:"","z-index":"",width:""})},100)},e}(o.SwipeAnimation),Bs=this;(Et=Ct||(Ct={})).LEFT_PANEL="page-left-panel",Et.RIGHT_PANEL="page-right-panel",Et.SWIPE_ELEM="page-left-panel-icon",Et.CONTENT="app-content-column",Et.HEADER="page-header",Et.SEARCH="app-search";var Ws,js=function(e){return"[data-role='"+e+"']"},zs=function(e,t){$(e).off("click.deviceview").on("click.deviceview",t)},Us=function(e,t){if(x.isMobile()){if(e)try{e.widget.collapse()}catch(i){}t&&x.setCSS(t,"display","none")}},qs=function(e,n){$(e).each(function(e,i){var t=$('<a class="app-header-action"><i class="wi wi-search"></i></a>');$(i).before(t),zs(t,function(){return e=i,t=n,void("none"===$(e).css("display")?(Us(t),x.setCSS(e,"display","inline-table")):Us(t,e));var e,t})})},Hs=function(e,t){void 0===t&&(t=!1);var i,n,a,o,s,r,l=e.querySelector(js(Ct.LEFT_PANEL)),c=e.querySelector(js(Ct.RIGHT_PANEL)),d=e.querySelector(js(Ct.HEADER)),p=d&&d.querySelector("."+Ct.SEARCH),u=e.querySelector("."+Ct.CONTENT);i=l,n=u,a=p,void 0===(o=t)&&(o=!1),o||zs(n,Us.bind(Bs,i,a)),l?(s=l,r=p,zs(js(Ct.SWIPE_ELEM),function(){s&&(s.widget.toggle(),s.classList.contains("visible")&&r&&x.setCSS(r,"display","none"))})):$(d).find(js(Ct.SWIPE_ELEM)).remove(),c&&zs(c,Us),p&&qs(p,l)},Gs={widgetType:"wm-page",hostClass:"app-page container"},Ys=function(n){function e(e,t){var i=n.call(this,e,Gs)||this;return i.titleService=t,i._eventNotifier=new x.EventNotifier(!1),i}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){"pagetitle"===e?this.titleService.setTitle(t):n.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.notify=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._eventNotifier.notify.apply(this._eventNotifier,arguments)},e.prototype.subscribe=function(e,t){return this._eventNotifier.subscribe(e,t)},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e._eventNotifier.start(),Hs(e.nativeElement,e.getAppInstance().isTabletApplicationType)},1)},e.prototype.ngOnDestroy=function(){this._eventNotifier.destroy()},e.initializeProps=void ge("wm-page",new Map([["pagetitle",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmPage]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:c.Title}]},e}($e),Ks={widgetType:"wm-left-panel",hostClass:"app-left-panel left-panel-collapsed"};(Ws=g.AnimationType||(g.AnimationType={})).SLIDE_IN="slide-in",Ws.SLIDE_OVER="slide-over";var Qs,Xs=function(a){function e(e,t,i){var n=a.call(this,i,Ks)||this;return n.app=e,n.page=t,ue(n.nativeElement,n,g.APPLY_STYLES_TYPE.CONTAINER),n.$ele=n.$element,n.$page=t.$element,x.addClass(n.$page[0],"left-panel-collapsed-container"),n.columnwidth&&n.setLeftPanelWidth(["md","sm"],n.columnwidth),n.app.isTabletApplicationType&&x.addClass(n.nativeElement,"wm-tablet-app-left-panel"),n}return v(e,a),e.prototype.collapse=function(){x.addClass(this.nativeElement,"swipee-transition"),x.switchClass(this.nativeElement,"left-panel-collapsed","left-panel-expanded"),this.expanded=!1,x.switchClass(this.$page[0],"left-panel-collapsed-container","left-panel-expanded-container"),this.animation===g.AnimationType.SLIDE_IN&&(this.setPageWidthAndPosition(["md","sm"],null,this.columnwidth),this.setPageWidthAndPosition(["xs"],null,this.xscolumnwidth)),this._destroyCollapseActionListener&&this._destroyCollapseActionListener(),this.page.notify("wmLeftPanel:collapse")},e.prototype.expand=function(){x.removeClass(this.nativeElement,"swipee-transition"),x.switchClass(this.nativeElement,"left-panel-expanded","left-panel-collapsed"),this.expanded=!0,this.app.isTabletApplicationType&&this.animation===g.AnimationType.SLIDE_IN||(this._destroyCollapseActionListener=this.listenForCollapseAction()),x.switchClass(this.$page[0],"left-panel-expanded-container","left-panel-collapsed-container"),this.animation===g.AnimationType.SLIDE_IN&&(this.setPageWidthAndPosition(["md","sm"],this.columnwidth),this.setPageWidthAndPosition(["xs"],this.xscolumnwidth)),this.page.notify("wmLeftPanel:expand")},e.prototype.isGesturesEnabled=function(){return"on"===this.gestures},e.prototype.isVisible=function(){return this.expanded},e.prototype.onPropertyChange=function(e,t,i){switch(e){case"animation":t===g.AnimationType.SLIDE_IN?(x.removeClass(this.$page[0],"slide-over-left-panel-container"),x.addClass(this.$page[0],"slide-in-left-panel-container"),this.setPageWidthAndPosition(["md","sm"],this.columnwidth),this.setPageWidthAndPosition(["xs"],this.xscolumnwidth)):t===g.AnimationType.SLIDE_OVER&&(x.removeClass(this.$page[0],"slide-in-left-panel-container"),x.addClass(this.$page[0],"slide-over-left-panel-container")),this._leftPanelAnimator=new Vs(this),x.switchClass(this.nativeElement,t,i);break;case"columnwidth":this.setLeftPanelWidth(["md","sm"],t,i),this.animation===g.AnimationType.SLIDE_IN&&this.setPageWidthAndPosition(["md","sm"],t,i);break;case"expanded":x.toggleClass(this.nativeElement,"left-panel-expanded",t),x.toggleClass(this.nativeElement,"left-panel-collapsed",!t);break;case"xscolumnwidth":this.setLeftPanelWidth(["xs"],t,i),this.animation===g.AnimationType.SLIDE_IN&&this.setPageWidthAndPosition(["xs"],t,i);break;default:a.prototype.onPropertyChange.call(this,e,t,i)}},e.prototype.toggle=function(){var e=this;this.app.isTabletApplicationType?setTimeout(function(){e.expanded?e.collapse():e.expand()},50):this.$ele.swipeAnimation(this.expanded?"gotoLower":"gotoUpper")},e.prototype.listenForCollapseAction=function(){var e=this,t="click.leftNavToggle",i=!1;return this.$ele.on(t,function(){i=!0}),this.$page.on(t,function(){i||e.toggle(),i=!1}),function(){e.$ele.off(t),e.$page.off(t)}},e.prototype.setLeftPanelWidth=function(e,t,i){var n=this;e.forEach(function(e){t&&x.addClass(n.nativeElement,"col-"+e+"-"+t),i&&x.removeClass(n.nativeElement,"col-"+e+"-"+i)})},e.prototype.setPageWidthAndPosition=function(e,t,i){var n=this;e.forEach(function(e){t&&x.addClass(n.$page[0],"left-panel-container-"+e+"-"+(12-t)),i&&x.removeClass(n.$page[0],"left-panel-container-"+e+"-"+(12-i))})},e.initializeProps=void ge("wm-left-panel",new Map([["animation",y({value:"slide-in"},be)],["class",be],["columnwidth",y({value:3},we)],["content",be],["gestures",y({value:"on"},be)],["name",be],["xscolumnwidth",y({value:10},we)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmLeftPanel]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:x.App},{type:Ys},{type:h.Injector}]},e}($e),Zs=function(){function e(e,t,i){this.subscribedWidget=e,this.app=t,this.dialogService=i,e.addRow=this.addRow.bind(this),e.updateRow=this.updateRow.bind(this),e.deleteRow=this.deleteRow.bind(this),e.call=this.call.bind(this)}return e.prototype.addRow=function(){this.app.notify("wm-event",{eventName:ve.INSERT,widgetName:this.subscribedWidget.name,row:this.subscribedWidget.selecteditem})},e.prototype.updateRow=function(){this.app.notify("wm-event",{eventName:ve.UPDATE,widgetName:this.subscribedWidget.name,row:this.subscribedWidget.selecteditem})},e.prototype.deleteRow=function(){this.app.notify("wm-event",{eventName:ve.DELETE,widgetName:this.subscribedWidget.name,row:this.subscribedWidget.selecteditem})},e.prototype.successHandler=function(e,t){x.triggerFn(e.success,t)},e.prototype.errorHandler=function(e,t){this.app.notifyApp(t,"error","ERROR"),x.triggerFn(e.error,t)},e.prototype.getRecords=function(t,e){var i,n,a=this;"None"!==this.subscribedWidget.navigation&&this.subscribedWidget.dataNavigator?(n=this.subscribedWidget.dataNavigator,e===ve.DELETE?(n.dataSize-=1,n.calculatePagingValues(),i=n.pageCount<n.dn.currentPage?"prev":undefined):("last"===(i=e===ve.INSERT?"last":"current")&&(n.dataSize+=1),n.calculatePagingValues()),n.navigatePage(i,null,!0,function(e){a.successHandler(t,e)})):this.subscribedWidget.datasource.execute(x.DataSource.Operation.LIST_RECORDS,{skipToggleState:!0}).then(function(e){a.successHandler(t,e)},function(e){a.errorHandler(t,e)})},e.prototype.performCUDOperation=function(e,t,i){var n=this;ot(this.subscribedWidget.datasource,e,{operationType:t}).then(function(e){e.error?n.errorHandler(i,e.error):(n.getRecords(i,t),"delete"===t&&n.app.notifyApp(n.app.appLocale.MESSAGE_DELETE_RECORD_SUCCESS,"success"))},function(e){n.errorHandler(i,e)})},e.prototype.insertRecord=function(e,t,i){this.performCUDOperation(e,t,i)},e.prototype.updateRecord=function(e,t,i){this.performCUDOperation(e,t,i)},e.prototype.deleteRecord=function(e,t,i){var n=this;this.dialogService.showAppConfirmDialog({title:this.app.appLocale.MESSAGE_DELETE_RECORD||"Delete Record",iconclass:"wi wi-delete fa-lg",message:this.subscribedWidget.confirmdelete||"Are you sure you want to delete this?",oktext:this.subscribedWidget.deleteoktext||"Ok",canceltext:this.subscribedWidget.deletecanceltext||"Cancel",onOk:function(){n.performCUDOperation(e,t,i),n.dialogService.closeAppConfirmDialog()},onCancel:function(){x.triggerFn(i.cancelDeleteCallback),n.dialogService.closeAppConfirmDialog()}})},e.prototype.performOperation=function(e,t){var i={row:t.row,prevData:{},rowData:{},transform:!0,skipNotification:!0};switch(e===ve.UPDATE&&(i.rowData=t.rowData,i.prevData=t.prevData),e){case ve.INSERT:this.insertRecord(i,e,t);break;case ve.UPDATE:this.updateRecord(i,e,t);break;case ve.DELETE:this.deleteRecord(i,e,t);break;case ve.READ:this.getRecords(t,e)}},e.prototype.call=function(e,t,i,n){t.success=i,t.error=n,this.performOperation(e,t)},e.decorators=[{type:h.Directive,args:[{selector:"[wmLiveActions]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[go]}]},{type:x.App},{type:x.AbstractDialogService}]},e}(),Js={widgetType:"wm-livetable",hostClass:"app-livegrid"},er=function(l){function e(e,t,i,n,a,o,s){var r=l.call(this,e,Js)||this;return r.dialogService=n,r.app=a,r.$queue=[],r.tableOptions={multiselect:!1,setGridEditMode:""},ue(r.nativeElement,r),"dialog"===o&&(r.isLayoutDialog=!0,r.dialogId=s),r}return v(e,l),e.prototype.ngAfterContentInit=function(){var e=this;l.prototype.ngAfterContentInit.call(this),this.table&&((this.table._liveTableParent=this).table.datagridElement.datatable("option",this.tableOptions),this.table.selectedItemChange$.pipe(r.debounceTime(250)).subscribe(this.onSelectedItemChange.bind(this)),this.isLayoutDialog||this.form||this.table.datagridElement.datatable("option",{beforeRowUpdate:function(){e.showErrorMessage()},beforeRowDelete:function(){e.showErrorMessage()},beforeRowInsert:function(){e.showErrorMessage()}}))},e.prototype.openDialog=function(){this.dialogService.open(this.dialogId),x.$appDigest()},e.prototype.closeDialog=function(){this.dialogService.close(this.dialogId)},e.prototype.focusFirstInput=function(){var e=$(this.form.$element).find('[role="input"]:first');e.focus(),e.select()},e.prototype.onDialogOpen=function(){this.focusFirstInput()},e.prototype.setFormData=function(e){this.form.isDestroyed||(this.form.getWidget().formdata=e)},e.prototype._addNewRow=function(){this.form.isSelected=!0,this.setFormData(""),this.form["new"](),this.isLayoutDialog&&this.onDialogOpen()},e.prototype.addNewRow=function(){if(this.isLayoutDialog)return this.openDialog(),void this.$queue.push(this._addNewRow.bind(this));this._addNewRow()},e.prototype._updateRow=function(e,t){this.setFormData(e),this.form.isSelected=!0,this.form.edit(),this.isLayoutDialog&&(this.form.isUpdateMode="dblclick"!==t||this.form.updateMode,this.onDialogOpen())},e.prototype.updateRow=function(e,t){if(this.isLayoutDialog)return this.openDialog(),void this.$queue.push(this._updateRow.bind(this,e,t));this._updateRow(e,t)},e.prototype.onSelectedItemChange=function(e){var t;this.form&&this.table&&(e&&0<e.length&&!this.form.isSelected&&(this.form.isSelected=!0),e&&0<e.length?(t=this.table.multiselect?e[0]:e[e.length-1],this.setFormData(x.getClonedObject(t)),this.form.isUpdateMode&&this.form.edit()):(this.form.isSelected=!1,this.setFormData(""),this.form.clearData()))},e.prototype.onCancel=function(){this.form.isUpdateMode=!1,this.isLayoutDialog&&this.closeDialog()},e.prototype.onResult=function(e,t,i,n){switch(this.form.isUpdateMode=x.isDefined(n)?n:!!i,e){case"insert":i?(this.table.gridfirstrowselect=!1,this.table.initiateSelectItem(this.table.getNavigationTargetBySortInfo(),t,!0)):this.table.initiateSelectItem(this.table.getNavigationTargetBySortInfo(),t);break;case"update":i?(this.table.gridfirstrowselect=!1,this.table.initiateSelectItem("current",t,!0)):this.table.initiateSelectItem("current",t);break;case"delete":this.table.onRecordDelete()}this.table.updateVariable(),this.isLayoutDialog&&(i?"insert"===e?this.form["new"]():"update"===e&&this.form.edit():this.closeDialog())},e.prototype.showErrorMessage=function(){this.app.notifyApp(this.appLocale.LABEL_ACCESS_DENIED,"error")},e.prototype.onFormReady=function(e){var t=this;this.form=e,setTimeout(function(){x.triggerFn(t.$queue.pop())})},e.initializeProps=void ge("wm-livetable",new Map([["class",be],["formlayout",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmLiveTable]",template:"<ng-content></ng-content>",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ElementRef},{type:h.ChangeDetectorRef},{type:x.AbstractDialogService},{type:x.App},{type:String,decorators:[{type:h.Attribute,args:["formlayout"]}]},{type:String,decorators:[{type:h.Attribute,args:["dialogid"]}]}]},e.propDecorators={table:[{type:h.ContentChild,args:[Ps]}]},e}($e),tr=function(){function e(e,t,i,n,a){var o=this;this.form=e,this.datePipe=i,this.dialogService=n,this._debouncedSavePrevDataValues=x.debounce(function(){o.savePrevDataValues()},250),t&&!this.form.parentForm?(this.form._liveTableParent=t,this.form.isLayoutDialog=t.isLayoutDialog,t.onFormReady(this.form)):this.form.isLayoutDialog="dialog"===a,e.edit=this.edit.bind(this),e.cancel=this.cancel.bind(this),e.reset=this.reset.bind(this),e["new"]=this["new"].bind(this),e["delete"]=this["delete"].bind(this),e.save=this.save.bind(this),e.saveAndNew=this.saveAndNew.bind(this),e.saveAndView=this.saveAndView.bind(this),e.setPrimaryKey=this.setPrimaryKey.bind(this),e.constructDataObject=this.constructDataObject.bind(this),e.changeDataObject=this.setFormData.bind(this),e.setFormData=this.setFormData.bind(this),e.findOperationType=this.findOperationType.bind(this),e.clearData=this.clearData.bind(this),e.onFieldDefaultValueChange=this.onFieldDefaultValueChange.bind(this),e.onDataSourceChange=this.onDataSourceChange.bind(this),e.onFieldValueChange=this.onFieldValueChange.bind(this),e.submitForm=this.submitForm.bind(this)}return e.prototype.onDataSourceChange=function(){var t=this;_.get(this.form.formFields,"length")&&(this.form.isDataSourceUpdated=!0);var i=this.form.getFormFields();i.forEach(function(e){!e.isDataSetBound&&M(e.widgettype)&&(e["is-related"]?(e.isDataSetBound=!0,rt(t.form.datasource,e.widget,{relatedField:e.key,datafield:it,widget:"widgettype"})):(ht(t.form.datasource,e.widget,{widget:"widgettype",enableemptyfilter:t.form.enableemptyfilter}),wt(t.form.datasource,e.widget,i,e.value,{isFirst:!0})))})},e.prototype.onFieldDefaultValueChange=function(e,t){"update"!==this.form.operationType&&(x.isDefined(t)&&null!==t&&""!==t&&"null"!==t?e.value=ao(t,e.type,e.widgettype):e.value=undefined,this._debouncedSavePrevDataValues())},e.prototype.onFieldValueChange=function(e,t){wt(this.form.datasource,e.widget,this.form.formFields,t)},e.prototype.getBlobURL=function(e,t,i){var n,a="";return null!==i&&i!==undefined&&this.form.datasource?(n=e[(this.form.datasource.execute(x.DataSource.Operation.GET_PRIMARY_KEY)||[])[0]],a+=this.form.datasource.execute(x.DataSource.Operation.GET_BLOB_URL,{primaryValue:n,columnName:t}),a+="?"+Math.random()):a},e.prototype.resetFileUploadWidget=function(e,t){this.form.$element.find('[name="'+e.key+'_formWidget"]').val(""),e._control.reset(),t||(e.href="",e.value=null)},e.prototype.setDefaultValues=function(){var t=this;this.form.formFields.forEach(function(e){t.onFieldDefaultValueChange(e,e.defaultvalue)})},e.prototype.setFormData=function(n){var a=this;n&&(this.form.getFormFields().forEach(function(e){var t,i=_.get(n,e.key||e.name);(t=e).widgettype===x.DataType.TIME||t.type===x.DataType.TIME&&!t.widgettype?e.value=function(e){if(e){var t=(new Date).toDateString();return new Date(t+" "+e).getTime()}return undefined}(i):e.type===x.DataType.BLOB?(a.resetFileUploadWidget(e,!0),e.href=a.getBlobURL(n,e.key,i),e.value=_.isString(i)?"":i):e.value=i}),this.savePrevDataValues(),this.form.constructDataObject())},e.prototype.onDataSourceUpdate=function(e,t,i){t?this.form["new"]():(this.form.setFormData(e),this.closeDialog()),this.form.isUpdateMode=!x.isDefined(i)||i},e.prototype.savePrevformFields=function(){this.form.prevformFields=x.getClonedObject(this.form.formFields.map(function(e){return{key:e.key,type:e.type,widgettype:e.widgettype,outputformat:e.outputformat,value:e.value}}))},e.prototype.getPrevformFields=function(){var i=this;this.form.formFields.map(function(t){var e=i.form.prevformFields.find(function(e){return e.key===t.key});t.value=e.value})},e.prototype.getDataObject=function(){return this.form.operationType===ve.INSERT?{}:x.isDefined(this.form.prevDataObject)&&!x.isEmptyObject(this.form.prevDataObject)?x.getClonedObject(this.form.prevDataObject):x.getClonedObject(this.form.formdata||{})},e.prototype.constructDataObject=function(e){var o=this,s=this.getDataObject(),r=this.form.name;return(e?this.form.prevformFields:this.form.getFormFields()).forEach(function(e){var t,i,n=_.split(e.key,"."),a=n[0]||e.key;i=e.widgettype&&x.isDateTimeType(e.widgettype)||x.isDateTimeType(e.type)?e.value?(t=x.getValidDateObject(e.value),e.outputformat===x.DataType.TIMESTAMP||e.type===x.DataType.TIMESTAMP?e.value?t:null:e.outputformat?o.datePipe.transform(t,e.outputformat):e.value):undefined:e.type===x.DataType.BLOB?x.getFiles(r,a+"_formWidget",e.multiple):e.type===x.DataType.LIST?e.value||undefined:null===e.value||""===e.value?undefined:e.value,1===n.length?s[a]=i:(s[a]=s[a]||{},s[a][n[1]]=i)}),e?s:(this.form.updateFormDataOutput(s),this.form.dataoutput)},e.prototype.setPrimaryKey=function(e){this.form.primaryKey=this.form.primaryKey||[],-1===this.form.primaryKey.indexOf(e)&&this.form.primaryKey.push(e)},e.prototype.findOperationType=function(){var e,t=this,i=!1,n=this.form.datasource&&this.form.datasource.execute(x.DataSource.Operation.GET_OPERATION_TYPE);return n&&"read"!==n?n:(this.form.primaryKey&&!_.isEmpty(this.form.formdata)&&(1===this.form.primaryKey.length?this.form.formdata[this.form.primaryKey[0]]&&(e=ve.UPDATE):0===this.form.primaryKey.length?(_.forEach(this.form.formdata,function(e){e&&(i=!0)}),i&&(e=ve.UPDATE)):(i=_.some(this.form.primaryKey,function(e){if(t.form.formdata[e])return!0}))&&(e=ve.UPDATE)),e||ve.INSERT)},e.prototype.getPrevDataValues=function(){var t=_.fromPairs(_.map(this.form.prevDataValues,function(e){return[e.key,e.value]}));return this.form.formFields.forEach(function(e){e.value=t[e.key]||"",e.resetDisplayInput()}),t},e.prototype.savePrevDataValues=function(){this.form.prevDataValues=this.form.formFields.map(function(e){return{key:e.key,value:e.value}})},e.prototype.emptyDataModel=function(){var t=this;this.form.formFields.forEach(function(e){x.isDefined(e)&&(e.type===x.DataType.BLOB?t.resetFileUploadWidget(e):e.datavalue="")})},e.prototype.clearData=function(){this.form.toggleMessage(!1),this.emptyDataModel()},e.prototype.setReadonlyFields=function(){this.form.formFields.forEach(function(e){e.setReadOnlyState()})},e.prototype.edit=function(){this.form.resetFormState(),this.form.clearMessage(),this.form.operationType=ve.UPDATE,this.form.isSelected&&(this.savePrevformFields(),this.savePrevDataValues()),this.form.prevDataObject=x.getClonedObject(this.form.formdata||{}),this.setReadonlyFields(),this.form.isUpdateMode=!0,x.$appDigest()},e.prototype.reset=function(){var t,i=this;this.form.resetFormState(),t=this.getPrevDataValues(),this.form.formFields.forEach(function(e){e.type===x.DataType.BLOB&&(i.resetFileUploadWidget(e,!0),e.href=i.getBlobURL(t,e.key,e.value))}),this.form.constructDataObject()},e.prototype.closeDialog=function(){this.form.isLayoutDialog&&this.dialogService.close(this.form.dialogId)},e.prototype.cancel=function(){this.form.clearMessage(),this.form.isUpdateMode=!1,this.form.reset(),this.form.isSelected&&this.getPrevformFields(),this.form.isUpdateMode=!1,this.closeDialog(),this.form._liveTableParent&&this.form._liveTableParent.onCancel(),x.$appDigest()},e.prototype["new"]=function(){var e=this;this.form.resetFormState(),this.form.operationType=ve.INSERT,this.form.clearMessage(),this.form.isSelected&&this.savePrevformFields(),this.emptyDataModel(),setTimeout(function(){e.setDefaultValues(),e.savePrevDataValues(),e.form.constructDataObject()}),this.form.isUpdateMode=!0},e.prototype["delete"]=function(e){this.form.resetFormState(),this.form.operationType=ve.DELETE,this.form.prevDataObject=x.getClonedObject(this.form.formdata||{}),this.form.save(undefined,undefined,undefined,e)},e.prototype.saveAndNew=function(){this.save(undefined,!0,!0)},e.prototype.saveAndView=function(){this.save(undefined,!1)},e.prototype.submitForm=function(e){this.save(e)},e.prototype.save=function(i,n,a){var o=this;if(this.form.datasource){var e,t,s,r,l={};if(s=this.form.operationType=this.form.operationType||this.findOperationType(),!this.form.validateFieldsOnSubmit()){e=x.getClonedObject(this.form.constructDataObject()),t=this.form.prevformFields?this.form.constructDataObject(!0):e;try{if(!1===(r=this.form.invokeEventCallback("beforeservicecall",{$event:i,$operation:this.form.operationType,$data:e,options:l})))return;if(r&&r.error)return void this.form.toggleMessage(!0,r.error,"error")}catch(c){if("Abort"===c.message)return}if(this.form.operationType===ve.UPDATE&&this.form.ngform&&this.form.ngform.pristine&&this.form.isSelected&&_.isEqual(e,t))return this.form.toggleMessage(!0,this.form.appLocale.MESSAGE_NO_CHANGES,"info",""),void x.$appDigest();this.form.resetFormState(),l.row=e,l.transform=!0,l.skipNotification=!0,s===ve.UPDATE&&(l.rowData=this.form.formdata,l.prevData=t),ot(this.form.datasource,l,{operationType:s}).then(function(e){var t=s===ve.INSERT?o.form.insertmessage:s===ve.UPDATE?o.form.updatemessage:o.form.deletemessage;s===ve.DELETE?(o.form.onResult(l.row,!0,i),o.emptyDataModel(),o.form.prevDataValues=[],o.form.isSelected=!1):o.form.onResult(e,!0,i),o.form.toggleMessage(!0,t,"success"),o.form._liveTableParent?o.form._liveTableParent.onResult(s,e,a,n):(o.form.datasource.execute(x.DataSource.Operation.LIST_RECORDS,{skipToggleState:!0}),o.onDataSourceUpdate(e,a,n))},function(e){o.form.onResult(e,!1,i),o.form.toggleMessage(!0,e,"error"),x.$appDigest()})}}},e.initializeProps=function(){x.isMobileApp()&&Ya.set("captionwidth",y({value:"xs-4 sm-4 md-4 lg-4"},be));var e=new Map(Ya);e.set("defaultmode",y({value:"View"},be)),e.set("formlayout",y({value:"inline"},be)),e.set("insertmessage",y({value:"Record added successfully"},be)),e.set("updatemessage",y({value:"Record updated successfully"},be)),e.set("deletemessage",y({value:"Record deleted successfully"},be)),e.set("errormessage",y({value:"An error occured. Please try again!"},be)),e.set("messagelayout",y({value:"Toaster"},be)),e.set("formdata",be),e.set("novalidate",Ce),e.set("validationtype",y({value:"default"},be)),e.set("iconclass",be),ge("wm-liveform",e)}(),e.decorators=[{type:h.Directive,args:[{selector:"[wmLiveForm]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[Do]}]},{type:er,decorators:[{type:h.Optional}]},{type:Qn},{type:x.AbstractDialogService},{type:String,decorators:[{type:h.Attribute,args:["formlayout"]}]}]},e}(),ir="EMPTY_NULL_FILTER",nr=function(){function e(e){var t=this;this.form=e,this._filter=x.debounce(function(e){t.filter(e)},250),e.clearFilter=this.clearFilter.bind(this),e.applyFilter=this.applyFilter.bind(this),e.filter=this.filter.bind(this),e.filterOnDefault=this.filterOnDefault.bind(this),e.execute=this.execute.bind(this),e.onFieldDefaultValueChange=this.onFieldDefaultValueChange.bind(this),e.onMaxDefaultValueChange=this.onMaxDefaultValueChange.bind(this),e.onDataSourceChange=this.onDataSourceChange.bind(this),e.onFieldValueChange=this.onFieldValueChange.bind(this),e.submitForm=this.submitForm.bind(this),e.registerFormWidget=this.registerFormWidget.bind(this)}return e.prototype.execute=function(e,t){return e===x.DataSource.Operation.LIST_RECORDS||e===x.DataSource.Operation.DOWNLOAD?this.applyFilter(t):e===x.DataSource.Operation.GET_OPTIONS?this._options||{}:e===x.DataSource.Operation.GET_PAGING_OPTIONS?this.form.pagination:this.form.datasource?e===x.DataSource.Operation.FETCH_DISTINCT_VALUES?function n(t,e,i){_.isEmpty(e)||e.forEach(function(e){ht(t,e,i)})}(this.form.datasource,this.form.formFields,{widget:"widgettype",enableemptyfilter:this.form.enableemptyfilter,EMPTY_VALUE:this.form.appLocale.LABEL_NO_VALUE}):this.form.datasource.execute(e,t):{}},e.prototype.onFieldDefaultValueChange=function(e,t){e.minValue=t,e.value=t,this.filterOnDefault()},e.prototype.onFieldValueChange=function(e,t){wt(this.form.datasource,e.widget,this.form.formFields,t,{EMPTY_VALUE:this.form.appLocale.LABEL_NO_VALUE}),this.form.autoupdate&&x.isDefined(t)&&this._filter()},e.prototype.onMaxDefaultValueChange=function(){var e=this;setTimeout(function(){e.filterOnDefault()})},e.prototype.onDataSourceChange=function(){var t=this,i=this.form.datasource;i&&(this.form.formFields.forEach(function(e){M(e.widgettype)&&(ht(i,e.widget,{widget:"widgettype",enableemptyfilter:t.form.enableemptyfilter,EMPTY_VALUE:t.form.appLocale.LABEL_NO_VALUE}),wt(i,e.widget,t.form.formFields,e.value,{isFirst:!0,EMPTY_VALUE:t.form.appLocale.LABEL_NO_VALUE}))}),this._filter(this._options))},e.prototype.clearFilter=function(){var t=this;this.form.resetFormState(),this.form.formFields.forEach(function(e){!e.readonly&&e.show&&(e.widgettype!==x.FormWidgetType.AUTOCOMPLETE&&e.widgettype!==x.FormWidgetType.TYPEAHEAD||t.form.$element.find("div[name="+e.name+"] input").val(""),e["is-range"]?(e.minValue="",e.maxValue=""):(e.value="",e.resetDisplayInput()))}),setTimeout(function(){t._filter()})},e.prototype.submitForm=function(){this.filter()},e.prototype.applyFilter=function(e){return(e=e?e.data||e:{}).page=e.page||1,e.orderBy=x.isDefined(e.orderBy)?e.orderBy:this.orderBy,this.filter(e)},e.prototype.filter=function(e){var s=this;if(this.form.datasource){var i,t,r={},a={},n=1;n=(e=e||{}).page||n,i=x.isDefined(e.orderBy)?e.orderBy:this.orderBy||"",this.orderBy=i,this.form.formFields.forEach(function(e){var t,i="div[name="+e.name+"] input",n=s.form.$element;if((e.widgettype===x.FormWidgetType.AUTOCOMPLETE||e.widgettype===x.FormWidgetType.TYPEAHEAD)&&n)return t=n.find(i),void(e["is-range"]?a[e.field]={minValue:x.isDefined(e.minValue)?e.minValue:t.first().val(),maxValue:x.isDefined(e.maxValue)?e.maxValue:t.last().val()}:a[e.field]={value:x.isDefined(e.value)?e.value:t.val()});e["is-range"]?a[e.field]={minValue:e.minValue,maxValue:e.maxValue}:a[e.field]={value:e.value}});try{if(!1===(t=this.form.invokeEventCallback("beforeservicecall",{$data:a})))return;if(t&&t.error)return void this.form.toggleMessage(!0,t.error,"error","ERROR");this.form.formFields.forEach(function(e){e["is-range"]?(e._minValue=a[e.field].minValue,e._maxValue=a[e.field].maxValue):e._value=a[e.field].value})}catch(o){if("Abort"===o.message)return}return this.form.formFields.forEach(function(e){var t,i,n=e.field,a=e._minValue,o=e._maxValue;if(e["is-related"]&&(n+="."+e["lookup-field"]),e["is-range"])t=mt(a,o),i=gt(a,o),x.isDefined(t)&&(r[n]={value:t,matchMode:i,logicalOp:"AND"});else{switch(e.widgettype){case x.FormWidgetType.SELECT:case x.FormWidgetType.RADIOSET:vt(s.form.enableemptyfilter)&&e._value===ir?(i=yt(s.form.enableemptyfilter),t=e._value):e.type===x.DataType.BOOLEAN?x.isDefined(e._value)&&""!==e._value&&(t=JSON.parse(e._value)):t=e._value;break;case x.FormWidgetType.CHECKBOXSET:case x.FormWidgetType.CHIPS:e._value&&e._value.length&&(t=e._value);break;case x.FormWidgetType.CHECKBOX:case x.FormWidgetType.TOGGLE:x.isDefined(e._value)&&""!==e._value&&(t=e.type===x.DataType.BOOLEAN?JSON.parse(e._value):e._value);break;default:t=e._value}x.isDefined(t)&&""!==t&&null!==t&&(r[n]={},i?(r[n].matchMode=i,t=undefined):(e.type===x.DataType.STRING||e.isRelated)&&(r[n].matchMode=i||e.matchmode||s.form.datasource.execute(x.DataSource.Operation.GET_MATCH_MODE)),r[n].value=t,r[n].logicalOp="AND",r[n].type=e.type)}}),e.exportType?this.form.datasource.execute(x.DataSource.Operation.DOWNLOAD,{data:{matchMode:"anywhereignorecase",filterFields:r,orderBy:i,exportType:e.exportType,logicalOp:"AND",exportSize:e.exportSize,fields:e.fields,fileName:e.fileName}}):this.form.datasource.execute(x.DataSource.Operation.LIST_RECORDS,{filterFields:r,orderBy:i,page:n,pagesize:this.form.pagesize||20,skipDataSetUpdate:!0,inFlightBehavior:"executeAll"}).then(function(e){var t=e.data;return s.form.pagination=e.pagination,t.error?(s.form.toggleMessage(!0,t.error,"error","ERROR"),s.form.onResult(t,!1)):(s._options={page:n,orderBy:i},s.form.result=x.getClonedObject(t),s.form.onResult(t,!0)),x.$appDigest(),s.form.result},function(e){return s.form.toggleMessage(!0,e,"error","ERROR"),s.form.onResult(e,!1),e})}},e.prototype.filterOnDefault=function(){_.find(this.form.formFields,function(e){return x.isDefined(e.value)||x.isDefined(e.minValue)||x.isDefined(e.maxValue)})&&this._filter(this._options)},e.prototype.registerFormWidget=function(e){var t=e.key||e.name;this.form.filterWidgets[t]=e},e.initializeProps=function(){x.isMobileApp()&&Ya.set("captionwidth",y({value:"xs-4 sm-4 md-4 lg-4"},be));var e=new Map(Ya);e.set("autoupdate",Ce),e.set("enableemptyfilter",y({value:" "},be)),e.set("pagesize",y({value:20},we)),e.set("iconclass",y({value:"wi wi-filter-list"},be)),ge("wm-livefilter",e)}(),e.decorators=[{type:h.Directive,args:[{selector:"[wmLiveFilter]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[Do]}]}]},e}(),ar={widgetType:"wm-marquee",hostClass:"app-marquee app-container"},or=function(i){function e(e){var t=i.call(this,e,ar)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-marquee",new Map([["class",be],["direction",be],["name",be],["scrollamount",we],["scrolldelay",we],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmMarquee]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),sr={scale:{name:"wmScaleInLeft","down,right":"wmScaleInLeft","down,left":"wmScaleInRight","up,right":"wmScaleInTopLeft","up,left":"wmScaleInTopRight"},fade:{name:"fadeIn","down,right":"fadeIn","down,left":"fadeIn","up,right":"fadeIn","up,left":"fadeIn"},slide:{name:"wmSlideInDown","down,right":"wmSlideInDown","down,left":"wmSlideInDown","up,right":"wmSlideInUp","up,left":"wmSlideInUp"}},rr=function(){function e(e,t){this.menuRef=t,this.nativeElement=e.nativeElement,x.addClass(this.nativeElement,"dropdown-menu")}return e.prototype.ngAfterViewInit=function(){var e=this.menuRef.animateitems,t="";e&&(t="animated "+(sr[e][this.menuRef.menuposition]||sr[e].name)),x.addClass(this.nativeElement,"dropdown-menu "+this.menuRef.menualign+" "+t,!0)},e.decorators=[{type:h.Component,args:[{selector:"ul[wmMenuDropdown]",template:'<li wmMenuDropdownItem *ngFor="let item of items"\n    [item]="item"\n    [ngClass]="{disabled: item.disabled, \'dropdown-submenu\': item.children.length > 0}"\n    class="{{item.class}}">\n</li>'}]}],e.ctorParameters=function(){return[{type:h.ElementRef},{type:Mi}]},e.propDecorators={items:[{type:h.Input}]},e}(),lr={"pull-right":"fa-caret-left","dropinline-menu":"fa-caret-down","pull-left":"fa-caret-right"},cr="horizontal",dr=function(){function e(e,t,i,n){var r=this;this.menuRef=e,this.userDefinedExecutionContext=t,this.parentNav=i,this.onSelect=function(e,t){if(r.nativeElement===$(e.target).closest(".app-menu-item").get(0)){"outsideClick"===r.menuRef.autoclose&&e.stopPropagation(),e.preventDefault();var i={$event:e,$item:t},n=t.target||r.menuRef.linktarget,a=t.action,o=t.link;if(r.menuRef.onMenuItemSelect(i),a&&(r.itemActionFn||(r.itemActionFn=x.$parseEvent(a)),r.itemActionFn(r.userDefinedExecutionContext,Object.create(t))),o)if(!o.startsWith("#/")||n&&"_self"!==n)x.openLink(o,n);else{var s=x.getUrlParams(o);o=x.getRouteNameFromLink(o),r.menuRef.route.navigate([o],{queryParams:s})}}},this.nativeElement=n.nativeElement,x.addClass(this.nativeElement,"app-menu-item"),this.menualign=lr[this.menuRef.menualign]||lr["pull-left"]}return e.prototype.ngOnInit=function(){this.parentNav&&L(this.item.link,this.menuRef.route.url)&&x.addClass(this.nativeElement,"active")},e.prototype.getInitialKeyMovements=function(){var e=_.clone(wi);return this.menuRef.menulayout===cr?(e.MOVE_UP="LEFT-ARROW",e.MOVE_LEFT="UP-ARROW",e.MOVE_RIGHT="DOWN-ARROW",e.MOVE_DOWN="RIGHT-ARROW"):this.menuRef.menuposition===xi||this.menuRef.menuposition===Ci?(e.MOVE_LEFT="RIGHT-ARROW",e.MOVE_RIGHT="LEFT-ARROW"):"inline"===this.menuRef.menuposition&&(e.MOVE_UP="LEFT-ARROW",e.MOVE_LEFT="UP-ARROW",e.MOVE_RIGHT="DOWN-ARROW",e.MOVE_DOWN="RIGHT-ARROW"),e},e.prototype.onKeyDown=function(e,t){var i=$(this.nativeElement),n=$(this.nativeElement).closest("ul.dropdown-menu"),a=this.menuRef.$element.find("> ul.dropdown-menu"),o=this.getInitialKeyMovements();if(_.includes(["LEFT-ARROW","RIGHT-ARROW","UP-ARROW","DOWN-ARROW"],t)&&e.preventDefault(),t===o.ON_TAB&&a.children().last()[0]===this.nativeElement||t===o.ON_ESCAPE)e.preventDefault(),this.menuRef.bsDropdown.hide();else if(t===o.ON_ENTER&&!this.item.link||t===o.MOVE_RIGHT)e.stopPropagation(),this.item.children.length?(i.toggleClass("open"),i.find("li:first > a").focus()):i.find("> a").focus();else if(t===o.MOVE_LEFT||t===o.ON_TAB&&n.children().last()[0]===this.nativeElement){if(a[0]!==n[0]){var s=n.parent();s.toggleClass("open").find("li.open").removeClass("open"),s.find("> a").focus(),e.preventDefault(),e.stopPropagation()}}else t===o.MOVE_UP?a[0]===n[0]&&a.find("> li:first")[0]===this.nativeElement||(e.stopPropagation(),i.prev().find("> a").focus()):t===o.MOVE_DOWN?(e.stopPropagation(),a.find("> li:last")[0]===this.nativeElement&&(this.menuRef.menulayout!==cr&&this.menuRef.menuposition===Ei||this.menuRef.menuposition===Ci)?this.menuRef.bsDropdown.hide():i.next().find("> a").focus()):t===o.ON_ENTER?this.onSelect(e,this.item):e.stopPropagation()},e.decorators=[{type:h.Component,args:[{selector:"li[wmMenuDropdownItem]",template:'<a href="javascript:void(0);" [title]="item.label" [wmNavigationControl]="item.link" [disableMenuContext]="menuRef.disableMenuContext || !!item.action">\n    <span *ngIf="item.children.length" class="pull-right fa caret {{menualign}}"></span>\n    <i class="app-icon {{item.icon}}"></i>\n    <span class="anchor-caption">{{item.label}}</span>\n\n</a>\n<ng-container [ngTemplateOutlet]="nestedMenuDropdown" *ngIf="item.children.length" [ngTemplateOutletContext]="{item: item}"></ng-container>\n\n<ng-template #nestedMenuDropdown let-item="item">\n    <ul wmMenuDropdown [items]="item.children"></ul>\n</ng-template>\n'}]}],e.ctorParameters=function(){return[{type:Mi},{type:x.UserDefinedExecutionContext},{type:bi,decorators:[{type:h.Optional}]},{type:h.ElementRef}]},e.propDecorators={item:[{type:h.Input}],onKeyDown:[{type:h.HostListener,args:["keydown.tab",["$event",'"TAB"']]},{type:h.HostListener,args:["keydown.escape",["$event",'"ESC"']]},{type:h.HostListener,args:["keydown.enter",["$event",'"ENTER"']]},{type:h.HostListener,args:["keydown.arrowup",["$event",'"UP-ARROW"']]},{type:h.HostListener,args:["keydown.arrowdown",["$event",'"DOWN-ARROW"']]},{type:h.HostListener,args:["keydown.arrowright",["$event",'"RIGHT-ARROW"']]},{type:h.HostListener,args:["keydown.arrowleft",["$event",'"LEFT-ARROW"']]}],onSelect:[{type:h.HostListener,args:["click",["$event","item"]]}]},e}(),pr={widgetType:"wm-navbar",hostClass:"navbar navbar-default app-navbar"},ur=function(i){function e(e){var t=i.call(this,e,pr)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.prototype.toggleCollapse=function(){var e=this,t=$(this.navContent.nativeElement);t.animate({height:"toggle"}),t.hasClass("in")?setTimeout(function(){return e.toggleNavCollapse()},500):this.toggleNavCollapse()},e.prototype.toggleNavCollapse=function(){this.navContent.nativeElement.classList.toggle("in")},e.initializeProps=void ge("wm-navbar",new Map([["class",y({value:""},be)],["homelink",be],["imgsrc",be],["menuiconclass",y({value:"wi wi-more-vert"},be)],["name",be],["show",y({value:!0},Ce)],["title",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmNavbar]",template:'<div class="container-fluid">\n    <div class="navbar-header">\n        <button type="button" class="btn-transparent navbar-toggle collapsed" data-toggle="collapse" (click)="toggleCollapse()" aria-expanded="false">\n            <span class="sr-only">Toggle navigation</span>\n            <i [ngClass]="menuiconclass"></i>\n        </button>\n        <a class="navbar-brand" [href]="(homelink | trustAs: \'resource\') || \'#/\'" *ngIf="title || imgsrc">\n            <img data-identifier="img" class="brand-image" [alt]="Brand" height="20" *ngIf="imgsrc" [src]="imgsrc | image"/>\n            <span class="title" [textContent]="title"></span>\n        </a>\n    </div>\n    <div class="collapse navbar-collapse" #navContent>\n        <ng-content></ng-content>\n    </div>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={navContent:[{type:h.ViewChild,args:["navContent"]}]},e}($e),hr={widgetType:"wm-number",hostClass:"app-input-wrapper"},fr=function(n){function e(e,t,i){return n.call(this,e,hr,t,i)||this}return v(e,n),e.initializeProps=void ge("wm-number",$o),e.decorators=[{type:h.Component,args:[{selector:"[wmNumber]",template:'<input class="form-control app-textbox app-number-input"\n       inputmode="numeric"\n       focus-target\n       [attr.name]="name"\n       role="input"\n       type="text"\n       [ngModel]="displayValue"\n       [readonly]="readonly"\n       [disabled]="disabled"\n       [pattern]="regexp"\n       [attr.tabindex]="tabindex"\n       [attr.placeholder]="placeholder"\n       [attr.accesskey]="shortcutkey"\n       [autofocus]="autofocus"\n       (ngModelChange)="datavalue=$event"\n       (blur)="handleBlur($event)"\n       [ngModelOptions]="ngModelOptions"\n       [required]="required"\n       (keypress)="validateInputEntry($event)"\n       (keydown.enter)="onEnter($event)"\n       (keydown.ArrowUp)="onArrowPress($event, \'UP\')"\n       (keydown.ArrowDown)="onArrowPress($event, \'DOWN\')"\n       #input>',providers:[j(e),W(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.AbstractI18nService},{type:s.DecimalPipe}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["input"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(La),mr=function(a){function e(e,t,i){var n=a.call(this)||this;n.$el=e,n.app=t,n.onPullToRefresh=i,n.count=0;return n.$el.prepend('<div class="refresh-container"></div>'),n.infoContainer=n.$el.find(".refresh-container"),x.isIos()&&n.infoContainer.addClass("ios-refresh-container"),n.init(n.$el),n}return v(e,a),e.prototype.threshold=function(){return 10},e.prototype.direction=function(){return $.fn.swipey.DIRECTIONS.VERTICAL},e.prototype.subscribe=function(){var t=this;this.cancelSubscription=this.app.subscribe("toggle-variable-state",function(e){e.active&&t.animationInProgress?(t.count++,t.wait()):0<t.count&&t.count--,!t.count&&t.animationInProgress&&t.stopAnimation()})},e.prototype.bounds=function(e,t){var i=this.$el[0].iscroll;return t<0||i&&!isNaN(i.y)&&0!==i.y?{lower:undefined,upper:undefined}:(this.spinner||(this.spinner=x.isIos()?new vr(this.infoContainer):new gr(this.infoContainer),this.subscribe()),{lower:0,center:0,upper:x.isIos()?0:150,strict:!x.isIos()})},e.prototype.context=function(){var t=this;return this.infoContainer.show(),x.isIos()&&this.infoContainer.addClass("entry"),{spin:function(e){t.spinner.setRotation(2*e)}}},e.prototype.animation=function(){return x.isIos()?{css:{transform:"translate3d(0, ${{$D + $d}}px, 0)",spin:"${{spin($d)}}"}}:{target:this.infoContainer,css:{transform:"translate3d(0, ${{$D + $d}}px, 0)",spin:"${{spin($d)}}",opacity:"${{min(($D + $d) / 100, 1)}}"}}},e.prototype.onAnimation=function(){var e=this;this.animationInProgress=!0,this.spinner.start(),this.onPullToRefresh&&this.onPullToRefresh(),setTimeout(function(){e.runAnimation||e.stopAnimation()})},e.prototype.stopAnimation=function(){var e=this;setTimeout(function(){e.runAnimation=!1,e.animationInProgress=!1,e.spinner.stop(),e.infoContainer.hide(),x.setCSS(e.infoContainer[0],"transform","none"),x.isIos()||x.setCSS(e.infoContainer[0],"opacity",0),e.infoContainer.removeClass("entry")},800)},e.prototype.wait=function(){this.runAnimation=!0},e}(o.SwipeAnimation),gr=function(){function e(e,t){this.$el=e,this.options=t||{}}return e.prototype.polarToCartesian=function(e,t,i,n){var a=(n-90)*Math.PI/180;return{x:e+i*Math.cos(a),y:t+i*Math.sin(a)}},e.prototype.describeArc=function(e,t,i,n,a){var o=this.polarToCartesian(e,t,i,a),s=this.polarToCartesian(e,t,i,n),r=a-n<=180?"0":"1";return["M",o.x,o.y,"A",i,i,0,r,0,s.x,s.y,"L",s.x,s.y].join(" ")},e.prototype.init=function(){if(!this.initialized){var e=$('<svg><path id="arc1"/></svg>'),t=$('<div class="android-spinner"></div>');t.append(e),this.$el.append(t),this.cx=t.outerWidth()/2,this.cy=t.outerHeight()/2,this.r=.6*this.cx,this.path=t.find("path"),this.initialized=!0,this.container=t}},e.prototype.setRotation=function(e){this.init(),this.path.attr("d",this.describeArc(this.cx,this.cy,this.r,0,e))},e.prototype.start=function(){var t=this;this.init();var i=this,e=this.options.time||1800,n=0;this.container.addClass("spin"),this.intervalId=setInterval(function(){var e;e=720<(n+=10)?n=0:360<n?720-n:n,i.path.attr("d",t.describeArc(i.cx,i.cy,i.r,0,e))},10*e/360)},e.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0),this.container.removeClass("spin")},e}(),vr=function(){function e(e){this.$el=e}return e.prototype.init=function(){if(!this.svg){var e=$('<div class="ios-spinner"><svg></svg></div>'),t=e.find("svg");this.$el.append(e);for(var i=e.width(),n=0;n<12;n++)t[0].innerHTML+='<line y1="'+.15*i+'" y2="'+.3*i+'"\n                                    transform="translate('+.5*i+", "+.5*i+") rotate("+30*n+')">\n                                </line>';e.append(t),this.svg=t}},e.prototype.setRotation=function(e){this.init(),this.svg.css("transform","rotateZ( "+30*Math.round(e/30)+"deg)")},e.prototype.start=function(){var e=this;this.init();var t=0;this.intervalId=setInterval(function(){t+=10,e.setRotation(t)},20)},e.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0)},e}(),yr={widgetType:"wm-page-content",hostClass:"app-page-content app-content-column"},br=function(a){function e(e,t){var i=a.call(this,e,yr)||this;return i.app=t,ue(i.nativeElement,i,g.APPLY_STYLES_TYPE.CONTAINER),i.registerDestroyListener(i.app.subscribe("pullToRefresh:enable",function(){i.childPullToRefresh=!0,i.initPullToRefresh()})),i}return v(e,a),e.prototype.onPropertyChange=function(e,t,i){var n=this;"columnwidth"===e?x.switchClass(this.nativeElement,"col-md-"+t+" col-sm-"+t,"col-md-"+i+" col-sm-"+i):"pulltorefresh"===e&&t?setTimeout(function(){n.initPullToRefresh()}):a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.initPullToRefresh=function(){var e=this,t=this.hasEventCallback("pulltorefresh");!this.pullToRefreshIns&&(this.childPullToRefresh||t)&&this.pulltorefresh&&(this.pullToRefreshIns=new mr($(this.nativeElement),this.app,function(){t?e.invokeEventCallback("pulltorefresh"):e.app.notify("pulltorefresh")}),this.registerDestroyListener(function(){e.pullToRefreshIns.cancelSubscription&&e.pullToRefreshIns.cancelSubscription()}))},e.initializeProps=void ge("wm-page-content",new Map([["class",be],["columnwidth",we],["content",be],["name",be],["pulltorefresh",y({value:x.isMobileApp()},Ce)]])),e.decorators=[{type:h.Component,args:[{selector:"[wmPageContent]",template:"<ng-content></ng-content>",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.App}]},e}($e),wr={widgetType:"wm-panel",hostClass:"app-panel panel"},Cr=function(a){function e(e){var t=a.call(this,e,wr)||this;return t.$lazyLoad=x.noop,t.expanded=!0,t.helpClass="",t.helptext="",ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.SHELL),t.fullScreenTitle=t.appLocale.LABEL_FULLSCREEN+"/"+t.appLocale.LABEL_EXITFULLSCREEN,t.expandCollapseTitle=t.appLocale.LABEL_COLLAPSE+"/"+t.appLocale.LABEL_EXPAND,x.removeAttr(t.nativeElement,"title"),t}return v(e,a),Object.defineProperty(e.prototype,"hideFooter",{get:function(){return!this.hasFooter||!this.expanded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return this.iconurl||this.iconclass||this.collapsible||this.actions||this.title||this.subheading||this.enablefullscreen},enumerable:!0,configurable:!0}),e.prototype.toggle=function(e){this.collapsible&&(this.invokeEventCallback(this.expanded?"collapse":"expand",{$event:e}),this.expanded=!this.expanded,this.expanded&&(this.$lazyLoad(),this.reDrawChildren()))},e.prototype.expand=function(e){this.expanded||this.toggle(e)},e.prototype.collapse=function(e){this.expanded&&this.toggle(e)},e.prototype.toggleFullScreen=function(e){this.enablefullscreen&&(this.invokeEventCallback(this.fullscreen?"exitfullscreen":"fullscreen",{$event:e}),this.fullscreen=!this.fullscreen,x.toggleClass(this.nativeElement,"fullscreen",this.fullscreen),this.reDrawChildren()),this.computeDimensions()},e.prototype.toggleHelp=function(){this.helpClass=this.helpClass?"":"show-help",x.toggleClass(this.nativeElement,"show-help",!!this.helpClass),x.$appDigest()},e.prototype.close=function(e){this.getWidget().show=!1,this.invokeEventCallback("close",{$event:e})},e.prototype.computeDimensions=function(){var e,t=this.panelHeader.nativeElement.offsetHeight,i=this.nativeElement.querySelector(".panel-footer"),n=this.panelContent.nativeElement,a=window.innerHeight;e=this.fullscreen?this.hideFooter?a-t:a-(i.offsetHeight+t):this.height||"",x.setCSS(n,"height",e)},e.prototype.reDrawChildren=function(){var e=this;setTimeout(function(){e.reDrawableComponents&&e.reDrawableComponents.forEach(function(e){return e.redraw()})},100)},e.prototype.onPropertyChange=function(e,t,i){var n=this;"expanded"===e?this.expanded=t:"content"===e?setTimeout(function(){!n.expanded&&n.collapsible||n.$lazyLoad()},20):a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngAfterContentInit=function(){a.prototype.ngAfterContentInit.call(this),this.hasFooter=!!this.nativeElement.querySelector("[wmPanelFooter]"),ue(this.panelBody.nativeElement,this,g.APPLY_STYLES_TYPE.INNER_SHELL)},e.initializeProps=void ge("wm-panel",new Map([["actions",{}],["badgetype",y({value:"default"},be)],["badgevalue",be],["class",be],["closable",Ce],["collapsible",Ce],["conditionalclass",Ee],["conditionalstyle",Ee],["content",be],["datafield",be],["enablefullscreen",Ce],["expanded",y({value:!0},Ce)],["fullscreen",Ce],["helptext",be],["iconclass",be],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["itemaction",be],["itemchildren",be],["itemicon",be],["itemlabel",be],["itemlink",be],["name",be],["show",y({value:!0},Ce)],["subheading",be],["title",be],["userrole",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmPanel]",template:'<div class="panel-heading {{helpClass}}" *ngIf="showHeader" #panelHeading>\n    <h3 class="panel-title">\n        <a href="javascript:void(0)" class="panel-toggle" (click)="toggle($event)">\n            <div class="pull-left">\n                <i class="app-icon panel-icon {{iconclass}}" *ngIf="iconclass && !iconurl"></i>\n                <img data-identifier="img" title="iconurl" alt="Panel icon" class="panel-image-icon" [src]="iconurl | image" *ngIf="iconurl"\n                     [ngStyle]="{width: iconwidth ,height: iconheight, margin: iconmargin}"/>\n            </div>\n            <div class="pull-left">\n                <div class="heading" [innerHTML]="title | trustAs: \'html\'" [title]="title"></div>\n                <div class="description" [innerHTML]="subheading | trustAs: \'html\'"></div>\n            </div>\n        </a>\n        <div class="panel-actions">\n            <span *ngIf="badgevalue" aria-label="badge" class="app-badge label label-{{badgetype}}">{{badgevalue}}</span>\n            <div wmMenu aria-label="dropdown"\n                 dropdown\n                 type="anchor"\n                 class="panel-action"\n                 dataset.bind="actions"\n                 *ngIf="actions"\n                 caption=""\n                 menuposition="down,left"\n                 iconclass="wi wi-more-vert"\n                 datafield.bind="datafield"\n                ></div>\n            <button type="button" aria-label="Help" class="app-icon panel-action wi" [title]="appLocale.LABEL_HELP" *ngIf="helptext"\n                    (click)="toggleHelp()"><i class="wi-question"></i></button>\n            <button type="button" aria-label="Collapse/Expand" class="app-icon wi panel-action" *ngIf="collapsible" [title]="expandCollapseTitle"\n                    (click)="toggle($event);"><i [ngClass]="expanded ? \'wi-minus\' : \'wi-plus\'"></i></button>\n            <button type="button" aria-label="Fullscreen/Exit" class="app-icon panel-action wi" *ngIf="enablefullscreen"\n                    [title]="fullScreenTitle"\n                    (click)="toggleFullScreen($event);"><i [ngClass]="fullscreen ? \'wi-fullscreen-exit\' : \'wi-fullscreen\'"></i></button>\n            <button type="button" aria-label="Close button" class="app-icon panel-action" title="{{appLocale.LABEL_CLOSE}}" *ngIf="closable"\n                    (click)="close($event)"><i class="wi wi-close"></i></button>\n        </div>\n    </h3>\n</div>\n<div class="panel-content" [hidden]="!expanded" #panelContent>\n    \x3c!-- Todo Bandhavya - implement smooth scroll --\x3e\n    <div partial-container-target #panelBody [ngClass]="[\'panel-body\', helpClass]">\n        <ng-content></ng-content>\n    </div>\n    <aside class="panel-help-message" [ngClass]="helpClass">\n        <h5 class="panel-help-header" [textContent]="appLocale.LABEL_HELP"></h5>\n        <div class="panel-help-content" [innerHTML]="helptext | trustAs : \'html\'"></div>\n    </aside>\n</div>\n<div class="app-panel-footer panel-footer clearfix" [hidden]="hideFooter">\n    <ng-content select="[wmPanelFooter]"></ng-content>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={panelHeader:[{type:h.ViewChild,args:["panelHeading"]}],panelContent:[{type:h.ViewChild,args:["panelContent"]}],panelBody:[{type:h.ViewChild,args:["panelBody"]}],reDrawableComponents:[{type:h.ContentChildren,args:[Ve,{descendants:!0}]}]},e}($i),Er={widgetType:"wm-partialdialog"},xr=function(o){function e(e,t,i,n){null!==i&&i!==undefined||(i=!1),null!==n&&n!==undefined||(n=!0);var a=!x.toBoolean(i)||"static";return o.call(this,e,Er,{"class":"app-dialog modal-dialog app-page-dialog "+(t||""),backdrop:a,keyboard:!x.toBoolean(i)})||this}return v(e,o),e.prototype.getTemplateRef=function(){return this.dialogTemplate},e.prototype.onOk=function(e){this.invokeEventCallback("ok",{$event:e})},e.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.register(this.viewParent)},e.initializeProps=void ge("wm-partialdialog",new Map([["animation",be],["class",be],["closable",{value:!0,PROP_BOOLEAN:Ce}],["content",be],["iconclass",{value:"wi wi-file",PROP_STRING:be}],["iconheight",be],["iconmargin",be],["iconurl",be],["iconwidth",be],["modal",y({value:!1},Ce)],["name",be],["oktext",y({value:"OK"},be)],["showactions",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",y({value:"Page Content"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmPartialDialog]",template:'<ng-template #dialogTemplate>\n    <div wmDialogHeader [closable]="closable"\n         [iconclass]="iconclass"\n         [iconurl]="iconurl"\n         [iconwidth]="iconwidth"\n         [iconheight]="iconheight"\n         [iconmargin]="iconmargin"\n         [heading]="title"\n    ></div>\n    <div wmDialogBody>\n        <ng-container *ngTemplateOutlet="dialogContent"></ng-container>\n    </div>\n    <div wmDialogFooter *ngIf="showactions">\n        <button wmButton class="btn-primary ok-action" caption.bind="oktext" aria-label="Submit button" (click)="onOk($event)"></button>\n    </div>\n</ng-template>\n',providers:[z(e),U(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:String,decorators:[{type:h.Attribute,args:["class"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["modal"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["closable"]}]}]},e.propDecorators={dialogTemplate:[{type:h.ViewChild,args:["dialogTemplate"]}],dialogContent:[{type:h.ContentChild,args:[h.TemplateRef]}]},e}(qe),Dr={widgetType:"wm-partial",hostClass:"app-partial clearfix"},kr=function(t){function e(e){return t.call(this,e,Dr)||this}return v(e,t),e.initializeProps=void ge("wm-partial",new Map([["name",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmPartial]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),_r=function(){function e(e){this.widgetRef=e,this.widgetRef.partialParams={},this.widgetRef.pageParams=this.widgetRef.partialParams,this.widgetRef.params$=new u.Subject}return e.prototype.registerParams=function(t,e,i,n){var a=this;!(this.widgetRef.partialParams[t]=e)&&i?this.widgetRef.registerDestroyListener(x.$watch(i,this.widgetRef.getViewParent(),_.get(this.widgetRef,"context"),function(e){a.widgetRef.partialParams[t]=e,a.widgetRef.params$.next()})):this.widgetRef.params$.next()},e.decorators=[{type:h.Directive,args:[{selector:"[partialContainer]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[k]}]}]},e}(),Ir=function(){function e(e,t,i){this.bindValue=e,this.type=t,this.partialParamsProvider=i}return e.prototype.ngOnInit=function(){this.partialParamsProvider.registerParams(this.name,this.value,this.bindValue,this.type)},e.decorators=[{type:h.Directive,args:[{selector:"[wmParam]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Attribute,args:["value.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["type"]}]},{type:_r}]},e.propDecorators={name:[{type:h.Input}],value:[{type:h.Input}]},e}(),Pr={widgetType:"wm-prefab-container",hostClass:"app-prefab-container full-height"},Sr=function(i){function e(e){var t=i.call(this,e,Pr)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-prefab-container",new Map([["class",be],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmPrefabContainer]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Tr={widgetType:"wm-picture",hostClass:"app-picture",displayType:Ie},Or=function(o){function e(e,t){var i=o.call(this,e,Tr)||this;return i.imagePipe=t,ue(i.nativeElement,i),i}var t;return v(e,o),e.prototype.setImgSource=function(){this.imgSource=this.imagePipe.transform(this.picturesource,this.encodeurl,this.pictureplaceholder)},e.prototype.onPropertyChange=function(e,t,i){if("pictureaspect"===e){var n="",a="";switch(t){case"None":n=this.width,a=this.height;break;case"H":n="100%";break;case"V":a="100%";break;case"Both":a=n="100%"}x.setCSS(this.nativeElement,"width",n,!0),x.setCSS(this.nativeElement,"height",a,!0)}else"encodeurl"===e||"pictureplaceholder"===e?this.setImgSource():"shape"===e?x.switchClass(this.nativeElement,"img-"+t,"img-"+i):"hint"===e&&x.setAttr(this.nativeElement,"alt",t);o.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.onStyleChange=function(e,t,i){"picturesource"===e?this.setImgSource():o.prototype.onStyleChange.call(this,e,t,i)},e.prototype.ngOnInit=function(){this.setImgSource(),o.prototype.ngOnInit.call(this)},e.initializeProps=(t=new Map([["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["encodeurl",be],["hint",be],["name",be],["pictureaspect",y({value:"None"},be)],["pictureplaceholder",be],["picturesource",be],["shape",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)]]),x.isMobileApp()&&t.set("offline",y({value:!0},Ce)),void ge("wm-picture",t)),e.decorators=[{type:h.Directive,args:[{selector:"img[wmPicture]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:hs}]},e.propDecorators={imgSource:[{type:h.HostBinding,args:["src"]}]},e}($e),Ar={widgetType:"wm-popover",hostClass:"app-popover-wrapper"},Rr={click:"click",hover:"mouseenter:click","default":"click mouseenter"},Lr=function(a){function e(e,t,i){var n=a.call(this,e,Ar)||this;return n.app=t,n.isOpen=!1,n.canPopoverOpen=!0,n.keyEventPlugin=i[1],n.popoverContainerCls="app-popover-"+n.widgetId,n}return v(e,a),e.prototype.open=function(){this.showPopover()},e.prototype.close=function(){this.isOpen=!1},e.prototype.onHidden=function(){this.invokeEventCallback("hide",{$event:{type:"hide"}})},e.prototype.setFocusToPopoverLink=function(){var e=this;setTimeout(function(){return e.anchorRef.nativeElement.focus()},10)},e.prototype.adjustPopoverPosition=function(e,t,i){var n=t.left+t.width/2-i;this.bsPopoverDirective._popover._ngZone.onStable.subscribe(function(){e.css("left",i+"px"),e.find(".popover-arrow").css("left",n+"px")})},e.prototype.calculatePopoverPostion=function(e){var t=$(e),i=_.parseInt(t.css("left")),n=_.parseInt(t.css("width")),a=$(window).width(),o=this.anchorRef.nativeElement.getBoundingClientRect();if(i<0){var s=4;this.adjustPopoverPosition(t,o,s)}if(a<i+n){s=i-(i+n-a)-50;this.adjustPopoverPosition(t,o,s)}},e.prototype.onShown=function(){var t=this;Qs&&Qs.isOpen&&(Qs.isOpen=!1),(Qs=this).isOpen=!0;var e=document.querySelector("."+this.popoverContainerCls);x.setCSSFromObj(e,{height:this.popoverheight,minWidth:this.popoverwidth}),this.popoverarrow||x.addClass(e.querySelector(".arrow"),"hidden"),"hover"!==this.interaction&&"default"!==this.interaction||(e.onmouseenter=function(){return clearTimeout(t.closePopoverTimeout)},e.onmouseleave=function(){return t.hidePopover()},this.anchorRef.nativeElement.onmouseenter=function(){return clearTimeout(t.closePopoverTimeout)},this.anchorRef.nativeElement.onmouseleave=function(){return t.hidePopover()});var i=this.eventManager.addEventListener(e,"keydown.esc",function(){t.isOpen=!1,t.setFocusToPopoverLink(),i()}),n=e.querySelector(".popover-start"),a=e.querySelector(".popover-end");n.onkeydown=function(e){"shift.tab"===t.keyEventPlugin.constructor.getEventFullKey(e)&&(t.bsPopoverDirective.hide(),t.setFocusToPopoverLink())},a.onkeydown=function(e){"tab"===t.keyEventPlugin.constructor.getEventFullKey(e)&&(t.bsPopoverDirective.hide(),t.setFocusToPopoverLink())},x.setAttr(e,"tabindex",0),setTimeout(function(){return n.focus()},50),setTimeout(function(){"bottom"!==t.popoverplacement&&"top"!==t.popoverplacement||t.calculatePopoverPostion(e),t.triggerPopoverEvents()})},e.prototype.triggerPopoverEvents=function(){var n=this;if("partial"===this.contentsource)var a=this.app.subscribe("partialLoaded",function(e){var t,i=n.partialRef.nativeElement;i&&(t=i.widget,n.Widgets=t.Widgets,n.Variables=t.Variables,n.Actions=t.Actions,n.invokeEventCallback("load"),n.invokeEventCallback("show",{$event:{type:"show"}})),a()});else this.Widgets=this.viewParent.Widgets,this.Variables=this.viewParent.Variables,this.Actions=this.viewParent.Actions,this.invokeEventCallback("show",{$event:{type:"show"}})},e.prototype.hidePopover=function(){var e=this;this.closePopoverTimeout=setTimeout(function(){return e.isOpen=!1},500)},e.prototype.showPopover=function(){this.bsPopoverDirective.show()},e.prototype.onPopoverAnchorKeydown=function(e){this.canPopoverOpen&&("enter"===this.keyEventPlugin.constructor.getEventFullKey(event)&&(e.stopPropagation(),this.showPopover()))},e.prototype.onPropertyChange=function(e,t,i){"class"!==e&&"tabindex"!==e&&("contentsource"===e&&("partial"!==this.contentsource||this.content||(this.canPopoverOpen=!1)),"content"===e&&t&&(this.canPopoverOpen=!0),a.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.ngOnInit=function(){a.prototype.ngOnInit.call(this),this.event=Rr[this.interaction]},e.prototype.ngAfterViewInit=function(){a.prototype.ngAfterViewInit.call(this),ue(this.anchorRef.nativeElement,this)},e.initializeProps=void ge("wm-popover",new Map([["badgevalue",be],["caption",y({value:"Link"},be)],["class",be],["conditionalclass",Ee],["content",be],["contentanimation",be],["contentsource",y({value:"partial"},be)],["encodeurl",Ce],["hint",be],["hyperlink",be],["iconclass",be],["iconheight",be],["iconmargin",be],["iconposition",be],["iconurl",be],["iconwidth",be],["interaction",y({value:"click"},be)],["name",be],["popoverarrow",y({value:!0},Ce)],["popoverheight",be],["popoverplacement",y({value:"bottom"},be)],["popoverwidth",be],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",be]])),e.decorators=[{type:h.Component,args:[{selector:"wm-popover",template:'<a [popover]="popoverTemplate"\n   [popoverContext]="context"\n   [popoverTitle]="title"\n   [placement]="popoverplacement"\n   [outsideClick]="true"\n   [triggers]="event"\n   (onShown)="onShown()"\n   (onHidden)="onHidden()"\n   containerClass="app-popover animated {{contentanimation}} {{popoverContainerCls}}"\n   container="body"\n   [isOpen]="isOpen"\n   [tabindex]="tabindex"\n   [name]="name"\n   [class] = "class"\n   [ngClass]="{\'disable-popover\': !canPopoverOpen}"\n\n   #anchor\n   name.bind="name"\n   wmAnchor\n   animation.bind="animation"\n   badgevalue.bind="badgevalue"\n   caption.bind="caption"\n   encodeurl.bind="encodeurl"\n   hint.bind="hint"\n   hyperlink.bind="hyperlink"\n   iconurl.bind="iconurl"\n   iconwidth.bind="iconwidth"\n   iconheight.bind="iconheight"\n   iconmargin.bind="iconmargin"\n   iconclass.bind="iconclass"\n   iconposition.bind="iconposition"\n   shortcutkey.bind="shortcutkey"\n   tabindex.bind="tabindex"\n   (keydown)="onPopoverAnchorKeydown($event)">\n</a>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.App},{type:undefined,decorators:[{type:h.Inject,args:[c.EVENT_MANAGER_PLUGINS]}]}]},e.propDecorators={bsPopoverDirective:[{type:h.ViewChild,args:[d.PopoverDirective]}],anchorRef:[{type:h.ViewChild,args:["anchor"]}],popoverTemplate:[{type:h.ContentChild,args:[h.TemplateRef]}],partialRef:[{type:h.ContentChild,args:["partial"]}]},e}($e),Fr=new Map([["class",y({value:""},be)],["name",be],["show",y({value:!0},Ce)]]),Mr=new Set,Nr=function(r){function e(e,t,i,n){var a=this,o="wm-prefab-"+n,s={widgetType:o,hostClass:"app-prefab"};return(a=r.call(this,e,s,new Promise(function(e){return a.propsReady=e}))||this).prefabName=n,a.widgetType=o,a.name=t.nativeElement.getAttribute("name"),ue(a.nativeElement,a),a.registerReadyStateListener(function(){r.prototype.onPropertyChange.call(a,"name",a.name)}),a}return v(e,r),e.prototype.onStyleChange=function(e,t,i){"height"===e&&x.setCSS(this.nativeElement,"overflow","auto")},e.prototype.setProps=function(e){e&&e.properties&&(Mr.has(this.widgetType)||ge(this.widgetType,this.prepareProps(e.properties)),this.propsReady())},e.prototype.handleEvent=function(){},e.prototype.prepareProps=function(e){void 0===e&&(e={});var o=new Map(Fr);return Object.entries(e).forEach(function(e){var t=C(e,2),i=t[0],n=t[1],a=g.PROP_TYPE.STRING;"boolean"===n.type?a=g.PROP_TYPE.BOOLEAN:"number"===n.type?a=g.PROP_TYPE.NUMBER:"string"!==n.type&&(a=n.type),o.set(i,{type:a,value:_.startsWith(n.value,"bind:")?undefined:n.value})}),Mr.add(this.widgetType),o},e.decorators=[{type:h.Directive,args:[{selector:"section[wmPrefab]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ElementRef},{type:h.ChangeDetectorRef},{type:undefined,decorators:[{type:h.Attribute,args:["prefabname"]}]}]},e}($e),$r={widgetType:"wm-radioset",hostClass:"app-radioset list-group"},Vr=function(a){function e(e){var t=a.call(this,e,$r)||this;return t.layout="",ue(t.nativeElement,t),t.multiple=!1,t}return v(e,a),e.prototype.onRadioLabelClick=function(e,t){$(e.target).is("input")&&(this.modelByKey=t,this.invokeOnTouched(),this.invokeOnChange(this.datavalue,e||{},!0))},e.prototype.handleEvent=function(e,t,i,n){"click"===t?this.eventManager.addEventListener(e,t,function(e){if($(e.target).is("input"))return n.$event=e,i()}):_.includes(["change"],t)||a.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("layout"===e?x.switchClass(this.nativeElement,t,i):a.prototype.onPropertyChange.call(this,e,t,i))},e.initializeProps=void ge("wm-radioset",Uo),e.decorators=[{type:h.Component,args:[{selector:"[wmRadioset]",exportAs:"wmRadioset",template:'<li [ngClass]="[\'radio\', \'app-radio\', itemclass]"\n    [class.active]="item.selected"\n    *ngFor="let item of datasetItems;let i = index"\n    (click)="onRadioLabelClick($event, item.key)">\n    <label class="app-radioset-label"\n           [ngClass]="{\'disabled\':disabled || readonly}"\n           [title]="item.label">\n        <input [name]="\'radioset_\' + widgetId" type="radio" [attr.aria-checked]="item.selected" [attr.data-attr-index]="i"\n               [value]="item.key" [disabled]="disabled || readonly" [tabindex]="tabindex" [checked]="item.selected"/>\n        <span class="caption" [textContent]="item.label"></span>\n    </label>\n</li>\n\n<input [disabled]="disabled || readonly" hidden class="model-holder">\n<div *ngIf="readonly || disabled" aria-readonly="true" class="readonly-wrapper"></div>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}(da),Br={widgetType:"wm-richtexteditor",hostClass:"app-richtexteditor clearfix"},Wr=$.summernote.ui.button.bind($.summernote);$.summernote.ui.button=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Wr.apply(void 0,E(e)),n=i.callback;return i.callback=function(e,t){return e.addClass("btn"),n(e,t)},i};var jr=function(a){function e(e,t,i){var n=a.call(this,e,Br)||this;return n.domSanitizer=t,n.ngZone=i,n._operationStack=[],n.isEditorLoaded=!1,n.EDITOR_DEFAULT_OPTIONS={toolbar:[["misc",["undo","redo"]],["style",["style"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["height",["height"]],["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["color",["color"]],["insert",["table","picture","link","video","hr"]],["para",["ul","ol","paragraph"]],["misc",["codeview","fullscreen","help"]]],callbacks:{onInit:function(){n.isEditorLoaded=!0,n._operationStack.length&&(n._operationStack.forEach(function(e){var t=Array.from(e.keys())[0],i=e.get(t);n.performEditorOperation(t,i)}),n._operationStack=[])},onChange:function(e,t){var i;n.proxyModel=n.domSanitizer.sanitize(h.SecurityContext.HTML,e.toString()),n.invokeOnChange(e,("function"==typeof Event?i=new Event("change"):(i=document.createEvent("Event")).initEvent("change",!0,!0),i),!0),n.invokeOnTouched()}},fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Merriweather"],placeholder:"",height:100,disableResizeEditor:!0},ue(n.nativeElement,n,g.APPLY_STYLES_TYPE.CONTAINER,["height"]),n}return v(e,a),Object.defineProperty(e.prototype,"htmlcontent",{get:function(){return this.performEditorOperation("code")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datavalue",{get:function(){return this.htmlcontent},set:function(e){e!==undefined&&null!==e&&(this.$hiddenInputEle.val(e),this.performEditorOperation("reset"),this.performEditorOperation("insertText",e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.$richTextEditor=$(this.nativeElement.querySelector("[richTextEditor]")),this.$hiddenInputEle=$(this.nativeElement.querySelector("input.model-holder")),a.prototype.ngOnInit.call(this),this.initEditor()},e.prototype.initEditor=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.$richTextEditor.summernote(e.EDITOR_DEFAULT_OPTIONS)})},e.prototype.onPropertyChange=function(e,t,i){"placeholder"===e?(this.EDITOR_DEFAULT_OPTIONS.placeholder=t,this.performEditorOperation({placeholder:t})):"disabled"===e||"readonly"===e?this.performEditorOperation(t?"disable":"enable"):a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.onStyleChange=function(e,t,i){"height"===e&&(this.EDITOR_DEFAULT_OPTIONS.height=t,this.performEditorOperation({height:t}))},e.prototype.performEditorOperation=function(e,t){if(this.isEditorLoaded)return this.$richTextEditor.summernote(e,t);var i=new Map;return i.set(e,t),void this._operationStack.push(i)},e.prototype.getCurrentPosition=function(){return this.performEditorOperation("createRange")},e.prototype.undo=function(){this.performEditorOperation("undo")},e.prototype.focus=function(){this.performEditorOperation("focus")},e.prototype.ngOnDestroy=function(){this.performEditorOperation("destroy"),a.prototype.ngOnDestroy.call(this)},e.initializeProps=void ge("wm-richtexteditor",Ho),e.decorators=[{type:h.Component,args:[{selector:"div[wmRichTextEditor]",template:'<div richTextEditor></div>\n<div [innerHTML]="proxyModel" class="ta-preview" *ngIf="showpreview"></div>\n<input class="model-holder" [disabled]="disabled" hidden>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:c.DomSanitizer},{type:h.NgZone}]},e}(qn),zr={widgetType:"wm-right-panel",hostClass:"app-right-panel"},Ur=function(n){function e(e){var t=n.call(this,e,zr)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,n),e.prototype.onPropertyChange=function(e,t,i){"columnwidth"===e?x.switchClass(this.nativeElement,"col-sm-"+t,i?" col-sm-"+i:""):n.prototype.onPropertyChange.call(this,e,t,i)},e.initializeProps=void ge("wm-right-panel",new Map([["class",be],["columnwidth",we],["content",be],["name",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmRightPanel]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),qr=function(){function e(e,t){this.searchRef=t,this.elementRef=e.get(h.ElementRef)}return e.prototype.ngAfterContentInit=function(){this.elementRef.nativeElement.addEventListener("scroll",this.notifyParent.bind(this)),this.searchRef.dropdownEl=$(this.elementRef.nativeElement),this.searchRef.onDropdownOpen()},e.prototype.ngAfterViewInit=function(){var e=this.searchRef.$element.find("input:first");this.searchRef.dropdownEl.width(e.outerWidth())},e.prototype.notifyParent=function(e){this.searchRef.onScroll(this.elementRef.nativeElement,e)},e.decorators=[{type:h.Directive,args:[{selector:"[scrollable]"}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:ba}]},e}(),Hr={widgetType:"wm-select",hostClass:"app-select-wrapper"},Gr=function(a){function e(e){var t=a.call(this,e,Hr)||this;return t.acceptsArray=!0,t}return v(e,a),Object.defineProperty(e.prototype,"datasource",{set:function(e){e&&e.execute&&e.execute(x.DataSource.Operation.IS_BOUND_TO_LOCALE)&&(this.datavalue=e.execute(x.DataSource.Operation.GET_DEFAULT_LOCALE))},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){a.prototype.ngAfterViewInit.call(this),ue(this.selectEl.nativeElement,this)},e.prototype.handleEvent=function(e,t,i,n){_.includes(["blur","change"],t)||a.prototype.handleEvent.call(this,this.selectEl.nativeElement,t,i,n)},e.prototype.onSelectValueChange=function(e){if(this.readonly)return this.placeholder?this.selectEl.nativeElement.value=this.placeholder:this.selectEl.nativeElement.value="",void(this.datavalue=this.prevDatavalue);this.invokeOnTouched(),this.invokeOnChange(this.datavalue,e||{},!0)},e.prototype.onPropertyChange=function(e,t,i){"class"!==e&&"tabindex"!==e&&("readonly"===e&&(!0===t?x.setAttr(this.selectEl.nativeElement,"readonly","readonly"):x.removeAttr(this.selectEl.nativeElement,"readonly")),a.prototype.onPropertyChange.call(this,e,t,i))},e.initializeProps=void ge("wm-select",Go),e.decorators=[{type:h.Component,args:[{selector:"wm-select",template:'<select role="input" aria-haspopup="true" aria-expanded="false" #select\n        focus-target\n        [ngClass]="[\'app-select form-control\', class]"\n        [disabled]="disabled"\n        [required]="required"\n        [tabindex]="tabindex"\n        [(ngModel)]="modelByKey"\n        [multiple]="multiple"\n        (change)="onSelectValueChange($event)"\n        (blur)="invokeOnTouched($event)"\n        [attr.name]="name"\n        [autofocus]="autofocus"\n>\n  <option selected value="undefined" [textContent]="placeholder" [hidden]="!placeholder" ></option>\n  <option\n          *ngFor="let item of datasetItems"\n          [value]="item.key" [selected]="item.selected" [textContent]="item.label"></option>\n</select>\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={selectEl:[{type:h.ViewChild,args:["select",{read:h.ElementRef}]}]},e}(da),Yr=function(){function e(t,e,i){var n=i.getDisplayType();e&&e.split(",").forEach(function(e){x.addClass(t.nativeElement,"visible-"+e+"-"+n)})}return e.decorators=[{type:h.Directive,args:[{selector:"[showInDevice]"}]}],e.ctorParameters=function(){return[{type:h.ElementRef},{type:String,decorators:[{type:h.Attribute,args:["showInDevice"]}]},{type:Ne,decorators:[{type:h.Inject,args:[k]}]}]},e}(),Kr=function(){function e(e,t,i){this._isEnabled=!1,this._lastScrollY=-1,this._waitRefreshTill=-1,this.pendingIscrolls=[],this._$el=$(t.nativeElement),this.app=i}return e.prototype.ngOnInit=function(){var t=this;this.cancelSubscription=this.app.subscribe("no-iscroll",function(e){t.pendingIscrolls.push(e)})},e.prototype.ngDoCheck=function(){this._isEnabled?this._smoothScrollInstance?this.refreshIScroll():this._smoothScrollInstance=this.applySmoothScroll():this._smoothScrollInstance&&this._smoothScrollInstance.destroy&&this._smoothScrollInstance.destroy()},e.prototype.ngOnDestroy=function(){this._smoothScrollInstance&&this._smoothScrollInstance.destroy&&this._smoothScrollInstance.destroy(),this.cancelSubscription&&this.cancelSubscription()},Object.defineProperty(e.prototype,"wmSmoothscroll",{set:function(e){this._isEnabled=!0===e||"true"===e,this._isEnabled?this._smoothScrollInstance||(this._smoothScrollInstance=this.applySmoothScroll()):this.ngOnDestroy()},enumerable:!0,configurable:!0}),e.prototype.applySmoothScroll=function(e,t){var i=this;if(!x.isMobileApp()||x.isKitkatDevice())return null;var n={scrollbars:!0,preventDefault:!1,momentum:!0,bounce:!1,mouseWheel:!0,disablePointer:!0,disableTouch:!1,disableMouse:!1},a=this._$el[0];if(!a.children.length)return null;this._$el.addClass("smoothscroll-wrapper"),t&&"INPUT"===t.tagName&&t.focus(),e&&(n.fadeScrollbars=!0);var o=new IScroll(a,n);return e&&(_.forEach(e,function(e,t){_.forEach(e,function(e){o.on(t,e)})}),o.on("scrollStart",function(){this._scrolling=!0}),o.on("scrollEnd",function(){this._scrolling=!1}),o.refresh()),o.indicatorRefresh=function(){var e,t=i._$el[0].iscroll.indicators;if(t.length)for(e=0;e<t.length;e++)t[e].refresh()},this._$el[0].iscroll=o,_.forEach(this.pendingIscrolls,function(e,t){if(e.isSameNode(i._$el[0]))return i.app.notify("iscroll-update",{el:e}),void i.pendingIscrolls.splice(t,1)}),this.app.notify("iscroll-update",{}),{iScroll:o,destroy:function(){o.destroy(),$(o.scroller).css({"transition-timing-function":"","transition-duration":"",transform:""}),o=null,delete a.iscroll}}},e.prototype.refreshIScroll=function(){var e=this._smoothScrollInstance.iScroll;if(!(e._scrolling||this._waitRefreshTill>Date.now())){if(e.wrapper&&!_.includes(e.wrapper.children[0].classList,"smoothscroll-container")&&e.wrapper.scrollHeight>e.wrapper.clientHeight){var t=e._events,i=document.activeElement;$(e.wrapper.children).wrapAll('<div class="smoothscroll-container"></div>'),this._smoothScrollInstance.destroy(),this._smoothScrollInstance=this.applySmoothScroll(t,i)}this._lastScrollY!==this._$el[0].iscroll.maxScrollY?(Qr(this._smoothScrollInstance.iScroll),this._lastScrollY=this._$el[0].iscroll.maxScrollY):this._smoothScrollInstance.iScroll.refresh(),this._waitRefreshTill=Date.now()+500}},e.decorators=[{type:h.Directive,args:[{selector:"[wmSmoothscroll]"}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.ElementRef},{type:x.App}]},e.propDecorators={wmSmoothscroll:[{type:h.Input}]},e}(),Qr=function(e){var t=!e&&$(".smoothscroll-container");$(document.activeElement).offset().top+document.activeElement.clientHeight>.9*window.innerHeight&&document.activeElement.scrollIntoView({behavior:"auto",block:"end",inline:"end"}),e?(e.indicatorRefresh&&e.indicatorRefresh(),e.refresh&&e.refresh()):t.length&&t.parent().each(function(e,t){t.iscroll.indicatorRefresh(),t.iscroll.refresh()})};window.addEventListener("resize",x.debounce(Qr,200));var Xr={widgetType:"wm-spinner",hostClass:"app-spinner"},Zr=function(n){function e(e,t){var i=n.call(this,e,Xr)||this;return i.imagePipe=t,i.iconclass="",i.animation="",i.showCaption=!0,ue(i.nativeElement,i),i}return v(e,n),Object.defineProperty(e.prototype,"spinnerMessages",{get:function(){return this._spinnerMessages},set:function(e){this.showCaption=_.isEmpty(e),this._spinnerMessages=e},enumerable:!0,configurable:!0}),e.prototype.listenOnDataSource=function(){var i=this,n=_.split(this.servicevariabletotrack,",");this.getAppInstance().subscribe("toggle-variable-state",function(e){var t=e.variable.execute(x.DataSource.Operation.GET_NAME);_.includes(n,t)&&x.validateDataSourceCtx(e.variable,i.getViewParent())&&(i.widget.show=e.active)})},e.prototype.onPropertyChange=function(e,t,i){"image"===e?this.picture=this.imagePipe.transform(t):"animation"===e?this.animation="spin"===t?"fa-spin":t||"":n.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this.servicevariabletotrack&&(this.widget.show=!1,this.listenOnDataSource())},e.initializeProps=void ge("wm-spinner",new Map([["animation",{value:"spin",PROP_STRING:be}],["caption",y({value:"Loading..."},be)],["class",be],["iconclass",y({value:"fa fa-circle-o-notch fa-spin"},be)],["iconsize",be],["image",be],["imageheight",be],["imagewidth",y({value:"20px"},be)],["name",be],["show",y({value:!0},Ce)],["type",y({value:"icon"},be)],["servicevariabletotrack",be]])),e.decorators=[{type:h.Component,args:[{selector:"[wmSpinner]",template:'<div class="spinner-message" aria-label="loading gif">\n    <span class="spinner-image animated infinite" [ngClass]="animation" aria-hidden="true"\n        [ngStyle]="{width: imagewidth, height: imageheight, backgroundImage: \'url(\' + picture + \')\', backgroundSize: imagewidth}"\n        *ngIf="type === \'image\'"></span>\n    <i class="spinner-image animated infinite" [ngClass]="[iconclass, animation]" [style.fonSize]="iconsize" *ngIf="type === \'icon\'"></i>\n    <span class="spinner-text" [innerHTML]="caption | trustAs: \'html\'" *ngIf="showCaption"></span>\n    <div class="spinner-messages" *ngIf="!showCaption && spinnerMessages">\n        <p *ngFor="let value of spinnerMessages" [textContent]="value"></p>\n    </div>\n</div>',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:hs}]},e}($e),Jr={widgetType:"wm-switch",hostClass:"app-switch"},el=function(a){function e(e){var t=a.call(this,e,Jr)||this;t.options=[],t._debounceSetSelectedValue=x.debounce(function(e){t.setSelectedValue(),t.updateHighlighter(e),e&&x.$appDigest()},200);var i=t.dataset$.subscribe(function(){return t.updateSwitchOptions()});t.registerDestroyListener(function(){return i.unsubscribe()});var n=t.datavalue$.subscribe(function(){t._debounceSetSelectedValue(!0)});return t.registerDestroyListener(function(){return n.unsubscribe()}),t}return v(e,a),e.prototype.ngAfterViewInit=function(){a.prototype.ngAfterViewInit.call(this),ue(this.nativeElement,this)},e.prototype.onStyleChange=function(e,t,i){"height"===e?x.setCSS(this.nativeElement,"overflow",t?"auto":""):a.prototype.onStyleChange.call(this,e,t,i)},e.prototype.setSelectedValue=function(){x.isDefined(this.datavalue)||x.isDefined(this.toBeProcessedDatavalue)?this.selectedItem=_.find(this.datasetItems,{selected:!0}):this.selectOptAtIndex(0)},e.prototype.updateSwitchOptions=function(){this.datasetItems.length&&(this.btnwidth=100/this.datasetItems.length,x.setCSS(this.nativeElement.querySelector(".app-switch-overlay"),"width",this.btnwidth+"%")),this._debounceSetSelectedValue(!0)},e.prototype.updateHighlighter=function(e){var t=$(this.nativeElement).find("span.app-switch-overlay");this.setSelectedValue();var i,n=this.selectedItem?_.findIndex(this.datasetItems,{key:this.selectedItem.key}):-1;n!==undefined&&null!==n||(n=-1),i=n*this.btnwidth,e?t.css("left",i+"%"):t.animate({left:i+"%"},300)},e.prototype.selectOptAtIndex=function(e){if(this.datasetItems.length){var t=this.datasetItems[e];this._modelByValue=t.value}},e.prototype.selectOpt=function(e,t,i){if(this.modelByKey=i.key,this.invokeOnTouched(),e.preventDefault(),!this.disabled){if(this.selectedItem&&t===_.findIndex(this.datasetItems,{key:this.selectedItem.key})){if(2!==this.datasetItems.length)return;t=1===t?0:1}this.selectedItem=this.datasetItems[t],this.updateHighlighter(),this.invokeOnChange(this.datavalue,e||{},!0),x.$appDigest()}},e.prototype.onPropertyChange=function(e,t,i){"disabled"!==e||x.toBoolean(t)?a.prototype.onPropertyChange.call(this,e,t,i):this.nativeElement.removeAttribute(e)},e.initializeProps=void ge("wm-switch",Ko),e.decorators=[{type:h.Component,args:[{selector:"[wmSwitch]",template:'<div role="group" aria-label="button switch" class="btn-group btn-group-justified">\n    <a *ngFor="let opt of datasetItems; let $index = index;"\n       [title]="opt.label" focus-target\n       href="javascript:void(0);"\n       class="btn btn-default"\n       [name]="\'wm-switch-\' + opt.key"\n       [ngClass]="{\'selected\': opt.selected, \'disabled\': disabled}"\n       (click)="selectOpt($event, $index, opt)"\n    >\n        <i *ngIf="opt.dataObject && opt.dataObject[iconclass]" aria-hidden="true" [ngClass]="[\'app-icon\', opt.dataObject[iconclass] || opt[\'icon\']]"></i>\n        <span class="caption" [textContent]="opt[displayfield] || opt.label"></span>\n    </a>\n</div>\n<span [title]="selectedItem ? selectedItem.label : modelByKey"\n      class="btn btn-primary app-switch-overlay switch-handle">\n    <i *ngIf="iconclass"\n       class="app-icon {{(selectedItem && selectedItem.dataObject) && selectedItem.dataObject[iconclass]}}"></i>\n    {{selectedItem ? selectedItem.label : modelByKey}}\n</span>\n<input [name]="name" class="model-holder ng-hide" [disabled]="disabled" [value]="modelByKey" [required]="required">\n',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}(da),tl={widgetType:"wm-table-action",hostClass:""},il=function(n){function e(e,t){var i=n.call(this,e,tl)||this;return i.table=t,i}return v(e,n),e.prototype.populateAction=function(){this.buttonDef={key:this.key,displayName:this["display-name"]||this.caption||"",show:this.show,"class":this["class"]||"",iconclass:this.iconclass||"",title:_.isUndefined(this.title)?this["display-name"]||"":this.title,action:this.action,accessroles:this.accessroles,shortcutkey:this.shortcutkey,disabled:this.disabled,tabindex:this.tabindex,icon:this.icon,position:this.position,widgetType:this["widget-type"],hyperlink:this.hyperlink,target:this.target,conditionalclass:this.conditionalclass||"",conditionalstyle:this.conditionalstyle||{}},this._propsInitialized=!0},e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this.populateAction(),this.table.registerActions(this.buttonDef)},e.prototype.onPropertyChange=function(e,t){this._propsInitialized&&("display-name"===e?this.buttonDef.displayName=t:this.buttonDef[e]=t)},e.initializeProps=void ge("wm-table-action",new Map([["accessroles",be],["action",be],["caption",be],["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["disabled",y({value:!1},Ce)],["display-name",be],["hyperlink",be],["icon",be],["iconclass",be],["key",be],["position",y({value:"footer"},be)],["shortcutkey",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["title",be],["target",be],["widget-type",y({value:"button"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTableAction]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Ps,decorators:[{type:h.Optional}]}]},e}(Ne),nl={widgetType:"wm-table-column-group",hostClass:""},al=function(a){function e(e,t,i){var n=a.call(this,e,nl)||this;return n.group=t,n.table=i,n.config={},n}return v(e,a),e.prototype.populateConfig=function(){this.config={field:this.name,displayName:this.caption||"",columns:[],isGroup:!0,accessroles:this.accessroles,textAlignment:this.textalignment||"center",backgroundColor:this.backgroundcolor,"class":this["col-class"]}},e.prototype.onPropertyChange=function(e,t,i){"caption"===e?(this.config.displayName=t||"",this.table.callDataGridMethod("setColumnProp",this.config.field,"displayName",t,!0)):a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngOnInit=function(){a.prototype.ngOnInit.call(this),this.populateConfig(),io(this.table.headerConfig,this.config,this.group&&this.group.name)},e.initializeProps=void ge("wm-table-column-group",new Map([["backgroundcolor",be],["caption",be],["col-class",be],["name",be],["textalignment",y({value:"center"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTableColumnGroup]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:e,decorators:[{type:h.SkipSelf},{type:h.Optional}]},{type:Ps,decorators:[{type:h.Optional}]}]},e}(Ne),ol={widgetType:"wm-table-column",hostClass:""},sl=["datafield","displayfield","placeholder","searchkey","matchmode","displaylabel","checkedvalue","uncheckedvalue","showdropdownon","dataset"],rl=["maxchars","regexp","minvalue","maxvalue","required"];sl=E(sl,rl);var ll=function(){function e(e){this.widget=e}return e.prototype.focus=function(){this.widget.focus()},e.prototype.setProperty=function(e,t){e="value"===e?"datavalue":e,this.widget[e]=t},e.prototype.getProperty=function(e){return e="value"===e?"datavalue":e,this.widget[e]},e}(),cl=function(r){function e(e,t,i,n,a,o){var s=r.call(this,e,ol)||this;return s.appDefaults=t,s.table=i,s.group=n,s.bindfilterdataset=a,s.binddataset=o,s._debounceSetUpValidators=x.debounce(s.setUpValidators.bind(s,"inlineInstance"),250),s._debounceSetUpValidatorsNew=x.debounce(s.setUpValidators.bind(s,"inlineInstanceNew"),250),s}return v(e,r),Object.defineProperty(e.prototype,"dataoptions",{get:function(){return this._dataoptions},set:function(e){this._dataoptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datasource",{get:function(){return this._datasource},set:function(e){this._datasource=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){r.prototype.ngOnInit.call(this),this.populateFieldDef(),io(this.table.headerConfig,{field:this.field,displayName:this.displayName},this.group&&this.group.name),this.table.registerColumns(this.widget),this._isRowFilter="multicolumn"===this.table.filtermode&&this.searchable,this._isInlineEditable=!this.readonly&&this.table.editmode!==eo&&this.table.editmode!==Ja,this._isNewEditableRow=this._isInlineEditable&&this.table.editmode===Xa&&this.table.shownewrow,this.setUpControls(),this._propsInitialized=!0},e.prototype.ngAfterContentInit=function(){var t=this;if(this._isRowFilter){var e=this._filterInstances.changes.subscribe(function(e){t.filterInstance=e.first&&e.first.widget,t.setUpFilterWidget()});this.registerDestroyListener(function(){return e.unsubscribe()})}if(this._isInlineEditable){var i=this._inlineInstances.changes.subscribe(function(e){t.inlineInstance=e.first&&e.first.widget,t.table.registerFormField(t.binding,new ll(t.inlineInstance)),t.setUpInlineWidget("inlineInstance")});if(this.registerDestroyListener(function(){return i.unsubscribe()}),this._isNewEditableRow){var n=this._inlineInstancesNew.changes.subscribe(function(e){t.inlineInstanceNew=e.first&&e.first.widget,t.setUpInlineWidget("inlineInstanceNew")});this.registerDestroyListener(function(){return n.unsubscribe()})}}r.prototype.ngAfterContentInit.call(this)},e.prototype.ngAfterViewInit=function(){this.filterTemplateRef&&this.table.renderDynamicFilterColumn(this.filterTemplateRef)},e.prototype.addFormControl=function(e){var t=e?this.binding+e:this.binding;this.table.ngform.addControl(t,this.table.fb.control(""))},e.prototype.getFormControl=function(e){var t=e?this.binding+e:this.binding;return this.table.ngform.controls[t]},e.prototype.setUpControls=function(){if(this._isInlineEditable){if(this.editWidgetType===x.FormWidgetType.UPLOAD)return;this.addFormControl();var e=this.getFormControl();if(e){var t=e.valueChanges.subscribe(this.onValueChange.bind(this));this.registerDestroyListener(function(){return t.unsubscribe()})}if(this._isNewEditableRow){this.addFormControl("_new");var i=this.getFormControl("_new");if(i){var n=i.valueChanges.subscribe(this.onValueChange.bind(this));this.registerDestroyListener(function(){return n.unsubscribe()})}}}if(this._isRowFilter&&(this.addFormControl("_filter"),this.filterControl=this.getFormControl("_filter"),this.filterControl)){var a=this.filterControl.valueChanges.subscribe(this.onFilterValueChange.bind(this));this.registerDestroyListener(function(){return a.unsubscribe()})}},e.prototype.resetFilter=function(){this.filterControl&&this.filterControl.setValue(""),this.filterwidget===x.FormWidgetType.AUTOCOMPLETE&&(this.filterInstance.query="",this.filterInstance.queryModel="")},e.prototype.onFilterValueChange=function(e){this.table.rowFilter[this.field].value=e},e.prototype.onValueChange=function(e){null!==e&&wt(this.table.datasource,this.widget,this.table.fieldDefs,e,{widget:"edit-widget-type"})},e.prototype.loadFilterData=function(){var t=this;this._isRowFilter&&M(this.filterwidget)&&!this.bindfilterdataset&&(this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_DISTINCT_API)?(this.relatedEntityName&&(this.widget["is-related"]=!0,this.widget["lookup-type"]=this.relatedEntityName,this.widget["lookup-field"]=_.last(_.split(this.field,"."))),this.filterwidget===x.FormWidgetType.AUTOCOMPLETE?(this.filterInstance.dataoptions=ct(this.table.datasource,this),this.filterInstance.datasource=this.table.datasource):dt(this.table.datasource,this.widget,"filterwidget").then(function(e){t._filterDataSet=e.data,t.setFilterWidgetDataSet()})):this.registerDestroyListener(x.$watch(this.table.binddataset,this.viewParent,{},function(e){return t.widget.filterdataset=e},G(this.widgetId,"filterdataset"))))},e.prototype.loadInlineWidgetData=function(){if(M(this["edit-widget-type"])&&!this.binddataset&&!this.readonly){var e=this.table.datasource;if(this["related-entity-name"]&&this["primary-key"]){this.isDataSetBound=!0;var t=_.split(this.binding,".");rt(e,this.widget,{relatedField:_.head(t),datafield:_.last(t),widget:"edit-widget-type"})}else e.execute(x.DataSource.Operation.SUPPORTS_DISTINCT_API)&&ht(e,this.widget,{widget:"edit-widget-type"})}},e.prototype.onDataSourceChange=function(){this.loadFilterData(),this.loadInlineWidgetData()},e.prototype.setFilterWidgetDataSet=function(){this.filterInstance&&(this.filterInstance.dataset=this._filterDataSet)},e.prototype.setUpFilterWidget=function(){var t=this;this.filterInstance.registerReadyStateListener(function(){if(M(t.filterwidget)){var e=_.last(t.binding.split("."));t.filterInstance.dataset=t._filterDataSet,t.filterInstance.datafield=t.filterdatafield||e,t.filterInstance.displayfield=t.filterdisplayfield||e,t.filterwidget===x.FormWidgetType.AUTOCOMPLETE&&(t.filterInstance.displaylabel=t.filterdisplaylabel||e,t.filterInstance.searchkey=t.filtersearchkey||e)}t.filterwidget===x.FormWidgetType.TIME&&(t.filterInstance.timepattern=t.appDefaults.timeFormat||"hh:mm:ss a"),t.filterInstance.placeholder=t.filterplaceholder||""})},e.prototype.setUpValidators=function(e){var t=this.getFormControl("inlineInstanceNew"===e?"_new":undefined);if(t){var i=[];this.required&&(this.editWidgetType===x.FormWidgetType.CHECKBOX||this.editWidgetType===x.FormWidgetType.TOGGLE?i.push(p.Validators.requiredTrue):i.push(p.Validators.required)),this.maxchars&&i.push(p.Validators.maxLength(this.maxchars)),this.minvalue&&i.push(p.Validators.min(this.minvalue)),this.maxvalue&&i.push(p.Validators.max(this.maxvalue)),this.regexp&&i.push(p.Validators.pattern(this.regexp)),this[e]&&_.isFunction(this[e].validate)&&i.push(this[e].validate.bind(this[e])),t.setValidators(i),t.updateValueAndValidity()}},e.prototype.setInlineWidgetProp=function(e,t,i){"datepattern"===t&&this.editWidgetType===x.FormWidgetType.TIME&&(t="timepattern"),this[e]&&x.isDefined(i)&&(this[e][t]=i),rl.includes(t)&&(this._debounceSetUpValidators(),this._debounceSetUpValidatorsNew())},e.prototype.setUpInlineWidget=function(t){var i=this;this[t].registerReadyStateListener(function(){M(i["edit-widget-type"])&&(i[t].dataset=i.dataset),sl.forEach(function(e){i.setInlineWidgetProp(t,e,i[e])}),i[t].datasource=i._datasource,i[t].dataoptions=i._dataoptions,i.setInlineWidgetProp(t,"datepattern",i.editdatepattern)})},e.prototype.getStyleDef=function(){return"width: "+(this.width||"")+"; background-color: "+(this.backgroundcolor||"")+"; color: "+(this.textcolor||"")+";"},e.prototype.populateFieldDef=function(){var e,t,i;if(this.width="px"===this.width?"":this.width||"",this.field=this.binding,this.displayName=this.caption||"",this.pcDisplay=this.pcdisplay,this.mobileDisplay=this.mobiledisplay,this.textAlignment=this.textalignment,this.backgroundColor=this.backgroundcolor,this.textColor=this.textcolor,this.primaryKey=this["primary-key"],this.relatedEntityName=this["related-entity-name"],this.style=this.getStyleDef(),this["class"]=this["col-class"],this.ngclass=this["col-ng-class"],this.formatpattern="toNumber"===this.formatpattern?"numberToString":this.formatpattern,this.searchable="blob"!==this.type&&"clob"!==this.type&&this.searchable,this.limit=this.limit?+this.limit:undefined,this.editWidgetType=this["edit-widget-type"]=this["edit-widget-type"]||((e=this)["related-entity-name"]&&e["primary-key"]?x.FormWidgetType.SELECT:oo[e.type]&&oo[e.type][0]||x.FormWidgetType.TEXT),this.filterOn=this["filter-on"],this.readonly=x.isDefined(this.getAttr("readonly"))?"true"===this.getAttr("readonly"):this["related-entity-name"]?!this["primary-key"]:_.includes(["identity","uniqueid","sequence"],this.generator),this.filterwidget=this.filterwidget||(t=this.type||"string",i=oo[t]&&oo[t][0],t===x.DataType.BOOLEAN&&(i=x.FormWidgetType.SELECT),_.includes([x.FormWidgetType.TEXT,x.FormWidgetType.NUMBER,x.FormWidgetType.SELECT,x.FormWidgetType.AUTOCOMPLETE,x.FormWidgetType.DATE,x.FormWidgetType.TIME,x.FormWidgetType.DATETIME],i)?i:x.FormWidgetType.TEXT),this.isFilterDataSetBound=!!this.bindfilterdataset,this.defaultvalue=so(this.defaultvalue,this.type,this.editWidgetType),x.isDateTimeType(this.type)&&"toDate"===this.formatpattern&&!this.datepattern){var n=x.getDisplayDateTimeFormat(this.type);this.type===x.DataType.DATE?this.datepattern=this.appDefaults.dateFormat||n:this.type===x.DataType.TIME?this.datepattern=this.appDefaults.timeFormat||n:this.type!==x.DataType.TIMESTAMP&&this.type!==x.DataType.DATETIME||(this.datepattern=this.appDefaults.dateTimeFormat||n)}},e.prototype.onPropertyChange=function(e,t,i){if(this._propsInitialized){switch(e){case"caption":this.displayName=t||"",this.setProperty("displayName",this.displayName);break;case"defaultvalue":this.defaultvalue=so(this.defaultvalue,this.type,this.editWidgetType);break;case"show":this.table.redraw(!0);break;case"filterdataset":this._filterDataSet=t,this.setFilterWidgetDataSet();break;case"editdatepattern":this.setInlineWidgetProp("inlineInstance","datepattern",t),this.setInlineWidgetProp("inlineInstanceNew","datepattern",t);break;default:sl.includes(e)&&(this.setInlineWidgetProp("inlineInstance",e,t),this.setInlineWidgetProp("inlineInstanceNew",e,t))}r.prototype.onPropertyChange.call(this,e,t,i)}},e.prototype.setProperty=function(e,t){switch(this[e]=t,e){case"displayName":this.table.callDataGridMethod("setColumnProp",this.field,e,t);break;default:this.table.redraw(!0)}},e.initializeProps=void ge("wm-table-column",new Map([["accessroles",be],["backgroundcolor",be],["binding",be],["caption",be],["checkedvalue",be],["col-class",be],["col-ng-class",be],["currencypattern",be],["customExpression",Ce],["datafield",be],["dataoptions",Ee],["dataset",Ee],["datasource",be],["datepattern",be],["debouncetime",y({value:250},we)],["defaultvalue",be],["disabled",Ce],["displayfield",be],["displaylabel",be],["editdatepattern",be],["edit-widget-type",be],["editinputtype",be],["exportexpression",be],["filterdataset",be],["filterdatafield",be],["filterdisplayfield",be],["filterdisplaylabel",be],["filterexpressions",y({value:"{}"},be)],["filtersearchkey",be],["filter-on",be],["filteronfilter",be],["filterplaceholder",be],["filterwidget",be],["filterinputtype",be],["formatpattern",be],["fractionsize",be],["generator",be],["limit",we],["matchmode",be],["maxchars",we],["maxvalue",we],["mobiledisplay",y({value:!0},Ce)],["minvalue",we],["pcdisplay",y({value:!0},Ce)],["period",Ce],["placeholder",be],["prefix",be],["primary-key",Ce],["readonly",Ce],["regexp",Ee],["related-entity-name",be],["required",Ce],["rowactionsposition",be],["searchkey",be],["searchable",y({value:!0},Ce)],["suffix",be],["show",y({value:!0},Ce)],["showdropdownon",y({value:"default"},be)],["sortable",y({value:!0},Ce)],["textalignment",y({value:"left"},be)],["textcolor",be],["type",y({value:"string"},be)],["uncheckedvalue",be],["validationmessage",be],["widget-type",be],["width",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTableColumn]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.AppDefaults},{type:Ps,decorators:[{type:h.Optional}]},{type:al,decorators:[{type:h.Optional}]},{type:undefined,decorators:[{type:h.Attribute,args:["filterdataset.bind"]}]},{type:undefined,decorators:[{type:h.Attribute,args:["dataset.bind"]}]}]},e.propDecorators={_filterInstances:[{type:h.ContentChildren,args:["filterWidget"]}],_inlineInstances:[{type:h.ContentChildren,args:["inlineWidget"]}],_inlineInstancesNew:[{type:h.ContentChildren,args:["inlineWidgetNew"]}],customExprTmpl:[{type:h.ContentChild,args:["customExprTmpl"]}],filterTemplateRef:[{type:h.ContentChild,args:["filterTmpl"]}]},e}(Ne),dl="new",pl="edit",ul="delete",hl=function(){function e(e,t,i){this.table=e,this.dialogService=t,this.app=i,e.initiateSelectItem=this.initiateSelectItem.bind(this),e.updateVariable=this.updateVariable.bind(this),e.updateRecord=this.updateRecord.bind(this),e.deleteRecord=this.deleteRecord.bind(this),e.insertRecord=this.insertRecord.bind(this),e.editRow=this.editRow.bind(this),e.addNewRow=this.addNewRow.bind(this),e.addRow=this.addNewRow.bind(this),e.deleteRow=this.deleteRow.bind(this),e.onRecordDelete=this.onRecordDelete.bind(this),e.hideEditRow=this.hideEditRow.bind(this),e.saveRow=this.saveRow.bind(this),e.cancelRow=this.cancelRow.bind(this)}return e.prototype.selectItemOnSuccess=function(e,t,i){var n=this;setTimeout(function(){t||n.table.selectItem(e,n.table.dataset),x.triggerFn(i)},250)},e.prototype.initiateSelectItem=function(e,t,i,n,a){var o=this;"last"===e&&(n||(this.table.dataNavigator.dataSize+=1),this.table.isNavigationEnabled()||(e="current")),this.table.dataNavigator.calculatePagingValues(),this.table.dataNavigator.navigatePage(e,null,!0,function(){(o.table.isNavigationEnabled()||n)&&o.selectItemOnSuccess(t,i,a)})},e.prototype.updateVariable=function(e,t){var i=this,n=this.table.datasource;if(n&&(n.execute(x.DataSource.Operation.FETCH_DISTINCT_VALUES),!this.table.isNavigationEnabled())){var a=this.table.sortInfo,o=a&&a.direction?a.field+" "+a.direction:"";st(n,{page:1,filterFields:this.table.getFilterFields(this.table.filterInfo),orderBy:o,matchMode:"anywhereignorecase"}).then(function(){x.$appDigest(),i.selectItemOnSuccess(e,!0,t)})}},e.prototype.insertSuccessHandler=function(e,t){if(e.error)this.table.invokeEventCallback("error",{$event:t.event,$operation:dl,$data:e.error}),this.table.toggleMessage(!0,"error",this.table.errormessage||e.error),x.triggerFn(t.error,e);else{if(t.event){var i=$(t.event.target).closest("tr");this.table.callDataGridMethod("hideRowEditMode",i)}this.table.toggleMessage(!0,"success",this.table.insertmessage),this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_CRUD)?(this.table.initiateSelectItem(this.table.getNavigationTargetBySortInfo(),e,undefined,!1,t.callBack),this.updateVariable(e,t.callBack)):this.table.datasource.execute(x.DataSource.Operation.IS_API_AWARE)||this.table.initiateSelectItem(this.table.getNavigationTargetBySortInfo(),e,undefined,!1,t.callBack),x.triggerFn(t.success,e),this.table.invokeEventCallback("rowinsert",{$event:t.event,$data:e,row:e})}},e.prototype.insertRecord=function(t){var i=this,e=this.table.datasource;if(e){var n={row:t.row,skipNotification:!0,period:t.period};if(e.execute(x.DataSource.Operation.SUPPORTS_CRUD)||!e.execute(x.DataSource.Operation.IS_API_AWARE)){if(!e.execute(x.DataSource.Operation.IS_API_AWARE))return e.execute(x.DataSource.Operation.ADD_ITEM,{item:t.row}),void this.insertSuccessHandler(t.row,t);e.execute(x.DataSource.Operation.INSERT_RECORD,n).then(function(e){i.insertSuccessHandler(e,t)},function(e){i.table.invokeEventCallback("error",{$event:t.event,$operation:dl,$data:e}),i.table.toggleMessage(!0,"error",i.table.errormessage||e),x.triggerFn(t.error,e),x.triggerFn(t.callBack,undefined,!0)})}else this.table.invokeEventCallback("rowinsert",{$event:t.event,row:t.row})}},e.prototype.updateSuccessHandler=function(e,t){if(e.error)this.table.invokeEventCallback("error",{$event:t.event,$operation:pl,$data:e.error}),this.table.toggleMessage(!0,"error",this.table.errormessage||e.error),x.triggerFn(t.error,e);else{if(t.event){var i=$(t.event.target).closest("tr");this.table.callDataGridMethod("hideRowEditMode",i)}this.table.toggleMessage(!0,"success",this.table.updatemessage),this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_CRUD)&&(this.table.initiateSelectItem("current",e,undefined,!1,t.callBack),this.updateVariable(e,t.callBack)),x.triggerFn(t.success,e),this.table.invokeEventCallback("rowupdate",{$event:t.event,$data:e,row:e})}},e.prototype.updateRecord=function(t){var i=this,e=this.table.datasource;if(e){var n={row:t.row,prevData:t.prevData,skipNotification:!0,period:t.period};if(e.execute(x.DataSource.Operation.SUPPORTS_CRUD)||!e.execute(x.DataSource.Operation.IS_API_AWARE)){if(!e.execute(x.DataSource.Operation.IS_API_AWARE))return e.execute(x.DataSource.Operation.SET_ITEM,{prevItem:t.prevData,item:t.row}),void this.updateSuccessHandler(t.row,t);e.execute(x.DataSource.Operation.UPDATE_RECORD,n).then(function(e){i.updateSuccessHandler(e,t)},function(e){i.table.invokeEventCallback("error",{$event:t.event,$operation:pl,$data:e}),i.table.toggleMessage(!0,"error",i.table.errormessage||e),x.triggerFn(t.error,e),x.triggerFn(t.callBack,undefined,!0)})}else this.table.invokeEventCallback("rowupdate",{$event:t.event,row:t.row})}},e.prototype.onRecordDelete=function(e){var t;this.table.dataNavigator&&(this.table.dataNavigator.dataSize-=1,this.table.dataNavigator.calculatePagingValues(),t=this.table.dataNavigator.pageCount<this.table.dataNavigator.dn.currentPage?"prev":undefined,this.table.dataNavigator.navigatePage(t,null,!0,function(){setTimeout(function(){x.triggerFn(e)},undefined,!1)}))},e.prototype.deleteSuccessHandler=function(e,t,i,n){t&&t.error?this.table.toggleMessage(!0,"error",this.table.errormessage||t.error):(this.onRecordDelete(n),this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_CRUD)&&this.updateVariable(e,n),this.table.toggleMessage(!0,"success",this.table.deletemessage),this.table.invokeEventCallback("rowdelete",{$event:i,$data:e,row:e}),this.table.invokeEventCallback("rowdeleted",{$event:i,$data:e,row:e}))},e.prototype.deleteFn=function(t){var i=this,e=this.table.datasource;if(e){if(e.execute(x.DataSource.Operation.SUPPORTS_CRUD)||!e.execute(x.DataSource.Operation.IS_API_AWARE)){if(!e.execute(x.DataSource.Operation.IS_API_AWARE))return e.execute(x.DataSource.Operation.REMOVE_ITEM,{item:t.row}),void this.deleteSuccessHandler(t.row,undefined,t.evt,t.callBack);e.execute(x.DataSource.Operation.DELETE_RECORD,{row:t.row,skipNotification:!0,period:t.period}).then(function(e){i.deleteSuccessHandler(e,t.row,t.evt,t.callBack)},function(e){x.triggerFn(t.callBack,undefined,!0),i.table.invokeEventCallback("error",{$event:t.evt,$operation:ul,$data:e}),i.table.toggleMessage(!0,"error",i.table.errormessage||e)})}else this.table.invokeEventCallback("rowdelete",{$event:t.evt,row:t.row});x.triggerFn(t.cancelRowDeleteCallback)}},e.prototype.deleteRecord=function(e){var t=this;if(!this.table.confirmdelete)return this.deleteFn(e),void x.triggerFn(e.cancelRowDeleteCallback);this.dialogService.showAppConfirmDialog({title:this.app.appLocale.MESSAGE_DELETE_RECORD||"Delete Record",iconclass:"wi wi-delete fa-lg",message:this.table.confirmdelete,oktext:this.table.deleteoktext,canceltext:this.table.deletecanceltext,onOk:function(){t.deleteFn(e),t.dialogService.closeAppConfirmDialog()},onCancel:function(){x.triggerFn(e.cancelRowDeleteCallback),t.dialogService.closeAppConfirmDialog()},onOpen:function(){$(".cancel-action").focus()}})},e.prototype.editRow=function(e){var t,i=this;e&&e.target?this.table.callDataGridMethod("toggleEditRow",e,{selectRow:!0,action:"edit"}):"form"===this.table.editmode||"dialog"===this.table.editmode?(t=e||this.table.selectedItems[0],this.table.gridOptions.beforeRowUpdate(t)):setTimeout(function(){(t=i.table.datagridElement.find("tr.active")).length&&i.table.callDataGridMethod("toggleEditRow",undefined,{$row:t,action:"edit"})})},e.prototype.addNewRow=function(){this.table.isGridEditMode||(this.table.callDataGridMethod("addNewRow"),this.table._liveTableParent&&this.table._liveTableParent.addNewRow())},e.prototype.deleteRow=function(e){var t,i=this;e&&e.target?this.table.callDataGridMethod("deleteRowAndUpdateSelectAll",e):setTimeout(function(){t=e||i.table.selectedItems[0],i.deleteRecord({row:t})})},e.prototype.hideEditRow=function(){var e=this.table.datagridElement.find("tr.row-editing");e.length&&this.table.callDataGridMethod("hideRowEditMode",e)},e.prototype.saveRow=function(){this.table.callDataGridMethod("saveRow")},e.prototype.cancelRow=function(){var e=this.table.datagridElement.find("tr.row-editing");e.length&&this.table.callDataGridMethod("cancelEdit",e)},e.decorators=[{type:h.Directive,args:[{selector:"[wmTableCUD]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[Ps]}]},{type:x.AbstractDialogService},{type:x.App}]},e}(),fl=["null","empty","nullorempty","isnotnull","isnotempty"],ml=function(e,t){return x.isDefined(e)&&""!==e?x.isNumberType(t)?_.toNumber(e):t===x.DataType.DATETIME?moment(e).valueOf():_.toString(e).toLowerCase():undefined},gl=function(e,i){var n,a=ml(i.value,i.type);return x.isDefined(a)||_.includes(fl,i.matchMode)?e=e.filter(function(e){var t;switch(n=i.field?ml(_.get(e,i.field),i.type):_.values(e).join(" ").toLowerCase(),i.matchMode){case"start":t=_.startsWith(n,a);break;case"end":t=_.endsWith(n,a);break;case"exact":t=_.isEqual(n,a);break;case"notequals":t=!_.isEqual(n,a);break;case"null":t=_.isNull(n);break;case"isnotnull":t=!_.isNull(n);break;case"empty":t=_.isEmpty(n);break;case"isnotempty":t=!_.isEmpty(n);break;case"nullorempty":t=_.isNull(n)||_.isEmpty(n);break;case"lessthan":t=n<a;break;case"lessthanequal":t=n<=a;break;case"greaterthan":t=a<n;break;case"greaterthanequal":t=a<=n;break;default:t=x.isNumberType(i.type)?_.isEqual(n,a):_.includes(n,a)}return t}):e},vl=function(e,t){var i=t&&t.field;i&&(e[i]={value:t.value,logicalOp:"AND"},t.matchMode&&(e[i].matchMode=t.matchMode))},yl=function(e,t){t.field&&(e[t.field]={value:t.value,matchMode:t.matchMode,type:t.type})},bl=function(){function e(e){(this.table=e)._searchSortHandler=this.searchSortHandler.bind(this),e.getSearchResult=this.getSearchResult.bind(this),e.getSortResult=this.getSortResult.bind(this),e.checkFiltersApplied=this.checkFiltersApplied.bind(this),e.getFilterFields=this.getFilterFields.bind(this),e.onRowFilterChange=this.onRowFilterChange.bind(this),e.onFilterConditionSelect=this.onFilterConditionSelect.bind(this),e.showClearIcon=this.showClearIcon.bind(this),e.clearRowFilter=this.clearRowFilter.bind(this),e.matchModeTypesMap=X(),e.matchModeMsgs=Z(e.appLocale),e.emptyMatchModes=fl,e.getNavigationTargetBySortInfo=this.getNavigationTargetBySortInfo.bind(this),e.refreshData=this.refreshData.bind(this),e.clearFilter=this.clearFilter.bind(this)}return e.prototype.getNavigationTargetBySortInfo=function(){return this.table.sortInfo&&"desc"===this.table.sortInfo.direction&&_.includes(this.table.primaryKey,this.table.sortInfo.field)?"first":"last"},e.prototype.getFilterFields=function(e){var t={};return _.isArray(e)?_.forEach(e,function(e){vl(t,e)}):vl(t,e),t},e.prototype.resetSortStatus=function(e){var t;!_.isEmpty(this.table.sortInfo)&&this.table.datasource&&(t=this.table.sortInfo.field+" "+this.table.sortInfo.direction,(e=this.table.datasource.execute(x.DataSource.Operation.GET_OPTIONS).orderBy||e)&&(e=_.head(_.split(e,","))),t!==e&&(this.table.callDataGridMethod("resetSortIcons"),this.table.sortInfo={},this.table.setDataGridOption("sortInfo",{})))},e.prototype.clearFilter=function(e){var t;this.table.filterInfo={},"multicolumn"===this.table.filtermode?(this.table.fieldDefs.forEach(function(e){e.resetFilter&&e.resetFilter()}),e||this.table.onRowFilterChange()):"search"===this.table.filtermode&&((t=this.table.datagridElement).find('[data-element="dgSearchText"]').val(""),t.find('[data-element="dgFilterValue"]').val(""),e||t.find(".app-search-button").trigger("click"))},e.prototype.checkFiltersApplied=function(e){if(this.table.datasource)return this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_SERVER_FILTER)?(_.isEmpty(this.table.datasource.execute(x.DataSource.Operation.GET_OPTIONS).filterFields)&&_.isEmpty(this.table.filterInfo)&&this.clearFilter(!0),void this.resetSortStatus(e)):void(this.table.datasource.execute(x.DataSource.Operation.IS_PAGEABLE)&&this.resetSortStatus(e))},e.prototype.getSearchResult=function(t,e){return e&&(_.isArray(e)?e.forEach(function(e){t=gl(t,e)}):t=gl(t,e)),t},e.prototype.getSortResult=function(e,t){return t&&t.direction&&(e=_.orderBy(e,t.field,t.direction)),e},e.prototype.handleClientSideSortSearch=function(e,t,i){var n;this.table._isClientSearch=!0,n=this.table.isNavigationEnabled()?x.getClonedObject(this.table.__fullData):x.getClonedObject(this.table.dataset),"search"===i?this.table.filterInfo=e:this.table.sortInfo=e,_.isObject(n)&&!_.isArray(n)&&(n=[n]),n=this.getSearchResult(n,this.table.filterInfo),n=this.getSortResult(n,this.table.sortInfo),this.table.serverData=n,"sort"===i&&this.table.invokeEventCallback("sort",{$event:t,$data:{data:this.table.serverData,sortDirection:this.table.sortInfo.direction,colDef:this.table.columns[this.table.sortInfo.field]}}),this.table.isNavigationEnabled()?(this.table.dataNavigator.dn.currentPage=1,this.table.dataNavigator.setPagingValues(n)):this.table.setGridData(this.table.serverData)},e.prototype.handleSinglePageSearch=function(e){this.table._isPageSearch=!0;var n=x.getClonedObject(this.table.gridData),a=this.table.datagridElement.find("tbody tr.app-datagrid-row");this.table.filterInfo=e,n=this.getSearchResult(n,e),_.forEach(this.table.gridData,function(t,e){var i=$(a[e]);_.find(n,function(e){return _.isEqual(e,t)})?i.show():i.hide()}),n&&n.length?(this.table.callDataGridMethod("setStatus","ready"),this.table.gridfirstrowselect&&!this.table.multiselect&&this.table.callDataGridMethod("selectFirstRow",!0,!0)):(this.table.callDataGridMethod("setStatus","nodata",this.table.nodatamessage),this.table.selecteditem=undefined),this.table.callDataGridMethod("updateSelectAllCheckboxState")},e.prototype.handleServerSideSearch=function(e){var t=this;if(this.table.filterInfo=e,this.table.datasource){var i=this.table.sortInfo,n=i&&i.direction?i.field+" "+i.direction:"",a=this.getFilterFields(e);st(this.table.datasource,{page:1,filterFields:a,orderBy:n}).then(function(){x.$appDigest()},function(){t.table.toggleMessage(!0,"error",t.table.nodatamessage)})}},e.prototype.handleSeverSideSort=function(i,n){var a=this;this.table.gridOptions.sortInfo.field=i.field,this.table.gridOptions.sortInfo.direction=i.direction,this.table.sortInfo=x.getClonedObject(i);var e=i&&i.direction?i.field+" "+i.direction:"",t=this.getFilterFields(this.table.filterInfo);st(this.table.datasource,{page:1,filterFields:t,orderBy:e}).then(function(e){x.$appDigest();var t=e&&e.data?e.data:e;a.table.invokeEventCallback("sort",{$event:n,$data:{data:t,sortDirection:i.direction,colDef:a.table.columns[i.field]}})})},e.prototype.searchHandler=function(e,t,i){var n=x.getClonedObject(e),a=this.table.datasource;if(a){var o={};_.isArray(n)?n.forEach(function(e){yl(o,e)}):yl(o,n),!1!==this.table.invokeEventCallback("beforefilter",{$event:t,$data:o,columns:o})&&(n=[],_.forEach(o,function(e,t){n.push({field:t,matchMode:e.matchMode,type:e.type,value:e.value})}),a.execute(x.DataSource.Operation.SUPPORTS_SERVER_FILTER)?this.handleServerSideSearch(n):a.execute(x.DataSource.Operation.IS_API_AWARE)&&a.execute(x.DataSource.Operation.IS_PAGEABLE)?this.handleSinglePageSearch(n):this.handleClientSideSortSearch(n,t,i))}},e.prototype.sortHandler=function(e,t,i){var n=this.table.datasource;n&&(n.execute(x.DataSource.Operation.IS_PAGEABLE)?this.handleSeverSideSort(e,t):this.handleClientSideSortSearch(e,t,i))},e.prototype.searchSortHandler=function(e,t,i){"search"===i?this.searchHandler(e,t,i):this.sortHandler(e,t,i)},e.prototype.showClearIcon=function(e){var t=this.table.rowFilter[e]&&this.table.rowFilter[e].value;return x.isDefined(t)&&""!==t&&null!==t},e.prototype.clearRowFilter=function(e){this.table.rowFilter&&this.table.rowFilter[e]&&(this.table.columns[e].resetFilter(),this.onRowFilterChange(e))},e.prototype.onFilterConditionSelect=function(e,t){var i=this;this.table.rowFilter[e]=this.table.rowFilter[e]||{},this.table.rowFilter[e].matchMode=t,_.includes(this.table.emptyMatchModes,t)?(this.table.columns[e].resetFilter(),this.table.onRowFilterChange()):x.isDefined(this.table.rowFilter[e].value)&&""!==this.table.rowFilter[e].value?this.table.onRowFilterChange():setTimeout(function(){i.table.columns[e].filterInstance.focus()})},e.prototype.getFilterOnFieldValues=function(e){var o=this;if(this.table.datasource&&this.table.datasource.execute(x.DataSource.Operation.SUPPORTS_DISTINCT_API)){var t=e.field,i=this.table.fullFieldDefs,n=_.filter(i,{filteronfilter:t}),s=_.get(this.table.rowFilter,[t,"value"]);_.forEach(n,function(t){var e=t.filteronfilter,i=t.field,n={},a=t.filterwidget;M(a)&&e!==i&&!t.isFilterDataSetBound&&(n[e]=x.isDefined(s)&&""!==s&&null!==s?{value:s}:{},a===x.FormWidgetType.AUTOCOMPLETE&&t.filterInstance.dataoptions?t.filterInstance.dataoptions.filterFields=n:o.table.datasource.execute(x.DataSource.Operation.GET_DISTINCT_DATA_BY_FIELDS,{fields:i,filterFields:n}).then(function(e){t.filterdataset=e.data}))})}},e.prototype.onRowFilterChange=function(e){var i=this,n=[],a=_.find(this.table.fullFieldDefs,{field:e});_.forEach(this.table.rowFilter,function(e,t){(x.isDefined(e.value)&&""!==e.value||_.includes(i.table.emptyMatchModes,e.matchMode))&&(a&&t===a.field&&(e.type=e.type||a.type,e.matchMode=e.matchMode||_.get(i.table.matchModeTypesMap[e.type],0)),n.push({field:t,value:e.value,matchMode:e.matchMode,type:e.type}))}),this.table.gridOptions.searchHandler(n,undefined,"search"),a&&this.getFilterOnFieldValues(a)},e.prototype.refreshData=function(e){if(this.table.datasource){var t=e?this.table.dataNavigator.dn.currentPage:1,i=this.table.sortInfo,n=i&&i.direction?i.field+" "+i.direction:"",a=this.getFilterFields(this.table.filterInfo);st(this.table.datasource,{page:t,filterFields:a,orderBy:n})}},e.decorators=[{type:h.Directive,args:[{selector:"[wmTableFilterSort]"}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:h.Self},{type:h.Inject,args:[Ps]}]}]},e}(),wl={widgetType:"wm-table-row-action",hostClass:""},Cl={},El=function(a){function e(e,t,i){var n=a.call(this,e,wl)||this;return n.table=t,i[0].editRow=function(e){return n.table.editRow(e)},i[0].deleteRow=function(e){return n.table.deleteRow(e)},i[0].addNewRow=function(e){return n.table.addNewRow(e)},n}return v(e,a),e.prototype.getTitle=function(){return _.isUndefined(this.title)?this["display-name"]||"":this.title},e.prototype.populateAction=function(){this.buttonDef={key:this.key,displayName:this["display-name"]||this.caption||"",show:this.show,"class":this["class"]||"",iconclass:this.iconclass||"",title:this.getTitle(),action:this.action,accessroles:this.accessroles,disabled:this.disabled,tabindex:this.tabindex?+this.tabindex:undefined,widgetType:this["widget-type"]||"button",hyperlink:this.hyperlink,target:this.target,conditionalclass:this.conditionalclass||"",conditionalstyle:this.conditionalstyle||{}}},e.prototype.ngOnInit=function(){a.prototype.ngOnInit.call(this),this.populateAction(),this.table.registerRowActions(this.buttonDef)},e.initializeProps=void ge("wm-table-row-action",new Map([["accessroles",be],["action",be],["caption",be],["class ",y({value:"btn-secondary"},be)],["disabled",y({value:!1},Ce)],["display-name",be],["hyperlink",be],["iconclass",be],["key",be],["show",y({value:!0},Ce)],["tabindex",y({value:0},we)],["target",be],["title",be],["widget-type",y({value:"button"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTableRowAction]",providers:[z(e),{provide:P,useValue:Cl,multi:!0}]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Ps,decorators:[{type:h.Optional}]},{type:Array,decorators:[{type:h.Self},{type:h.Inject,args:[P]}]}]},e}(Ne),xl={widgetType:"wm-table-row",hostClass:""},Dl=function(n){function e(e,t){var i=n.call(this,e,xl)||this;return i.table=t,i}return v(e,n),e.prototype.populateConfig=function(){this.config={closeothers:this.closeothers,content:this.content,columnwidth:this.columnwidth,expandicon:this.expandicon,collapseicon:this.collapseicon,height:this.height,position:this.position}},e.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this.populateConfig(),this.table.registerRow(this.config,this)},e.prototype.onPropertyChange=function(e,t){"content"===e&&this.config&&(this.config.content=this.content)},e.initializeProps=void ge("wm-table-row",new Map([["class",be],["closeothers",y({value:!0},Ce)],["content",be],["columnwidth",y({value:"30px"},be)],["collapseicon",be],["expandicon",be],["height",be],["position",y({value:"0"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTableRow]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:Ps,decorators:[{type:h.Optional},{type:h.SkipSelf}]}]},e}(Ne),kl={widgetType:"wm-textarea",hostClass:"app-input-wrapper"},_l=function(t){function e(e){return t.call(this,e,kl)||this}return v(e,t),e.initializeProps=void ge("wm-textarea",Qo),e.decorators=[{type:h.Component,args:[{selector:"wm-textarea",template:'<textarea class="form-control app-textarea"\n          focus-target\n          role="input"\n          [attr.name]="name"\n          [(ngModel)]="datavalue"\n          [ngModelOptions]="ngModelOptions"\n          [readonly]="readonly"\n          [required]="required"\n          [disabled]="disabled"\n          [maxlength]="maxchars"\n          [attr.tabindex]="tabindex"\n          [attr.placeholder]="placeholder"\n          [attr.accesskey]="shortcutkey"\n          [autofocus]="autofocus"\n          (blur)="handleBlur($event)"\n          (ngModelChange)="handleChange($event)"\n          #textarea\n></textarea>',providers:[j(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={inputEl:[{type:h.ViewChild,args:["textarea"]}],ngModel:[{type:h.ViewChild,args:[p.NgModel]}]},e}(Ra),Il=function(){function e(e){this.elRef=e}return Object.defineProperty(e.prototype,"textContent",{set:function(e){var t=e;e!==undefined&&null!==e||(t=""),this.elRef.nativeElement.textContent=t},enumerable:!0,configurable:!0}),e.decorators=[{type:h.Directive,args:[{selector:"[textContent]"}]}],e.ctorParameters=function(){return[{type:h.ElementRef}]},e.propDecorators={textContent:[{type:h.Input}]},e}(),Pl={widgetType:"wm-tile",hostClass:"app-tile"},Sl=function(i){function e(e){var t=i.call(this,e,Pl)||this;return ue(t.nativeElement,t,g.APPLY_STYLES_TYPE.CONTAINER),t}return v(e,i),e.initializeProps=void ge("wm-tile",new Map([["class",be],["conditionalclass",Ee],["conditionalstyle",Ee],["name",be],["show",y({value:!0},Ce)]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTile]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Tl="CURRENT_TIME",Ol={widgetType:"wm-time",hostClass:"input-group app-timeinput"},Al=function(o){function e(e,t,i,n){var a=o.call(this,e,Ol)||this;return a.ngZone=t,a.appDefaults=i,a.status={isopen:!1},a.keyEventPlugin=n[1],ue(a.nativeElement,a),a.registerDestroyListener(function(){return a.clearTimeInterval()}),a.timepattern=a.appDefaults.timeFormat||x.getDisplayDateTimeFormat(x.FormWidgetType.TIME),a.updateFormat("timepattern"),a}return v(e,o),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.bsTimeValue?this.bsTimeValue.valueOf():undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datavalue",{get:function(){return this.isCurrentTime&&!this.bsTimeValue?Tl:x.getFormattedDate(this.datePipe,this.bsTimeValue,this.outputformat)||""},set:function(e){e?e===Tl?(this.isCurrentTime=!0,this.setTimeInterval()):(this.clearTimeInterval(),this.bsTimeValue=x.getNativeDateObject(e),this.isCurrentTime=!1):(this.bsTimeValue=undefined,this.clearTimeInterval(),this.isCurrentTime=!1),this.invokeOnChange(this.datavalue),x.$appDigest()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return x.getFormattedDate(this.datePipe,this.bsTimeValue,this.timepattern)||""},enumerable:!0,configurable:!0}),e.prototype.onPropertyChange=function(e,t,i){"tabindex"!==e&&("timepattern"===e&&this.updateFormat("timepattern"),"mintime"===e?(this.minTime=x.getNativeDateObject(t),this.mintimeMaxtimeValidation()):"maxtime"===e?(this.maxTime=x.getNativeDateObject(t),this.mintimeMaxtimeValidation()):o.prototype.onPropertyChange.call(this,e,t,i))},e.prototype.mintimeMaxtimeValidation=function(){this.timeNotInRange=this.minTime&&this.maxTime&&(this.bsTimeValue<this.minTime||this.bsTimeValue>this.maxTime),this.invokeOnChange(this.datavalue,undefined,!1)},e.prototype.toggleDropdown=function(e){var t=this;"click"===e.type&&this.invokeEventCallback("click",{$event:e}),e.target&&$(e.target).is("input")&&!this.isDropDownDisplayEnabledOnInput(this.showdropdownon)||(this.ngZone.run(function(){t.status.isopen=!t.status.isopen}),this.addBodyClickListener(this.status.isopen))},e.prototype.preventTpClose=function(e){e.stopImmediatePropagation()},e.prototype.addBodyClickListener=function(e){var t=this;if(e){var i=document.querySelector("body");setTimeout(function(){var e=$(i).find(">bs-dropdown-container .dropdown-menu").get(0);t.deregisterEventListener=x.addEventListenerOnElement(i,e,t.nativeElement,"click",t.isDropDownDisplayEnabledOnInput(t.showdropdownon),function(){t.status.isopen=!1},0,!0)},350)}},e.prototype.onDisplayKeydown=function(e){if(this.isDropDownDisplayEnabledOnInput(this.showdropdownon)){e.stopPropagation();var t=this.keyEventPlugin.constructor.getEventFullKey(e);"enter"===t||"arrowdown"===t?(e.preventDefault(),this.toggleDropdown(e)):this.hideTimepickerDropdown()}else this.hideTimepickerDropdown()},e.prototype.onDisplayTimeChange=function(e){var t=x.getNativeDateObject(e.target.value);this.formatValidation(t,e.target.value)&&(this.invalidDateTimeFormat=!1,this.onTimeChange(t))},e.prototype.onInputBlur=function(e){$(e.relatedTarget).hasClass("bs-timepicker-field")||(this.invokeOnTouched(),this.invokeEventCallback("blur",{$event:e}))},e.prototype.onTimeChange=function(e,t){var i,n,a;t&&(e=x.getNativeDateObject(e.target.value)),e?(this.bsTimeValue=e,this.timeNotInRange=this.minTime&&this.maxTime&&(e<this.minTime||e>this.maxTime)):(this.bsTimePicker&&this.bsTimePicker.min&&this.bsTimePicker.max&&(a=moment(new Date(this.bsTimePicker.min)).format("A"),moment(new Date(this.bsTimePicker.max)).format("A"),i=this.bsTimePicker.hours+":"+(this.bsTimePicker.minutes||0)+":"+(this.bsTimePicker.seconds||0)+(this.bsTimePicker.showMeridian?" "+a:""),n=x.getNativeDateObject(i),this.bsTimePicker.meridian=a,this.timeNotInRange=this.bsTimePicker.min>n||this.bsTimePicker.max<n),this.bsTimeValue=n),this.invokeOnTouched(),this.invokeOnChange(this.datavalue,{},!0)},e.prototype.setTimeInterval=function(){var t=this;this.timeinterval||(this.timeinterval=setInterval(function(){var e=new Date;e.setSeconds(e.getSeconds()+1),t.datavalue=Tl,t.onTimeChange(e)},1e3))},e.prototype.clearTimeInterval=function(){this.timeinterval&&(clearInterval(this.timeinterval),this.timeinterval=null)},e.prototype.setIsTimeOpen=function(e){this.status.isopen=e},e.prototype.handleEvent=function(e,t,i,n){_.includes(["blur","focus","change","click"],t)||o.prototype.handleEvent.call(this,e,t,i,n)},e.prototype.hideTimepickerDropdown=function(){this.invokeOnTouched(),this.status.isopen=!1,this.deregisterEventListener&&this.deregisterEventListener()},e.prototype.isValid=function(e){if(!e){var t=$(this.nativeElement).find("input").val(),i=x.getNativeDateObject(t);if(!this.formatValidation(i,t))return}},e.prototype.onShown=function(){var e=document.querySelectorAll("timepicker");_.forEach(e,function(e){x.addClass(e.parentElement,"app-datetime",!0)}),this.focusTimePickerPopover(this),this.bindTimePickerKeyboardEvents(),x.adjustContainerPosition($("bs-dropdown-container"),this.nativeElement,this.bsDropdown._dropdown,$("bs-dropdown-container .dropdown-menu"))},e.initializeProps=(x.isMobileApp()&&Xo.set("timepattern",y({value:"HH:mm"},be)),void ge("wm-time",Xo)),e.decorators=[{type:h.Component,args:[{selector:"[wmTime]",template:'<ng-container *ngIf="useDatapicker; then timePickerTemplate else nativeTimeTemplate">\n</ng-container>\n\n<ng-template #timePickerTemplate>\n    <div dropdown [isOpen]="status.isopen" (onShown)="onShown()" (onHidden)="hideTimepickerDropdown()" container="body" style="display: inherit">\n        <input class="form-control app-textbox display-input" aria-label="Set the time"\n               focus-target\n               [tabindex]="tabindex"\n               [name]="name"\n               type="text"\n               [value]="displayValue"\n               [disabled]="disabled || readonly || isCurrentTime"\n               [autofocus]="autofocus"\n               [required]="required"\n               [attr.placeholder]="placeholder"\n               [attr.accesskey]="shortcutkey"\n               [required]="required"\n               (click)="toggleDropdown($event)"\n               (focus)="invokeOnFocus($event)"\n               (blur)="onInputBlur($event)"\n               (change)="onDisplayTimeChange($event)"\n               (keydown)="onDisplayKeydown($event)">\n        <span class="input-group-btn dropdown-toggle">\n          <button type="button" class="btn btn-default btn-date" [tabindex]="tabindex" [disabled]="disabled || readonly || isCurrentTime" aria-label="Select time" aria-haspopup="true" aria-expanded="false" (click)="toggleDropdown($event)"><i aria-hidden="true" class="app-icon wi wi-access-time"></i></button>\n        </span>\n        <div *dropdownMenu class="dropdown-menu" (click)="preventTpClose($event)">\n            <timepicker class="model-holder"\n                        [showMeridian]="ismeridian"\n                        [readonlyInput]="isDisabled"\n                        [(ngModel)]="bsTimeValue"\n                        [disabled]="disabled || readonly || isCurrentTime"\n                        [min]="minTime"\n                        [max]="maxTime"\n                        [hourStep]="hourstep"\n                        [minuteStep]="minutestep"\n                        [secondsStep]="secondsstep"\n                        [mousewheel]="true"\n                        [arrowkeys]="true"\n                        (isValid)="isValid($event)"\n                        [showSeconds]="showseconds" (ngModelChange)="onTimeChange($event)"></timepicker>\n        </div>\n    </div>\n</ng-template>\n<ng-template #nativeTimeTemplate>\n    <input type="time" class="form-control app-textbox"\n           role="input"\n           [value]="displayValue"\n           [required]="required"\n           [disabled]="disabled || readonly || isCurrentTime"\n           (change)="onTimeChange($event, true)"\n           (focus)="invokeOnFocus($event)"\n           (blur)="invokeOnTouched($event)">\n</ng-template>\n',providers:[j(e),W(e),z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:h.NgZone},{type:x.AppDefaults},{type:undefined,decorators:[{type:h.Inject,args:[c.EVENT_MANAGER_PLUGINS]}]}]},e.propDecorators={bsTimePicker:[{type:h.ViewChild,args:[d.TimepickerComponent]}]},e}(Wa),Rl={widgetType:"wm-top-nav",hostClass:"app-top-nav"},Ll=function(i){function e(e){var t=i.call(this,e,Rl)||this;return ue(t.nativeElement,t),t}return v(e,i),e.initializeProps=void ge("wm-top-nav",new Map([["name",be],["content",be]])),e.decorators=[{type:h.Directive,args:[{selector:"[wmTopNav]",providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e}($e),Fl={widgetType:"wm-wizardstep",hostClass:"app-wizard-step-content"},Ml=function(n){function e(e,t){var i=n.call(this,e,Fl)||this;return i.ngForm=t,i.status=2,i}return v(e,n),Object.defineProperty(e.prototype,"isCurrent",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.ngForm.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableNext",{get:function(){return!this.disablenext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableDone",{get:function(){return!this.disabledone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enablePrev",{get:function(){return!this.disableprevious},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return 1===this.status},set:function(e){var t=this.active;this.status=1,e&&!t&&(this.invokeEventCallback("load"),this.redrawChildren())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"done",{get:function(){return 3===this.status},set:function(e){e&&(this.status=3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return 2===this.status},set:function(e){e&&(this.status=2)},enumerable:!0,configurable:!0}),e.prototype.onNext=function(e){return this.invokeEventCallback("next",{currentStep:this,stepIndex:e})},e.prototype.onPrev=function(e){return this.invokeEventCallback("prev",{currentStep:this,stepIndex:e})},e.prototype.onSkip=function(e){return this.invokeEventCallback("skip",{currentStep:this,stepIndex:e})},e.prototype.redrawChildren=function(){var e=this;setTimeout(function(){e.reDrawableComponents&&e.reDrawableComponents.forEach(function(e){return e.redraw()})},100)},e.initializeProps=void ge("wm-wizardstep",new Map([["class",be],["enableskip",y({value:!1},Ce)],["iconclass",be],["name",be],["show",y({value:!0},Ce)],["title",y({value:"Step Title"},be)]])),e.decorators=[{type:h.Directive,args:[{selector:"form[wmWizardStep]",providers:[z(e)],exportAs:"wmWizardStep"}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:p.NgForm,decorators:[{type:h.Self}]}]},e.propDecorators={reDrawableComponents:[{type:h.ContentChildren,args:[Ve,{descendants:!0}]}],isCurrent:[{type:h.HostBinding,args:["class.current"]}]},e}(Ne),Nl={widgetType:"wm-wizard",hostClass:"app-wizard panel clearfix"},$l=function(n){function e(e){var t=this,i=x.noop;return ue((t=n.call(this,e,Nl,new Promise(function(e){return i=e}))||this).nativeElement,t,g.APPLY_STYLES_TYPE.SHELL),t.promiseResolverFn=i,t.message={caption:"",type:""},t}return v(e,n),Object.defineProperty(e.prototype,"hasPrevStep",{get:function(){return!this.isFirstStep(this.currentStep)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasNextStep",{get:function(){return!this.isLastStep(this.currentStep)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDoneBtn",{get:function(){if(this.currentStep)return!this.hasNextStep&&this.currentStep.enableDone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enablePrev",{get:function(){if(this.currentStep)return this.currentStep.enablePrev},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableNext",{get:function(){if(this.currentStep)return this.currentStep.enableNext&&this.currentStep.isValid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableDone",{get:function(){if(this.currentStep)return this.currentStep.enableDone&&this.currentStep.isValid},enumerable:!0,configurable:!0}),e.prototype.getNextValidStepFormIndex=function(e){for(var t=e;t<this.steps.length;t++){var i=this.getStepRefByIndex(t);if(i.show)return i}},e.prototype.getPreviousValidStepFormIndex=function(e){for(var t=e;0<=t;t--){var i=this.getStepRefByIndex(t);if(i.show)return i}},e.prototype.getCurrentStepIndex=function(){return this.getStepIndexByRef(this.currentStep)},e.prototype.getStepRefByIndex=function(e){return this.steps.toArray()[e]},e.prototype.getStepIndexByRef=function(e){return this.steps.toArray().indexOf(e)},e.prototype.getStepRefByName=function(t){return this.steps.find(function(e){return e.name===t})},e.prototype.setDefaultStep=function(e){if(e&&e.show){(this.currentStep=e).active=!0,e.isInitialized=!0;for(var t=this.getStepIndexByRef(e)-1;0<=t;){var i=this.getStepRefByIndex(t);i.done=!0,i.isInitialized=!0,t--}}else(e=this.getNextValidStepFormIndex(0))&&this.setDefaultStep(e)},e.prototype.onWizardHeaderClick=function(e,i){var n=this;i.done&&(this.steps.forEach(function(e,t){t<n.getStepIndexByRef(i)?e.done=!0:e.disabled=!0}),this.currentStep=i,this.currentStep.active=!0)},e.prototype.next=function(e){void 0===e&&(e="next");var t,i=this.currentStep,n=this.getCurrentStepIndex();if("skip"===e){if(!1===i.onSkip(n))return}else if("next"===e&&!1===i.onNext(n))return;(t=this.getNextValidStepFormIndex(n+1)).isInitialized=!0,t&&(i.done=!0,t.active=!0,this.currentStep=t)},e.prototype.prev=function(){var e,t=this.currentStep,i=this.getCurrentStepIndex();!1!==t.onPrev(i)&&(e=this.getPreviousValidStepFormIndex(i-1))&&(t.disabled=!0,e.active=!0,this.currentStep=e)},e.prototype.skip=function(){this.next("skip")},e.prototype.done=function(){this.invokeEventCallback("done",{steps:this.steps.toArray()})},e.prototype.cancel=function(){this.invokeEventCallback("cancel",{steps:this.steps.toArray()})},e.prototype.isFirstStep=function(e){return this.steps.first===e},e.prototype.isLastStep=function(e){return this.steps.last===e},e.prototype.onPropertyChange=function(e,t,i){"stepstyle"===e?this.stepClass="justified"===t?"nav-justified":"":"defaultstep"===e?this.setDefaultStep(this.getStepRefByName(t)):n.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngAfterContentInit=function(){n.prototype.ngAfterContentInit.call(this),this.promiseResolverFn()},e.prototype.ngAfterViewInit=function(){n.prototype.ngAfterViewInit.call(this),ue(this.nativeElement.querySelector(".panel-body"),this,g.APPLY_STYLES_TYPE.INNER_SHELL)},e.initializeProps=void ge("wm-wizard",new Map([["actionsalignment",y({value:"right"},be)],["cancelable",y({value:!0},Ce)],["cancelbtnlabel",y({value:"Cancel"},be)],["class",be],["defaultstep",y({value:"none"},be)],["donebtnlabel",y({value:"Done"},be)],["name",be],["nextbtnlabel",y({value:"Next"},be)],["previousbtnlabel",y({value:"Previous"},be)],["show",y({value:!0},Ce)],["stepstyle",y({value:"auto"},be)]])),e.decorators=[{type:h.Component,args:[{selector:"div[wmWizard]",template:'<div class="app-wizard-heading" role="tab">\n    <ul class="app-wizard-steps nav nav-pills {{stepClass}}">\n        <li class="app-wizard-step" *ngFor="let step of steps" [hidden]="!step.show"\n            [ngClass]="{active: step.done, current: step.active, disabled: step.disabled}"\n            (click)="onWizardHeaderClick($event, step)">\n            <a href="javascript:void(0)" [attr.aria-label]="step.title" [attr.title]="step.title">\n                <span class="arrow"></span>\n                <i class="app-icon {{step.iconclass}}" *ngIf="step.iconclass"></i>\n                <span class="step-title" [textContent]="step.title"></span>\n            </a>\n        </li>\n    </ul>\n</div>\n<div class="app-wizard-body panel-body" role="tabpanel">\n    <p wmMessage *ngIf="message.caption" caption.bind="message.caption" type.bind="message.type"></p>\n    <ng-content select="form[wmWizardStep]"></ng-content>\n</div>\n<div class="app-wizard-actions panel-footer {{actionsalignment}}">\n    <a class="app-wizard-skip" name="skipStep_{{name}}" *ngIf="currentStep?.enableskip" title="Skip step" (click)="skip()">Skip &raquo;</a>\n    <div class="app-wizard-actions-right">\n        <button type="button" name="cancelBtn_{{name}}" class="btn app-button btn-secondary" *ngIf="cancelable"\n                (click)="cancel()" [title]="cancelbtnlabel" [textContent]="cancelbtnlabel"></button>\n        <button type="button" name="previousBtn_{{name}}" class="btn app-button btn-secondary"\n                *ngIf="hasPrevStep" (click)="prev()" [disabled]="!enablePrev">\n            <i class="app-icon wi wi-chevron-left"></i>\n            <span class="btn-caption" [textContent]="previousbtnlabel"></span>\n        </button>\n        <button type="button" name="nextBtn_{{name}}" class="btn app-button btn-primary"\n                *ngIf="hasNextStep" (click)="next()" [disabled]="!enableNext">\n            <span class="btn-caption" [textContent]="nextbtnlabel"></span>\n            <i class="app-icon wi wi-chevron-right"></i>\n        </button>\n        <button type="button" name="doneBtn_{{name}}" class="btn app-button btn-success"\n                *ngIf="showDoneBtn" (click)="done()"\n                [disabled]="!enableDone">\n            <i class="app-icon wi wi-done"></i>\n            <span class="btn-caption" [textContent]="donebtnlabel"></span>\n        </button>\n    </div>\n</div>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector}]},e.propDecorators={steps:[{type:h.ContentChildren,args:[Ml]}]},e}($e),Vl=function(){function e(){}return e.decorators=[{type:h.Directive,args:[{selector:"[onFileSelect]"}]}],e}(),Bl={widgetType:"wm-fileupload",hostClass:"app-fileupload"},Wl=function(a){function e(e,t,i){var n=a.call(this,e,Bl)||this;return n.app=t,n.onSelectEvt=i,n.selectedFiles=[],n.fileTransfers={},n.caption="Upload",n.formName="",n.DEFAULT_CAPTIONS={MULTIPLE_SELECT:"Drop your files here.",SELECT:"Select"},n.DEVICE_CONTENTTYPES={IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILES:"files"},n.FILESIZE_MB=1048576,n.CONSTANT_FILE_SERVICE="FileService",n.uploadData={file:undefined,uploadPath:undefined},n.chooseFilter="",n.fileUploadMessage="You can also browse for files",n.uploadedFiles={fileName:"",path:"",length:"",status:""},n.uploadUrl="services",n}return v(e,a),e.prototype.isValidFile=function(e,t,i,n){var a,o;return!t||(o=_.toLower(t).split(","),(_.includes(o,"image/*")||_.includes(o,"image")&&n)&&(a=x.isImageFile(e))||(_.includes(o,"audio/*")||_.includes(o,"audio")&&n)&&(a=x.isAudioFile(e))||(_.includes(o,"video/*")||_.includes(o,"video")&&n)&&(a=x.isVideoFile(e))||_.includes(o,"."+_.toLower(i))&&(a=!0),a)},e.prototype.getValidFiles=function(e){var n=this,a=[],o=[],s=parseFloat(this.maxfilesize)*this.FILESIZE_MB||this.FILESIZE_MB,r=(this.maxfilesize||"1")+"MB";return this.chooseFilter===this.DEVICE_CONTENTTYPES.FILES&&(this.chooseFilter=""),_.forEach(e,function(e){if(!n.isValidFile(e.name,n.chooseFilter,n.getFileExtension(e.name),n._isMobileType)){var t=n.appLocale.LABEL_FILE_EXTENTION_VALIDATION_MESSAGE+" "+n.chooseFilter;n.app.notifyApp(t,"Error");var i={key:"INVALID_FILE_EXTENSION",message:t};return e.error=i,void o.push(e)}if(e.size>s){t=n.appLocale.LABEL_FILE_EXCEED_VALIDATION_MESSAGE+" "+r;n.app.notifyApp(t,"Error");i={key:"INVALID_FILE_SIZE",message:t};return e.error=i,void o.push(e)}a.push(e)}),{validFiles:a,errorFiles:o}},e.prototype.getCaption=function(e,t,i){return _.includes(this.DEFAULT_CAPTIONS,e)?t&&!i?this.DEFAULT_CAPTIONS.MULTIPLE_SELECT:this.DEFAULT_CAPTIONS.SELECT:e},e.prototype.changeServerUploadPath=function(e){this.selectedUploadTypePath=e},e.prototype.getFileExtension=function(e){return e&&_.includes(e,".")?e.substring(e.lastIndexOf(".")+1):"file"},e.prototype.onSelectEventCall=function(e,t){var i=this;this.selectedFiles=t,setTimeout(function(){i.invokeEventCallback("select",{$event:$.extend(e.$files||{},t),selectedFiles:t})})},e.prototype.onFileElemClick=function(){$(".file-input")[0].value=null},e.prototype.onFileSelect=function(e,t){var i,n=this,a=this.getValidFiles(t);t=a.validFiles,_.isEmpty(a.errorFiles)||this.invokeEventCallback("error",{$event:e,files:a.errorFiles}),t.length&&(this.progressObservable=new u.Subject,i=this.invokeEventCallback("beforeselect",{$event:$.extend(e.$files||{},t),files:t}),this.datasource?(this.datasource._progressObservable=this.progressObservable,this.datasource._progressObservable.asObservable().subscribe(function(t){_.forEach(n.selectedFiles,function(e){e.name===t.fileName&&(e.progress=t.progress,100===e.progress?e.status="success":e.status=t.status)})})):this.selectedFiles=t,!1!==i&&this.onSelectEventCall(e,t))},e.prototype.abortFileUpload=function(e){this.datasource.execute(x.DataSource.Operation.CANCEL,e)},e.prototype.onPropertyChange=function(e,t,i){switch(e){case"uploadpath":this.changeServerUploadPath(t);break;case"contenttype":this.chooseFilter=t.split(" ").join(",");break;case"multiple":this.formName=this.name+(this.multiple?"-multiple-fileupload":"-single-fileupload"),this.caption=this.getCaption(this.caption,this.multiple,this._isMobileType);break;case"fileuploadmessage":this.fileUploadMessage=t}a.prototype.onPropertyChange.call(this,e,t,i)},e.prototype.ngOnInit=function(){a.prototype.ngOnInit.call(this)},e.prototype.ngAfterViewInit=function(){ue(this.nativeElement.querySelector(".app-button, .drop-box"),this)},e.initializeProps=void ge("wm-fileupload",new Map([["caption",be],["name",be],["tabindex",we],["multiple",Ce],["fileuploadmessage",be],["show",y({value:!0},Ce)],["disabled",Ce],["contenttype",be],["maxfilesize",we],["iconclass",y({value:"wi wi-file-upload"},be)],["class",be],["uploadpath",y({},be)],["datasource",be],["selectedFiles",be],["destination",be],["filelistheight",we]])),e.decorators=[{type:h.Component,args:[{selector:"[wmFileUpload]",template:'<div class="app-fileupload" init-widget>\n    \x3c!-- drag and drop files UI in web --\x3e\n    <div class="app-multi-file-upload" *ngIf="!_isMobileType && multiple">\n        <div class="drop-box" drag-files="onFileSelect($event,$event.target.files)">\n            <i class="{{iconclass}}"></i>\n            <div class="message">\n                <label [innerHtml]="caption" class="caption"></label>\n                <form class="form-horizontal" name="{{formName}}">\n                    <input class="file-input" aria-label="Select File" type="file" name="files" *ngIf="multiple" [disabled]="disabled" [accept]="chooseFilter" (click)="onFileElemClick()" (change)="onFileSelect($event, $event.target.files)" multiple >\n                    <a href="javascript:void(0);" class="app-anchor">{{fileUploadMessage}}</a>\n                </form>\n            </div>\n        </div>\n    </div>\n    \x3c!-- single file upload in web and single , multiple file upload UI in mobile runmode --\x3e\n    <div class="app-single-file-upload" *ngIf="!_isCordova && (!multiple || _isMobileType)">\n        <div class="app-button-wrapper">\n            <form class="form-horizontal" name="{{formName}}">\n                \x3c!-- support for file upload in Mobileapp in its runmode (Web) --\x3e\n                <input class="file-input" aria-label="Select files" type="file" name="files" *ngIf="multiple" [disabled]="disabled" [accept]="chooseFilter" (click)="onFileElemClick()" (change)="onFileSelect($event, $event.target.files)" multiple>\n                <input class="file-input" aria-label="Select Files" type="file" name="files" *ngIf="!multiple" [disabled]="disabled" [accept]="chooseFilter" (click)="onFileElemClick()" (change)="onFileSelect($event, $event.target.files)" >\n                <button focus-target class="app-button btn btn-default">\n                    <i class="{{iconclass}}" aria-hidden="true"></i>\n                    <span class="caption">{{caption}}</span>\n                </button>\n            </form>\n        </div>\n        <div class="app-files-upload-status single"></div>\n    </div>\n    \x3c!-- support for file upload in Mobile Application (device) --\x3e\n    <button *ngIf="_isCordova" focus-target class="app-button btn btn-default" (click)="openFileSelector()" [disabled]="disabled">\n        <i class="{{iconclass}}"></i>\n        <span class="caption">{{caption}}</span>\n    </button>\n    \x3c!-- list of selectedfiles UI --\x3e\n    <ul class="list-group file-upload" [ngStyle]="{height: filelistheight, overflow: overflow}" *ngIf="selectedFiles.length > 0" >\n        <div *ngFor="let ft of selectedFiles">\n            <li class="list-group-item file-upload-status" *ngIf="ft.status !== \'abort\'">\n                <div class="media upload-file-list">\n                    <div class="media-left media-middle file-icon {{getFileExtension(ft.name) | fileIconClass}}" title="{{getFileExtension(ft.name)}}"></div>\n                    <div class="media-body media-middle file-details">\n                        <p class="uploaddetails">\n                            <label class="upload-title">{{ft.name}}</label><br/>\n                            <span class="filesize" *ngIf="ft.fileLength  !== 0">{{ft.size | filesize:0}}</span>\n                        </p>\n                        <div class="progress" *ngIf="ft.status === \'onProgress\'">\n                            <div class="progress-bar progress-bar-striped progress-bar-info" [ngStyle]="{width: (ft.progress +\'%\')}"></div>\n                        </div>\n                    </div>\n                    <div class="media-right media-middle" *ngIf="ft.status === \'onProgress\' || ft.status === \'queued\'">\n                        <a class="btn btn-transparent file-upload-stop" type="button" (click)="abortFileUpload(ft)">\n                            <i class="wi wi-close"></i>\n                        </a>\n                    </div>\n                    <div class="media-right media-middle"  *ngIf="ft.status === \'success\'">\n                        <span class="status-icon {{ft.status | stateClass }}"></span>\n                    </div>\n                </div>\n            </li>\n        </div>\n    </ul>\n</div>\n',providers:[z(e)]}]}],e.ctorParameters=function(){return[{type:h.Injector},{type:x.App},{type:undefined,decorators:[{type:h.Attribute,args:["select.event"]}]}]},e}($e),jl=[],zl=[],Ul=function(){function e(){this.dialogRefsCollection=new Map,this.appConfirmDialog="_app-confirm-dialog"}return e.prototype.register=function(e,t,i){e&&(this.dialogRefsCollection.get(e)?this.dialogRefsCollection.get(e).set(i,t):this.dialogRefsCollection.set(e,new Map([[i,t]])))},e.prototype.getDialogRefsCollection=function(){return this.dialogRefsCollection},e.prototype.deRegister=function(e,t){e&&this.dialogRefsCollection.get(e)&&this.dialogRefsCollection.get(e)["delete"](t)},e.prototype.getDialogRef=function(i,e){var n,t=this.dialogRefsCollection.get(i);return e?(n=t.get(e))||(e.pageName||e.partialName||e.prefabName?console.error('No dialog with the name "'+i+'" found in the given scope.'):t.forEach(function(e,t){t&&"Common"===t.partialName?n=e:console.error('No dialog with the name "'+i+'" found in the App scope.')})):1===t.size?n=t.entries().next().value[1]:console.error("There are multiple instances of this dialog name. Please provide the Page/Partial/App instance in which the dialog exists."),n},e.prototype.open=function(e,t,i){var n=this.getDialogRef(e,t);n&&n.open(i)},e.prototype.close=function(e,t){var i=this.getDialogRef(e,t);i&&i.close()},e.prototype.closeAllDialogs=function(){_.forEach(jl.reverse(),function(e){e.close()})},e.prototype.showAppConfirmDialog=function(e){this.open(this.getAppConfirmDialog(),undefined,e)},e.prototype.closeAppConfirmDialog=function(){this.close(this.getAppConfirmDialog())},e.prototype.getAppConfirmDialog=function(){return this.appConfirmDialog},e.prototype.setAppConfirmDialog=function(e){this.appConfirmDialog=e},e.prototype.addToOpenedDialogs=function(e){jl.push(e)},e.prototype.getLastOpenedDialog=function(){return jl[jl.length-1]},e.prototype.removeFromOpenedDialogs=function(e){-1!==jl.indexOf(e)&&jl.splice(jl.indexOf(e),1)},e.prototype.getOpenedDialogs=function(){return jl},e.prototype.addToClosedDialogs=function(e){zl.push(e)},e.prototype.removeFromClosedDialogs=function(e){-1!==zl.indexOf(e)&&zl.splice(zl.indexOf(e),1)},e.prototype.getDialogRefFromClosedDialogs=function(){return zl.splice(0,1)[0]},e.decorators=[{type:h.Injectable}],e.ctorParameters=function(){return[]},e}(),ql=[ze,We,Ge,et,Kt,Xt,Jt,gi,Bi,ji,Ui,Hi,jn,Yn,Da,_a,Sa,Oa,Ma,ua,Ca,za,Ga,ko,Po,So,Oo,Ao,Lo,Mo,Do,ts,ns,ss,ls,ds,us,ms,vs,bs,Cs,xs,Wl,Ss,Os,Rs,Fs,Ns,$s,Xs,go,ho,Zs,nr,tr,er,or,Mi,rr,dr,lo,ur,bi,Ke,Xe,fr,Vl,br,Ys,uo,Cr,xr,kr,_r,Ir,Or,Lr,Nr,Sr,Vr,Ve,jr,Ur,qr,ba,Gr,Yr,Kr,Zr,el,il,cl,al,Ps,hl,bl,Dl,El,_l,Il,Sl,Al,Ll,$l,Ml],Hl=[Qn,sa,la,aa,oa,Xn,Zn,Jn,ea,ta,ia,ra,na,as,hs],Gl=d.BsDatepickerModule.forRoot(),Yl=d.DatepickerModule.forRoot(),Kl=d.TimepickerModule.forRoot(),Ql=d.BsDropdownModule.forRoot(),Xl=e.PaginationModule.forRoot(),Zl=d.TypeaheadModule.forRoot(),Jl=d.ProgressbarModule.forRoot(),ec=d.CarouselModule.forRoot(),tc=d.PopoverModule.forRoot(),ic=n.NgCircleProgressModule.forRoot({}),nc=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[Qn,aa,as,hs,s.Location,{provide:x.AbstractDialogService,useClass:Ul}]}},e.decorators=[{type:h.NgModule,args:[{imports:[t.ColorPickerModule,s.CommonModule,p.FormsModule,d.ModalModule,a.SecurityModule,i.TextMaskModule,Gl,Yl,Kl,Ql,Xl,Zl,Jl,ec,tc,ic],declarations:E(ql,Hl),exports:E(ql,Hl),entryComponents:[Mi,rr]}]}],e}();g.dm=Yr,g.de=hs,g.bx=as,g.f=et,g.bh=Wa,g.v=qn,g.w=Un,g.bf=da,g.i=Gt,g.n=$i,g.dy=Il,g.h=Kt,g.k=Jt,g.j=Xt,g.l=gi,g.q=ji,g.r=Ui,g.s=Hi,g.m=Bi,g.t=jn,g.u=Yn,g.be=ua,g.bg=Ca,g.x=Da,g.z=Sa,g.ba=Oa,g.bb=Ma,g.d=Ge,g.e=qe,g.bp=So,g.bq=Oo,g.br=Ao,g.y=_a,g.bo=Po,g.ca=us,g.cz=xr,g.cx=Vl,g.bs=Lo,g.bt=Mo,g.bu=ts,g.cg=Ss,g.bj=Do,g.bi=ko,g.cn=Zs,g.co=nr,g.cp=tr,g.bv=ns,g.bw=ss,g.by=ls,g.bz=ds,g.ci=Os,g.cj=Rs,g.cl=Ns,g.ck=Fs,g.cm=$s,g.bn=ho,g.bl=go,g.cq=er,g.cr=or,g.ct=dr,g.cs=rr,g.o=Mi,g.bk=lo,g.g=Ke,g.p=bi,g.cv=Xe,g.cu=ur,g.cw=fr,g.bm=uo,g.cy=Cr,g.dc=Ir,g.db=_r,g.da=kr,g.dd=Or,g.df=Lr,g.dg=Sr,g.dh=Vr,g.c=Ve,g.di=jr,g.dj=Ur,g.dk=qr,g.dl=Gr,g.dn=Kr,g.do=Zr,g.dp=el,g.dq=il,g.ds=al,g.dr=cl,g.dt=hl,g.du=bl,g.dw=El,g.dv=Dl,g.ch=Ps,g.b=We,g.a=ze,g.bd=Ra,g.cb=ms,g.cc=vs,g.cd=bs,g.bc=La,g.ce=Cs,g.cf=xs,g.dx=_l,g.dz=Sl,g.ea=Ll,g.ec=Ml,g.eb=$l,g.bsDatePickerModule=Gl,g.datepickerModule=Yl,g.timepickerModule=Kl,g.bsDropdownModule=Ql,g.paginationModule=Xl,g.typeaheadModule=Zl,g.progressbarModule=Jl,g.carouselModule=ec,g.popoverModule=tc,g.ngCircleProgressModule=ic,g.WmComponentsModule=nc,g.getObjValueByKey=A,g.getEvaluatedData=R,g.isActiveNavItem=L,g.getOrderByExpr=F,g.isDataSetWidget=M,g.getImageUrl=N,g.getBackGroundImageUrl=V,g.provideAs=B,g.provideAsNgValidators=W,g.provideAsNgValueAccessor=j,g.provideAsWidgetRef=z,g.provideAsDialogRef=U,g.NAVIGATION_TYPE=H,g.getWatchIdentifier=G,g.getMatchModeTypesMap=X,g.getMatchModeMsgs=Z,g.getConditionalClasses=te,g.prepareFieldDefs=se,g.0=O,g.1=ee,g.2=ne,g.3=oe,g.BaseComponent=Ne,g.StylableComponent=$e,g.DateComponent=za,g.DatetimeComponent=Ga,g.FileUploadComponent=Wl,g.LeftPanelDirective=Xs,g.PageDirective=Ys,g.PrefabDirective=Nr,g.PageContentComponent=br,g.SearchComponent=ba,g.TimeComponent=Al,g.propNameCSSKeyMap=re,g.isStyle=le,g.styler=ue,g.WidgetRef=k,g.DialogRef=I,g.Context=P,g.getWidgetPropsByType=me,g.register=ge,g.PROP_STRING=be,g.PROP_NUMBER=we,g.PROP_BOOLEAN=Ce,g.PROP_ANY=Ee,g.DialogServiceImpl=Ul,g.ToDatePipe=Qn,g.ToNumberPipe=Xn,g.ToCurrencyPipe=Zn,g.PrefixPipe=Jn,g.SuffixPipe=ea,g.TimeFromNowPipe=ta,g.NumberToStringPipe=ia,g.StringToNumberPipe=na,g.FilterPipe=aa,g.FileSizePipe=oa,g.FileIconClassPipe=sa,g.StateClassPipe=ra,g.FileExtensionFromMimePipe=la,Object.defineProperty(g,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map